  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.7ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePlanes (20170430105326)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "planes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170430105326"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateLanes (20170430105413)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "lanes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "row" integer, "column" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170430105413"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreatePlanesLanes (20170430105449)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "planes_lanes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "plane_id" integer, "lane_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_planes_lanes_on_plane_id" ON "planes_lanes" ("plane_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_planes_lanes_on_plane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_planes_lanes_on_plane_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_planes_lanes_on_lane_id" ON "planes_lanes" ("lane_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170430105449"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateSeats (20170430105804)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "seats" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "planes_lane_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_seats_on_planes_lane_id" ON "seats" ("planes_lane_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170430105804"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_planes_lanes_on_lane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_planes_lanes_on_lane_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_planes_lanes_on_plane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_planes_lanes_on_plane_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_seats_on_planes_lane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_seats_on_planes_lane_id' AND type='index'



Started GET "/" for ::1 at 2017-04-30 16:34:05 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomeController#index as HTML
  Rendered home/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 329ms (Views: 318.1ms | ActiveRecord: 0.0ms)


Started GET "/assets/jquery_ujs.self-784a997f6726036b1993eb2217c9cb558e1cbb801c6da88105588c56f13b466a.js?body=1" for ::1 at 2017-04-30 16:34:05 +0530


Started GET "/assets/jquery.self-bd7ddd393353a8d2480a622e80342adf488fb6006d667e8b42e4c0073393abee.js?body=1" for ::1 at 2017-04-30 16:34:05 +0530


Started GET "/assets/turbolinks.self-c5acd7a204f5f25ce7a1d8a0e4d92e28d34c9e2df2c7371cd7af88e147e4ad82.js?body=1" for ::1 at 2017-04-30 16:34:05 +0530


Started GET "/assets/application.self-3b8dabdc891efe46b9a144b400ad69e37d7e5876bdc39dee783419a69d7ca819.js?body=1" for ::1 at 2017-04-30 16:34:05 +0530


Started GET "/assets/application.self-e80e8f2318043e8af94dddc2adad5a4f09739a8ebb323b3ab31cd71d45fd9113.css?body=1" for ::1 at 2017-04-30 16:34:05 +0530


Started GET "/" for ::1 at 2017-04-30 16:34:34 +0530
Processing by HomeController#index as HTML
  Rendered home/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 17ms (Views: 15.9ms | ActiveRecord: 0.0ms)


Started GET "/planes/new" for ::1 at 2017-04-30 16:34:39 +0530

LoadError (Unable to autoload constant PlanesController, expected /Users/amitchoudhary/projects/weinvest/weinvest-rails/app/controllers/planes_controller.rb to define it):
  activesupport (4.2.8) lib/active_support/dependencies.rb:495:in `load_missing_constant'
  activesupport (4.2.8) lib/active_support/dependencies.rb:184:in `const_missing'
  activesupport (4.2.8) lib/active_support/inflector/methods.rb:261:in `const_get'
  activesupport (4.2.8) lib/active_support/inflector/methods.rb:261:in `block in constantize'
  activesupport (4.2.8) lib/active_support/inflector/methods.rb:259:in `each'
  activesupport (4.2.8) lib/active_support/inflector/methods.rb:259:in `inject'
  activesupport (4.2.8) lib/active_support/inflector/methods.rb:259:in `constantize'
  activesupport (4.2.8) lib/active_support/dependencies.rb:566:in `get'
  activesupport (4.2.8) lib/active_support/dependencies.rb:597:in `constantize'
  actionpack (4.2.8) lib/action_dispatch/routing/route_set.rb:70:in `controller_reference'
  actionpack (4.2.8) lib/action_dispatch/routing/route_set.rb:60:in `controller'
  actionpack (4.2.8) lib/action_dispatch/routing/route_set.rb:39:in `serve'
  actionpack (4.2.8) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.8) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.8) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.8) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.5) lib/rack/etag.rb:24:in `call'
  rack (1.6.5) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.5) lib/rack/head.rb:13:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.8) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.8) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.8) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.8) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.8) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.8) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.8) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.8) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.8) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.8) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.8) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.8) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.8) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.5) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.5) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.8) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.5) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.8) lib/rails/engine.rb:518:in `call'
  railties (4.2.8) lib/rails/application.rb:165:in `call'
  rack (1.6.5) lib/rack/lock.rb:17:in `call'
  rack (1.6.5) lib/rack/content_length.rb:15:in `call'
  rack (1.6.5) lib/rack/handler/webrick.rb:88:in `service'
  /Users/amitchoudhary/.rvm/rubies/ruby-2.4.1/lib/ruby/2.4.0/webrick/httpserver.rb:140:in `service'
  /Users/amitchoudhary/.rvm/rubies/ruby-2.4.1/lib/ruby/2.4.0/webrick/httpserver.rb:96:in `run'
  /Users/amitchoudhary/.rvm/rubies/ruby-2.4.1/lib/ruby/2.4.0/webrick/server.rb:290:in `block in start_thread'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (6.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (63.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (54.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (120.6ms)


Started GET "/" for ::1 at 2017-04-30 16:34:55 +0530
Processing by HomeController#index as HTML
  Rendered home/index.html.erb within layouts/application (0.2ms)
Completed 200 OK in 15ms (Views: 13.9ms | ActiveRecord: 0.0ms)


Started GET "/planes/new" for ::1 at 2017-04-30 16:34:56 +0530
Processing by PlanesController#new as HTML
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms)

ActionView::MissingTemplate (Missing template planes/new, application/new with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/Users/amitchoudhary/projects/weinvest/weinvest-rails/app/views"
):
  actionview (4.2.8) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.8) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.8) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.8) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.8) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.8) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.8) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.8) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.8) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.8) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.8) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.8) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.8) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.8) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.8) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /Users/amitchoudhary/.rvm/rubies/ruby-2.4.1/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
  activesupport (4.2.8) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.8) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.2.8) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.8) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.8) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.8) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.8) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.8) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.8) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.8) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.8) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.8) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.8) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.8) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.8) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.8) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.8) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.8) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.8) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.8) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.8) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.8) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.8) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.8) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.8) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.8) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.8) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.8) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.8) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.8) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.8) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.5) lib/rack/etag.rb:24:in `call'
  rack (1.6.5) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.5) lib/rack/head.rb:13:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.8) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.8) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.8) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.8) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.8) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.8) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.8) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.8) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.8) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.8) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.8) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.8) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.8) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.5) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.5) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.8) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.5) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.8) lib/rails/engine.rb:518:in `call'
  railties (4.2.8) lib/rails/application.rb:165:in `call'
  rack (1.6.5) lib/rack/lock.rb:17:in `call'
  rack (1.6.5) lib/rack/content_length.rb:15:in `call'
  rack (1.6.5) lib/rack/handler/webrick.rb:88:in `service'
  /Users/amitchoudhary/.rvm/rubies/ruby-2.4.1/lib/ruby/2.4.0/webrick/httpserver.rb:140:in `service'
  /Users/amitchoudhary/.rvm/rubies/ruby-2.4.1/lib/ruby/2.4.0/webrick/httpserver.rb:96:in `run'
  /Users/amitchoudhary/.rvm/rubies/ruby-2.4.1/lib/ruby/2.4.0/webrick/server.rb:290:in `block in start_thread'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.2ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (50.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (42.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (93.9ms)


Started GET "/" for ::1 at 2017-04-30 16:57:58 +0530
Processing by HomeController#index as HTML
  Rendered home/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 44ms (Views: 39.7ms | ActiveRecord: 0.0ms)


Started GET "/planes" for ::1 at 2017-04-30 16:57:59 +0530
Processing by PlanesController#index as HTML
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms)

ActionView::MissingTemplate (Missing template planes/index, application/index with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/Users/amitchoudhary/projects/weinvest/weinvest-rails/app/views"
):
  actionview (4.2.8) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.8) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.8) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.8) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.8) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.8) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.8) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.8) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.8) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.8) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.8) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.8) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.8) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.8) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.8) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /Users/amitchoudhary/.rvm/rubies/ruby-2.4.1/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
  activesupport (4.2.8) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.8) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.2.8) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.8) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.8) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.8) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.8) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.8) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.8) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.8) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.8) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.8) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.8) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.8) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.8) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.8) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.8) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.8) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.8) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.8) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.8) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.8) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.8) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.8) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.8) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.8) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.8) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.8) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.8) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.8) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.8) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.5) lib/rack/etag.rb:24:in `call'
  rack (1.6.5) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.5) lib/rack/head.rb:13:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.8) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.8) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.8) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.8) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.8) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.8) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.8) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.8) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.8) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.8) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.8) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.8) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.8) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.5) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.5) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.8) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.5) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.8) lib/rails/engine.rb:518:in `call'
  railties (4.2.8) lib/rails/application.rb:165:in `call'
  rack (1.6.5) lib/rack/lock.rb:17:in `call'
  rack (1.6.5) lib/rack/content_length.rb:15:in `call'
  rack (1.6.5) lib/rack/handler/webrick.rb:88:in `service'
  /Users/amitchoudhary/.rvm/rubies/ruby-2.4.1/lib/ruby/2.4.0/webrick/httpserver.rb:140:in `service'
  /Users/amitchoudhary/.rvm/rubies/ruby-2.4.1/lib/ruby/2.4.0/webrick/httpserver.rb:96:in `run'
  /Users/amitchoudhary/.rvm/rubies/ruby-2.4.1/lib/ruby/2.4.0/webrick/server.rb:290:in `block in start_thread'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.1ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (63.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (48.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (103.4ms)


Started GET "/planes/new" for ::1 at 2017-04-30 16:58:01 +0530
Processing by PlanesController#new as HTML
  Rendered planes/new.html.erb within layouts/application (0.6ms)
Completed 200 OK in 20ms (Views: 16.3ms | ActiveRecord: 0.0ms)


Started GET "/planes/new" for ::1 at 2017-04-30 16:59:21 +0530
Processing by PlanesController#new as HTML
  Rendered planes/_form.html.erb (5.3ms)
  Rendered planes/new.html.erb within layouts/application (7.0ms)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms)

ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <div>
    2:   <%= form_for @plane do |f| %>
    3:     <%= f.input_field :name %>
    4:   <% end %>
    5: </div>
  app/views/planes/_form.html.erb:2:in `_app_views_planes__form_html_erb___1327516458319948962_70364124087240'
  app/views/planes/new.html.erb:5:in `_app_views_planes_new_html_erb___3082975666258829272_70364120083580'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.6ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.7ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (57.1ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (48.9ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (108.8ms)


Started GET "/planes/new" for ::1 at 2017-04-30 16:59:43 +0530
Processing by PlanesController#new as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)

NameError (uninitialized constant PlanesController::Planew):
  app/controllers/planes_controller.rb:6:in `new'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (56.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (44.2ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (101.0ms)


Started GET "/planes/new" for ::1 at 2017-04-30 16:59:48 +0530
Processing by PlanesController#new as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)

SyntaxError (/Users/amitchoudhary/projects/weinvest/weinvest-rails/app/models/plane.rb:5: syntax error, unexpected tSYMBEG, expecting keyword_do or '{' or '('
  has_many :lanes, through: :planes_lanes
            ^):
  app/models/plane.rb:5: syntax error, unexpected tSYMBEG, expecting keyword_do or '{' or '('
  app/controllers/planes_controller.rb:6:in `new'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (56.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (46.1ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (102.3ms)


Started GET "/planes/new" for ::1 at 2017-04-30 17:00:00 +0530
Processing by PlanesController#new as HTML
  Rendered planes/_form.html.erb (13.7ms)
  Rendered planes/new.html.erb within layouts/application (14.9ms)
Completed 500 Internal Server Error in 39ms (ActiveRecord: 0.5ms)

ActionView::Template::Error (undefined method `input_field' for #<ActionView::Helpers::FormBuilder:0x007ffddb644908>):
    1: <div>
    2:   <%= form_for @plane do |f| %>
    3:     <%= f.input_field :name %>
    4:   <% end %>
    5: </div>
  app/views/planes/_form.html.erb:3:in `block in _app_views_planes__form_html_erb___1327516458319948962_70364124087240'
  app/views/planes/_form.html.erb:2:in `_app_views_planes__form_html_erb___1327516458319948962_70364124087240'
  app/views/planes/new.html.erb:5:in `_app_views_planes_new_html_erb___3082975666258829272_70364120083580'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (54.2ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (42.9ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (98.2ms)


Started GET "/planes/new" for ::1 at 2017-04-30 17:00:15 +0530
Processing by PlanesController#new as HTML
  Rendered planes/_form.html.erb (17.0ms)
  Rendered planes/new.html.erb within layouts/application (18.2ms)
Completed 200 OK in 32ms (Views: 31.3ms | ActiveRecord: 0.0ms)


Started GET "/planes/new" for ::1 at 2017-04-30 17:00:46 +0530
Processing by PlanesController#new as HTML
  Rendered planes/_form.html.erb (14.5ms)
  Rendered planes/new.html.erb within layouts/application (15.6ms)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.0ms)

ActionView::Template::Error (undefined method `label_field' for #<ActionView::Helpers::FormBuilder:0x007ffdd9317408>):
    1: <div>
    2:   <%= form_for @plane do |f| %>
    3:     <%= f.label_field :name %>
    4:     <%= f.text_field :name %>
    5:   <% end %>
    6: </div>
  app/views/planes/_form.html.erb:3:in `block in _app_views_planes__form_html_erb___1327516458319948962_70364123692180'
  app/views/planes/_form.html.erb:2:in `_app_views_planes__form_html_erb___1327516458319948962_70364123692180'
  app/views/planes/new.html.erb:5:in `_app_views_planes_new_html_erb___3082975666258829272_70364120083580'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (13.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (63.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (43.9ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (96.2ms)


Started GET "/planes/new" for ::1 at 2017-04-30 17:01:02 +0530
Processing by PlanesController#new as HTML
  Rendered planes/_form.html.erb (7.7ms)
  Rendered planes/new.html.erb within layouts/application (9.4ms)
Completed 200 OK in 29ms (Views: 28.7ms | ActiveRecord: 0.0ms)


Started GET "/planes/new" for ::1 at 2017-04-30 17:08:08 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by PlanesController#new as HTML
  Rendered planes/_form.html.erb (20.8ms)
  Rendered planes/new.html.erb within layouts/application (25.5ms)
Completed 500 Internal Server Error in 53ms (ActiveRecord: 0.3ms)

ActionView::Template::Error (Invalid association. Make sure that accepts_nested_attributes_for is used for :lanes association.):
     8:       <%= lane_form.text_field :column %>
     9:       <%= lane_form.link_to_remove "Remove this Lane" %>
    10:     <% end %>
    11:     <p><%= f.link_to_add "Add a Lane", :lanes %></p>
    12:     <% end %>
    13: </div>
  app/views/planes/_form.html.erb:11:in `block in _app_views_planes__form_html_erb__3650527881901443756_70266930558140'
  app/views/planes/_form.html.erb:2:in `_app_views_planes__form_html_erb__3650527881901443756_70266930558140'
  app/views/planes/new.html.erb:5:in `_app_views_planes_new_html_erb__1479683576836118568_70266932757180'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.8ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (61.2ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (49.1ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (109.3ms)


Started GET "/planes/new" for ::1 at 2017-04-30 17:08:31 +0530
Processing by PlanesController#new as HTML
  Rendered planes/_form.html.erb (47.6ms)
  Rendered planes/new.html.erb within layouts/application (49.9ms)
Completed 200 OK in 429ms (Views: 412.8ms | ActiveRecord: 1.3ms)


Started GET "/assets/jquery_nested_form.self-d38045d10ebdd28aac44152cb451796232091957b86b47bedad1ab171a3a12cd.js?body=1" for ::1 at 2017-04-30 17:08:32 +0530


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2017-04-30 17:08:32 +0530


Started GET "/planes/new" for ::1 at 2017-04-30 17:08:50 +0530
Processing by PlanesController#new as HTML
  Rendered planes/_form.html.erb (5.5ms)
  Rendered planes/new.html.erb within layouts/application (10.3ms)
Completed 200 OK in 28ms (Views: 26.7ms | ActiveRecord: 0.0ms)


Started GET "/planes/new" for ::1 at 2017-04-30 17:09:25 +0530
Processing by PlanesController#new as HTML
  Rendered planes/_form.html.erb (3.1ms)
  Rendered planes/new.html.erb within layouts/application (4.6ms)
Completed 200 OK in 20ms (Views: 19.4ms | ActiveRecord: 0.0ms)


Started GET "/planes/new" for ::1 at 2017-04-30 17:09:31 +0530
Processing by PlanesController#new as HTML
  Rendered planes/_form.html.erb (4.3ms)
  Rendered planes/new.html.erb within layouts/application (5.5ms)
Completed 200 OK in 23ms (Views: 21.6ms | ActiveRecord: 0.0ms)


Started GET "/planes/new" for ::1 at 2017-04-30 17:09:54 +0530
Processing by PlanesController#new as HTML
  Rendered planes/_form.html.erb (1.8ms)
  Rendered planes/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 20ms (Views: 19.3ms | ActiveRecord: 0.0ms)


Started GET "/planes/new" for ::1 at 2017-04-30 17:10:01 +0530
Processing by PlanesController#new as HTML
  Rendered planes/_form.html.erb (2.9ms)
  Rendered planes/new.html.erb within layouts/application (5.8ms)
Completed 200 OK in 20ms (Views: 18.8ms | ActiveRecord: 0.0ms)


Started GET "/planes/new" for ::1 at 2017-04-30 17:10:03 +0530
Processing by PlanesController#new as HTML
  Rendered planes/_form.html.erb (2.0ms)
  Rendered planes/new.html.erb within layouts/application (3.4ms)
Completed 200 OK in 20ms (Views: 19.2ms | ActiveRecord: 0.0ms)


Started GET "/planes/new" for ::1 at 2017-04-30 17:10:27 +0530
Processing by PlanesController#new as HTML
  Rendered planes/_form.html.erb (5.6ms)
  Rendered planes/new.html.erb within layouts/application (6.7ms)
Completed 200 OK in 21ms (Views: 19.9ms | ActiveRecord: 0.0ms)


Started POST "/planes" for ::1 at 2017-04-30 17:10:31 +0530
Processing by PlanesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"lwsyr2IcOWHW4A4hyf4hmrILPjeef3HQDwYDvvKm5i6VTaUHDR3zAt6surglOtzCkeEyq65dP3b/ux90FWOdug==", "plane"=>{"name"=>""}, "commit"=>"Create Plane"}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms)

ActionView::MissingTemplate (Missing template planes/create, application/create with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/Users/amitchoudhary/projects/weinvest/weinvest-rails/app/views"
):
  actionview (4.2.8) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.8) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.8) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.8) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.8) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.8) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.8) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.8) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.8) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.8) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.8) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.8) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.8) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.8) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.8) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /Users/amitchoudhary/.rvm/rubies/ruby-2.4.1/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
  activesupport (4.2.8) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.8) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.2.8) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.8) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.8) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.8) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.8) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.8) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.8) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.8) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.8) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.8) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.8) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.8) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.8) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.8) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.8) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.8) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.8) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.8) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.8) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.8) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.8) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.8) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.8) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.8) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.8) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.8) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.8) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.8) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.8) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.5) lib/rack/etag.rb:24:in `call'
  rack (1.6.5) lib/rack/conditionalget.rb:38:in `call'
  rack (1.6.5) lib/rack/head.rb:13:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.8) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.8) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.8) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.8) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.8) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.8) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.8) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.8) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.8) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.8) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.8) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.8) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.8) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.5) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.5) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.8) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.5) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.8) lib/rails/engine.rb:518:in `call'
  railties (4.2.8) lib/rails/application.rb:165:in `call'
  rack (1.6.5) lib/rack/lock.rb:17:in `call'
  rack (1.6.5) lib/rack/content_length.rb:15:in `call'
  rack (1.6.5) lib/rack/handler/webrick.rb:88:in `service'
  /Users/amitchoudhary/.rvm/rubies/ruby-2.4.1/lib/ruby/2.4.0/webrick/httpserver.rb:140:in `service'
  /Users/amitchoudhary/.rvm/rubies/ruby-2.4.1/lib/ruby/2.4.0/webrick/httpserver.rb:96:in `run'
  /Users/amitchoudhary/.rvm/rubies/ruby-2.4.1/lib/ruby/2.4.0/webrick/server.rb:290:in `block in start_thread'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.1ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (17.9ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (86.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (2.1ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (63.9ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (145.3ms)


Started GET "/planes/new" for ::1 at 2017-04-30 17:10:42 +0530
Processing by PlanesController#new as HTML
  Rendered planes/_form.html.erb (4.8ms)
  Rendered planes/new.html.erb within layouts/application (6.3ms)
Completed 200 OK in 25ms (Views: 22.9ms | ActiveRecord: 0.0ms)


Started POST "/planes" for ::1 at 2017-04-30 17:10:49 +0530
Processing by PlanesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yZgvRTk2wDAXXNM2WKCK52qL5evJPr7ooTE1utGF7/bL3rjtVjcKUx8QZ6+0ZHe/SWHpd/kc8E5RjClwNkCUYg==", "plane"=>{"name"=>"", "lanes_attributes"=>{"1493552443564"=>{"row"=>"1", "column"=>"2", "_destroy"=>"false"}}}, "commit"=>"Create Plane"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)

ActionView::MissingTemplate (Missing template planes/create, application/create with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/Users/amitchoudhary/projects/weinvest/weinvest-rails/app/views"
):
  actionview (4.2.8) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.8) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.8) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.8) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.8) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.8) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.8) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.8) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.8) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.8) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.8) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.8) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.8) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.8) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.8) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /Users/amitchoudhary/.rvm/rubies/ruby-2.4.1/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
  activesupport (4.2.8) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.8) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.2.8) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.8) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.8) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.8) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.8) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.8) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.8) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.8) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.8) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.8) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.8) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.8) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.8) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.8) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.8) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.8) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.8) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.8) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.8) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.8) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.8) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.8) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.8) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.8) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.8) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.8) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.8) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.8) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.8) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.5) lib/rack/etag.rb:24:in `call'
  rack (1.6.5) lib/rack/conditionalget.rb:38:in `call'
  rack (1.6.5) lib/rack/head.rb:13:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.8) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.8) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.8) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.8) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.8) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.8) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.8) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.8) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.8) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.8) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.8) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.8) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.8) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.5) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.5) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.8) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.5) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.8) lib/rails/engine.rb:518:in `call'
  railties (4.2.8) lib/rails/application.rb:165:in `call'
  rack (1.6.5) lib/rack/lock.rb:17:in `call'
  rack (1.6.5) lib/rack/content_length.rb:15:in `call'
  rack (1.6.5) lib/rack/handler/webrick.rb:88:in `service'
  /Users/amitchoudhary/.rvm/rubies/ruby-2.4.1/lib/ruby/2.4.0/webrick/httpserver.rb:140:in `service'
  /Users/amitchoudhary/.rvm/rubies/ruby-2.4.1/lib/ruby/2.4.0/webrick/httpserver.rb:96:in `run'
  /Users/amitchoudhary/.rvm/rubies/ruby-2.4.1/lib/ruby/2.4.0/webrick/server.rb:290:in `block in start_thread'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.2ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.8ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (56.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (78.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.9ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (148.7ms)


Started POST "/planes" for ::1 at 2017-04-30 17:11:19 +0530
Processing by PlanesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yZgvRTk2wDAXXNM2WKCK52qL5evJPr7ooTE1utGF7/bL3rjtVjcKUx8QZ6+0ZHe/SWHpd/kc8E5RjClwNkCUYg==", "plane"=>{"name"=>"", "lanes_attributes"=>{"1493552443564"=>{"row"=>"1", "column"=>"2", "_destroy"=>"false"}}}, "commit"=>"Create Plane"}
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms)

ActionView::MissingTemplate (Missing template planes/create, application/create with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/Users/amitchoudhary/projects/weinvest/weinvest-rails/app/views"
):
  actionview (4.2.8) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.8) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.8) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.8) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.8) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.8) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.8) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.8) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.8) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.8) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.8) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.8) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.8) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.8) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.8) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /Users/amitchoudhary/.rvm/rubies/ruby-2.4.1/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
  activesupport (4.2.8) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.8) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.2.8) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.8) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.8) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.8) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.8) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.8) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.8) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.8) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.8) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.8) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.8) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.8) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.8) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.8) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.8) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.8) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.8) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.8) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.8) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.8) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.8) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.8) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.8) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.8) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.8) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.8) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.8) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.8) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.8) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.5) lib/rack/etag.rb:24:in `call'
  rack (1.6.5) lib/rack/conditionalget.rb:38:in `call'
  rack (1.6.5) lib/rack/head.rb:13:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.8) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.8) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.8) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.8) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.8) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.8) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.8) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.8) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.8) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.8) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.8) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.8) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.8) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.5) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.5) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.8) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.5) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.8) lib/rails/engine.rb:518:in `call'
  railties (4.2.8) lib/rails/application.rb:165:in `call'
  rack (1.6.5) lib/rack/lock.rb:17:in `call'
  rack (1.6.5) lib/rack/content_length.rb:15:in `call'
  rack (1.6.5) lib/rack/handler/webrick.rb:88:in `service'
  /Users/amitchoudhary/.rvm/rubies/ruby-2.4.1/lib/ruby/2.4.0/webrick/httpserver.rb:140:in `service'
  /Users/amitchoudhary/.rvm/rubies/ruby-2.4.1/lib/ruby/2.4.0/webrick/httpserver.rb:96:in `run'
  /Users/amitchoudhary/.rvm/rubies/ruby-2.4.1/lib/ruby/2.4.0/webrick/server.rb:290:in `block in start_thread'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.1ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (57.1ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (46.6ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (102.3ms)


Started GET "/planes/new" for ::1 at 2017-04-30 17:11:22 +0530
Processing by PlanesController#new as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)

SyntaxError (/Users/amitchoudhary/projects/weinvest/weinvest-rails/app/models/plane.rb:8: syntax error, unexpected tSYMBEG, expecting keyword_do or '{' or '('
es_for :lanes, allow_destroy :true
                              ^):
  app/models/plane.rb:8: syntax error, unexpected tSYMBEG, expecting keyword_do or '{' or '('
  app/controllers/planes_controller.rb:6:in `new'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.8ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (60.6ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (45.6ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (104.4ms)


Started GET "/planes/new" for ::1 at 2017-04-30 17:11:30 +0530
Processing by PlanesController#new as HTML
  Rendered planes/_form.html.erb (16.8ms)
  Rendered planes/new.html.erb within layouts/application (18.1ms)
Completed 200 OK in 46ms (Views: 39.2ms | ActiveRecord: 0.9ms)


Started GET "/planes/new" for ::1 at 2017-04-30 17:11:47 +0530
Processing by PlanesController#new as HTML
  Rendered planes/_form.html.erb (2.0ms)
  Rendered planes/new.html.erb within layouts/application (3.0ms)
Completed 200 OK in 20ms (Views: 19.2ms | ActiveRecord: 0.0ms)


Started GET "/planes/new" for ::1 at 2017-04-30 17:11:57 +0530
Processing by PlanesController#new as HTML
  Rendered planes/_form.html.erb (6.2ms)
  Rendered planes/new.html.erb within layouts/application (7.5ms)
Completed 200 OK in 21ms (Views: 20.2ms | ActiveRecord: 0.0ms)


Started GET "/planes/new" for ::1 at 2017-04-30 17:12:15 +0530
Processing by PlanesController#new as HTML
  Rendered planes/_form.html.erb (2.0ms)
  Rendered planes/new.html.erb within layouts/application (3.0ms)
Completed 200 OK in 18ms (Views: 17.6ms | ActiveRecord: 0.0ms)


Started GET "/planes/new" for ::1 at 2017-04-30 17:12:47 +0530
Processing by PlanesController#new as HTML
  Rendered planes/_form.html.erb (2.2ms)
  Rendered planes/new.html.erb within layouts/application (3.4ms)
Completed 200 OK in 18ms (Views: 16.9ms | ActiveRecord: 0.0ms)


Started GET "/planes/new" for ::1 at 2017-04-30 17:15:12 +0530
Processing by PlanesController#new as HTML
  Rendered planes/_form.html.erb (11.6ms)
  Rendered planes/new.html.erb within layouts/application (13.2ms)
Completed 200 OK in 39ms (Views: 28.8ms | ActiveRecord: 0.9ms)


Started POST "/planes" for ::1 at 2017-04-30 17:15:20 +0530
Processing by PlanesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OX0OxLweiEHtpoKatIiLza0RK3nIozCbSOA/ZXPHABs7O5ls0x9CIuXqNgNYTHaVjvsn5fiBfj24XSOvlAJ7jw==", "plane"=>{"name"=>"test", "lanes_attributes"=>{"1493552715320"=>{"row"=>"1", "column"=>"2", "_destroy"=>"false"}}}, "commit"=>"Create Plane"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.1ms)

NoMethodError (undefined method `plane' for #<Plane id: nil, name: "test", created_at: nil, updated_at: nil>
Did you mean?  lanes):
  app/controllers/planes_controller.rb:10:in `create'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.7ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.8ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (102.8ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (51.8ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (112.8ms)


Started POST "/planes" for ::1 at 2017-04-30 17:15:38 +0530
Processing by PlanesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OX0OxLweiEHtpoKatIiLza0RK3nIozCbSOA/ZXPHABs7O5ls0x9CIuXqNgNYTHaVjvsn5fiBfj24XSOvlAJ7jw==", "plane"=>{"name"=>"test", "lanes_attributes"=>{"1493552715320"=>{"row"=>"1", "column"=>"2", "_destroy"=>"false"}}}, "commit"=>"Create Plane"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
Completed 500 Internal Server Error in 48951ms (ActiveRecord: 1.0ms)

NoMethodError (undefined method `plane' for #<Plane id: nil, name: "test", created_at: nil, updated_at: nil>
Did you mean?  lanes):
  app/controllers/planes_controller.rb:11:in `create'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.7ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (55.1ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (47.2ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (105.3ms)


Started POST "/planes" for ::1 at 2017-04-30 17:16:33 +0530
Processing by PlanesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OX0OxLweiEHtpoKatIiLza0RK3nIozCbSOA/ZXPHABs7O5ls0x9CIuXqNgNYTHaVjvsn5fiBfj24XSOvlAJ7jw==", "plane"=>{"name"=>"test", "lanes_attributes"=>{"1493552715320"=>{"row"=>"1", "column"=>"2", "_destroy"=>"false"}}}, "commit"=>"Create Plane"}
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
Completed 500 Internal Server Error in 2007ms (ActiveRecord: 0.8ms)

NoMethodError (undefined method `plane' for #<Plane id: nil, name: "test", created_at: nil, updated_at: nil>
Did you mean?  lanes):
  app/controllers/planes_controller.rb:12:in `create'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.1ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.9ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (59.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (51.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (113.8ms)


Started POST "/planes" for ::1 at 2017-04-30 17:16:59 +0530
Processing by PlanesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OX0OxLweiEHtpoKatIiLza0RK3nIozCbSOA/ZXPHABs7O5ls0x9CIuXqNgNYTHaVjvsn5fiBfj24XSOvlAJ7jw==", "plane"=>{"name"=>"test", "lanes_attributes"=>{"1493552715320"=>{"row"=>"1", "column"=>"2", "_destroy"=>"false"}}}, "commit"=>"Create Plane"}
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "planes" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "test"], ["created_at", "2017-04-30 11:47:00.435205"], ["updated_at", "2017-04-30 11:47:00.435205"]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "lanes" ("row", "column", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["row", 1], ["column", 2], ["created_at", "2017-04-30 11:47:00.437497"], ["updated_at", "2017-04-30 11:47:00.437497"]]
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "planes_lanes" ("plane_id", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["plane_id", 1], ["lane_id", 1], ["created_at", "2017-04-30 11:47:00.446747"], ["updated_at", "2017-04-30 11:47:00.446747"]]
  [1m[35m (0.8ms)[0m  commit transaction
Redirected to http://localhost:3000/planes
Completed 302 Found in 1218ms (ActiveRecord: 4.0ms)


Started GET "/planes" for ::1 at 2017-04-30 17:17:00 +0530
Processing by PlanesController#index as HTML
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms)

ActionView::MissingTemplate (Missing template planes/index, application/index with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/Users/amitchoudhary/projects/weinvest/weinvest-rails/app/views"
):
  actionview (4.2.8) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.8) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.8) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.8) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.8) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.8) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.8) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.8) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.8) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.8) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.8) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.8) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.8) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.8) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.8) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /Users/amitchoudhary/.rvm/rubies/ruby-2.4.1/lib/ruby/2.4.0/benchmark.rb:308:in `realtime'
  activesupport (4.2.8) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.8) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:43:in `render'
  actionpack (4.2.8) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.8) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.8) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.8) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.8) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.8) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.8) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.8) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.8) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.8) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.8) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.8) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.8) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.8) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.8) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.8) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.8) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.8) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.8) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.8) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.8) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.8) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.8) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.8) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.8) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.8) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.8) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.8) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.8) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.8) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.5) lib/rack/etag.rb:24:in `call'
  rack (1.6.5) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.5) lib/rack/head.rb:13:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.8) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.8) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.8) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.8) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.8) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.8) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.8) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.8) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.8) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.8) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.8) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.8) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.8) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.5) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.5) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.8) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.5) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.8) lib/rails/engine.rb:518:in `call'
  railties (4.2.8) lib/rails/application.rb:165:in `call'
  rack (1.6.5) lib/rack/lock.rb:17:in `call'
  rack (1.6.5) lib/rack/content_length.rb:15:in `call'
  rack (1.6.5) lib/rack/handler/webrick.rb:88:in `service'
  /Users/amitchoudhary/.rvm/rubies/ruby-2.4.1/lib/ruby/2.4.0/webrick/httpserver.rb:140:in `service'
  /Users/amitchoudhary/.rvm/rubies/ruby-2.4.1/lib/ruby/2.4.0/webrick/httpserver.rb:96:in `run'
  /Users/amitchoudhary/.rvm/rubies/ruby-2.4.1/lib/ruby/2.4.0/webrick/server.rb:290:in `block in start_thread'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.6ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.6ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (58.6ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (50.2ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (111.0ms)


Started GET "/planes/1/edit" for ::1 at 2017-04-30 17:17:15 +0530
Processing by PlanesController#edit as HTML
  Parameters: {"id"=>"1"}
  Rendered planes/_form.html.erb (4.0ms)
  Rendered planes/edit.html.erb within layouts/application (6.6ms)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms)

ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <div>
    2:   <%= nested_form_for @plane do |f| %>
    3:     <%= f.label :name %>
    4:     <%= f.text_field :name %>
    5:     <%= f.fields_for :lanes do |lane_form| %>
  app/views/planes/_form.html.erb:2:in `_app_views_planes__form_html_erb__3650527881901443756_70266965412440'
  app/views/planes/edit.html.erb:7:in `_app_views_planes_edit_html_erb__2872238249462529639_70266937426020'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.1ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (60.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (43.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (102.0ms)


Started GET "/planes" for ::1 at 2017-04-30 17:20:20 +0530

SyntaxError (/Users/amitchoudhary/projects/weinvest/weinvest-rails/app/controllers/planes_controller.rb:43: syntax error, unexpected end-of-input, expecting keyword_end):
  app/controllers/planes_controller.rb:43: syntax error, unexpected end-of-input, expecting keyword_end


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.1ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.1ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (54.1ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (45.1ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (99.4ms)


Started GET "/planes" for ::1 at 2017-04-30 17:20:41 +0530

SyntaxError (/Users/amitchoudhary/projects/weinvest/weinvest-rails/app/controllers/planes_controller.rb:42: syntax error, unexpected end-of-input, expecting keyword_end):
  app/controllers/planes_controller.rb:42: syntax error, unexpected end-of-input, expecting keyword_end


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.7ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.1ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (55.8ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.9ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (43.9ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (101.7ms)


Started GET "/planes" for ::1 at 2017-04-30 17:20:52 +0530
Processing by PlanesController#index as HTML
  Rendered planes/index.html.erb within layouts/application (4.2ms)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms)

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    1: <div>Planes List</div>
    2: <%= @planes.each do |plane| %>
    3:   <div>
    4:     <%= link_to plane_path(plane.id), plane.name %>
    5:   </div>
  app/views/planes/index.html.erb:2:in `_app_views_planes_index_html_erb__1561203156424062083_70266976639860'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.1ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (54.6ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (43.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (95.7ms)


Started GET "/planes" for ::1 at 2017-04-30 17:21:23 +0530
Processing by PlanesController#index as HTML
  [1m[36mPlane Load (0.3ms)[0m  [1mSELECT "planes".* FROM "planes"[0m
  Rendered planes/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 31ms (Views: 25.5ms | ActiveRecord: 0.5ms)


Started GET "/planes" for ::1 at 2017-04-30 17:21:48 +0530
Processing by PlanesController#index as HTML
  [1m[35mPlane Load (0.4ms)[0m  SELECT "planes".* FROM "planes"
  Rendered planes/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 29ms (Views: 27.0ms | ActiveRecord: 0.4ms)


Started GET "/planes" for ::1 at 2017-04-30 17:21:55 +0530
Processing by PlanesController#index as HTML
  [1m[36mPlane Load (0.2ms)[0m  [1mSELECT "planes".* FROM "planes"[0m
  Rendered planes/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 18ms (Views: 16.9ms | ActiveRecord: 0.2ms)


Started GET "/planes/1" for ::1 at 2017-04-30 17:21:57 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  Rendered planes/show.html.erb within layouts/application (0.5ms)
Completed 200 OK in 31ms (Views: 29.7ms | ActiveRecord: 0.0ms)


Started GET "/planes/1" for ::1 at 2017-04-30 17:24:57 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  Rendered planes/show.html.erb within layouts/application (2.7ms)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.0ms)

ActionView::Template::Error (undefined method `name' for nil:NilClass):
    1: <div>
    2:   Name: <%= @plane.name %>
    3:   Lanes: <%= @plane.lanes.each do |lane| %>
    4:            <%= "#{lane.row}, #{lane.column}" %>
    5:          <% end %>
  app/views/planes/show.html.erb:2:in `_app_views_planes_show_html_erb___494552415291407890_70266934625760'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.9ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (9.8ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (101.2ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (64.6ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (149.2ms)


Started GET "/planes/1" for ::1 at 2017-04-30 17:24:58 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  Rendered planes/show.html.erb within layouts/application (2.2ms)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)

ActionView::Template::Error (undefined method `name' for nil:NilClass):
    1: <div>
    2:   Name: <%= @plane.name %>
    3:   Lanes: <%= @plane.lanes.each do |lane| %>
    4:            <%= "#{lane.row}, #{lane.column}" %>
    5:          <% end %>
  app/views/planes/show.html.erb:2:in `_app_views_planes_show_html_erb___494552415291407890_70266934625760'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.8ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (57.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (50.2ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (109.3ms)


Started GET "/planes/1" for ::1 at 2017-04-30 17:25:09 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.3ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (24.9ms)
Completed 200 OK in 68ms (Views: 50.5ms | ActiveRecord: 1.6ms)


Started GET "/planes/1" for ::1 at 2017-04-30 17:25:20 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (1.5ms)
Completed 200 OK in 20ms (Views: 18.3ms | ActiveRecord: 0.2ms)


Started GET "/planes/1" for ::1 at 2017-04-30 17:25:54 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 22ms (Views: 20.6ms | ActiveRecord: 0.3ms)


Started GET "/planes/1" for ::1 at 2017-04-30 17:26:33 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (26.3ms)
Completed 500 Internal Server Error in 32ms (ActiveRecord: 0.3ms)

ActionView::Template::Error (undefined method `plane_edit_path' for #<#<Class:0x007fd09740a528>:0x007fd09a68cc80>
Did you mean?  plane_path):
    5:          <% end %>
    6: </div>
    7: <div>
    8:   <%= link_to 'Edit this plane', plane_edit_path(@plane.id) %>
    9: </div>
  app/views/planes/show.html.erb:8:in `_app_views_planes_show_html_erb___494552415291407890_70266960216020'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.7ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (56.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (46.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (101.1ms)


Started GET "/planes/1" for ::1 at 2017-04-30 17:26:44 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.4ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (7.1ms)
Completed 200 OK in 40ms (Views: 38.6ms | ActiveRecord: 0.5ms)


Started GET "/planes/1/edit" for ::1 at 2017-04-30 17:26:45 +0530
Processing by PlanesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.3ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/_form.html.erb (11.8ms)
  Rendered planes/edit.html.erb within layouts/application (14.3ms)
Completed 200 OK in 37ms (Views: 33.5ms | ActiveRecord: 0.4ms)


Started GET "/planes/1" for ::1 at 2017-04-30 17:26:51 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (1.6ms)
Completed 200 OK in 24ms (Views: 22.6ms | ActiveRecord: 0.2ms)


Started GET "/planes/1/edit" for ::1 at 2017-04-30 17:26:57 +0530
Processing by PlanesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.4ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/_form.html.erb (7.1ms)
  Rendered planes/edit.html.erb within layouts/application (9.3ms)
Completed 200 OK in 32ms (Views: 27.6ms | ActiveRecord: 0.6ms)


Started PATCH "/planes/1" for ::1 at 2017-04-30 17:27:04 +0530

AbstractController::ActionNotFound (The action 'update' could not be found for PlanesController):
  actionpack (4.2.8) lib/abstract_controller/base.rb:132:in `process'
  actionview (4.2.8) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.8) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.8) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.8) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.8) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.8) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.8) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.8) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.8) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.8) lib/action_dispatch/routing/route_set.rb:817:in `call'
  rack (1.6.5) lib/rack/etag.rb:24:in `call'
  rack (1.6.5) lib/rack/conditionalget.rb:38:in `call'
  rack (1.6.5) lib/rack/head.rb:13:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.8) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.8) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.8) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.8) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.8) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.8) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.8) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.8) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.8) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.8) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.8) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.8) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.8) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.5) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.5) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.8) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.8) lib/action_dispatch/middleware/static.rb:120:in `call'
  rack (1.6.5) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.8) lib/rails/engine.rb:518:in `call'
  railties (4.2.8) lib/rails/application.rb:165:in `call'
  rack (1.6.5) lib/rack/lock.rb:17:in `call'
  rack (1.6.5) lib/rack/content_length.rb:15:in `call'
  rack (1.6.5) lib/rack/handler/webrick.rb:88:in `service'
  /Users/amitchoudhary/.rvm/rubies/ruby-2.4.1/lib/ruby/2.4.0/webrick/httpserver.rb:140:in `service'
  /Users/amitchoudhary/.rvm/rubies/ruby-2.4.1/lib/ruby/2.4.0/webrick/httpserver.rb:96:in `run'
  /Users/amitchoudhary/.rvm/rubies/ruby-2.4.1/lib/ruby/2.4.0/webrick/server.rb:290:in `block in start_thread'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (2.1ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (77.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (151.3ms)


Started PATCH "/planes/1" for ::1 at 2017-04-30 17:27:17 +0530
Processing by PlanesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"nzqojomcXtmUShvuN3iRpVjHBi/UN/V2tAKhQPKjep6dfD8m5p2UupwGr3fbvGz9ey0Ks+QVu9BEv72KFWYBCg==", "plane"=>{"name"=>"test", "lanes_attributes"=>{"0"=>{"row"=>"1", "column"=>"2", "_destroy"=>"false", "id"=>"1"}, "1493553419541"=>{"row"=>"3", "column"=>"2", "_destroy"=>"false"}}}, "commit"=>"Update Plane", "id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.5ms)

NameError (undefined local variable or method `planes_params' for #<PlanesController:0x007fd09b5737a8>
Did you mean?  plane_params
               planes_path):
  app/controllers/planes_controller.rb:27:in `update'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (56.8ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (42.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (92.0ms)


Started PATCH "/planes/1" for ::1 at 2017-04-30 17:27:23 +0530
Processing by PlanesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"nzqojomcXtmUShvuN3iRpVjHBi/UN/V2tAKhQPKjep6dfD8m5p2UupwGr3fbvGz9ey0Ks+QVu9BEv72KFWYBCg==", "plane"=>{"name"=>"test", "lanes_attributes"=>{"0"=>{"row"=>"1", "column"=>"2", "_destroy"=>"false", "id"=>"1"}, "1493553419541"=>{"row"=>"3", "column"=>"2", "_destroy"=>"false"}}}, "commit"=>"Update Plane", "id"=>"1"}
  [1m[36mPlane Load (0.2ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ? AND "lanes"."id" = 1[0m  [["plane_id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "lanes" ("row", "column", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["row", 3], ["column", 2], ["created_at", "2017-04-30 11:57:23.337750"], ["updated_at", "2017-04-30 11:57:23.337750"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "planes_lanes" ("plane_id", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["plane_id", 1], ["lane_id", 2], ["created_at", "2017-04-30 11:57:23.343137"], ["updated_at", "2017-04-30 11:57:23.343137"]]
  [1m[35m (0.8ms)[0m  commit transaction
Redirected to http://localhost:3000/planes
Completed 302 Found in 33ms (ActiveRecord: 2.5ms)


Started GET "/planes" for ::1 at 2017-04-30 17:27:23 +0530
Processing by PlanesController#index as HTML
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT "planes".* FROM "planes"[0m
  Rendered planes/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 19ms (Views: 18.0ms | ActiveRecord: 0.1ms)


Started GET "/planes/1" for ::1 at 2017-04-30 17:27:25 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.5ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.9ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (5.3ms)
Completed 200 OK in 43ms (Views: 36.8ms | ActiveRecord: 1.3ms)


Started GET "/planes/1/edit" for ::1 at 2017-04-30 17:27:26 +0530
Processing by PlanesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.3ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/_form.html.erb (10.8ms)
  Rendered planes/edit.html.erb within layouts/application (12.6ms)
Completed 200 OK in 60ms (Views: 54.1ms | ActiveRecord: 0.4ms)


Started PATCH "/planes/1" for ::1 at 2017-04-30 17:27:31 +0530
Processing by PlanesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"14oTrnxOIDBhYhMWHj67doQ7nSlpcGp95eYIhS1r2QzVzIQGE0/qU2kup4/y+kYup9GRtVlSJNsVWxRPyq6imA==", "plane"=>{"name"=>"test", "lanes_attributes"=>{"0"=>{"row"=>"1", "column"=>"2", "_destroy"=>"false", "id"=>"1"}, "1"=>{"row"=>"3", "column"=>"2", "_destroy"=>"1", "id"=>"2"}}}, "commit"=>"Update Plane", "id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mLane Load (0.2ms)[0m  SELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ? AND "lanes"."id" IN (1, 2)  [["plane_id", 1]]
  [1m[36mPlanesLane Load (0.1ms)[0m  [1mSELECT "planes_lanes".* FROM "planes_lanes" WHERE "planes_lanes"."plane_id" = ? AND "planes_lanes"."lane_id" = 2[0m  [["plane_id", 1]]
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "planes_lanes" WHERE "planes_lanes"."id" = ?  [["id", 2]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/planes
Completed 302 Found in 9ms (ActiveRecord: 2.7ms)


Started GET "/planes" for ::1 at 2017-04-30 17:27:31 +0530
Processing by PlanesController#index as HTML
  [1m[35mPlane Load (0.2ms)[0m  SELECT "planes".* FROM "planes"
  Rendered planes/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 15ms (Views: 13.9ms | ActiveRecord: 0.2ms)


Started GET "/planes/1" for ::1 at 2017-04-30 17:27:32 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.3ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 38ms (Views: 34.4ms | ActiveRecord: 0.5ms)


Started GET "/planes/1/edit" for ::1 at 2017-04-30 17:27:33 +0530
Processing by PlanesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/_form.html.erb (10.8ms)
  Rendered planes/edit.html.erb within layouts/application (12.6ms)
Completed 200 OK in 37ms (Views: 34.5ms | ActiveRecord: 0.3ms)


Started PATCH "/planes/1" for ::1 at 2017-04-30 17:27:38 +0530
Processing by PlanesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"E6YB5BYnRa6y+EytBw3GrC6T2pLwYrTk1+Ih/FnMHWUR4JZMeSaPzbq0+DTryTv0DXnWDsBA+kInXz02vglm8Q==", "plane"=>{"name"=>"test", "lanes_attributes"=>{"0"=>{"row"=>"1", "column"=>"2", "_destroy"=>"false", "id"=>"1"}, "1493553454928"=>{"row"=>"3", "column"=>"2", "_destroy"=>"false"}}}, "commit"=>"Update Plane", "id"=>"1"}
  [1m[36mPlane Load (0.3ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ? AND "lanes"."id" = 1[0m  [["plane_id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "lanes" ("row", "column", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["row", 3], ["column", 2], ["created_at", "2017-04-30 11:57:38.480282"], ["updated_at", "2017-04-30 11:57:38.480282"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "planes_lanes" ("plane_id", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["plane_id", 1], ["lane_id", 3], ["created_at", "2017-04-30 11:57:38.484123"], ["updated_at", "2017-04-30 11:57:38.484123"]]
  [1m[35m (0.7ms)[0m  commit transaction
Redirected to http://localhost:3000/planes
Completed 302 Found in 14ms (ActiveRecord: 1.8ms)


Started GET "/planes" for ::1 at 2017-04-30 17:27:38 +0530
Processing by PlanesController#index as HTML
  [1m[36mPlane Load (0.2ms)[0m  [1mSELECT "planes".* FROM "planes"[0m
  Rendered planes/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 12ms (Views: 11.6ms | ActiveRecord: 0.2ms)


Started GET "/planes/1" for ::1 at 2017-04-30 17:27:39 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (10.2ms)
Completed 200 OK in 44ms (Views: 34.7ms | ActiveRecord: 0.4ms)


Started GET "/planes/1" for ::1 at 2017-04-30 17:29:37 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (39.9ms)
Completed 500 Internal Server Error in 56ms (ActiveRecord: 1.2ms)

ActionView::Template::Error (undefined method `human' for #<#<Class:0x007fd09b1e7558>:0x007fd0967967b0>):
    1: <div>
    2:   Name: <%= @plane.name %>
    3:   Lanes: <% @plane.lanes.each_with_index do |lane, index| %>
    4:            <%= "#{number to human(index + 1)} Lane: #{lane.row}, #{lane.column}" %>
    5:          <% end %>
    6: </div>
    7: <div>
  app/views/planes/show.html.erb:4:in `block in _app_views_planes_show_html_erb___494552415291407890_70266927229440'
  app/views/planes/show.html.erb:3:in `_app_views_planes_show_html_erb___494552415291407890_70266927229440'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.1ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.2ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (58.7ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (43.9ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (97.5ms)


Started GET "/planes/1" for ::1 at 2017-04-30 17:29:45 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.3ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (37.3ms)
Completed 200 OK in 58ms (Views: 56.4ms | ActiveRecord: 0.4ms)


Started GET "/planes/1/edit" for ::1 at 2017-04-30 17:29:46 +0530
Processing by PlanesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/_form.html.erb (10.5ms)
  Rendered planes/edit.html.erb within layouts/application (12.0ms)
Completed 200 OK in 34ms (Views: 32.4ms | ActiveRecord: 0.3ms)


Started GET "/planes/1" for ::1 at 2017-04-30 17:29:50 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (3.0ms)
Completed 200 OK in 19ms (Views: 18.3ms | ActiveRecord: 0.2ms)


Started GET "/planes/1" for ::1 at 2017-04-30 17:30:07 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (101818.8ms)
Completed 200 OK in 101843ms (Views: 101841.2ms | ActiveRecord: 0.3ms)


Started GET "/planes/1/edit" for ::1 at 2017-04-30 17:31:49 +0530
Processing by PlanesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/_form.html.erb (7.9ms)
  Rendered planes/edit.html.erb within layouts/application (9.0ms)
Completed 200 OK in 30ms (Views: 27.4ms | ActiveRecord: 0.4ms)


Started GET "/planes/1/edit" for ::1 at 2017-04-30 17:31:49 +0530
Processing by PlanesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/_form.html.erb (4.5ms)
  Rendered planes/edit.html.erb within layouts/application (5.4ms)
Completed 200 OK in 22ms (Views: 20.5ms | ActiveRecord: 0.2ms)


Started GET "/planes/1/edit" for ::1 at 2017-04-30 17:31:49 +0530
Processing by PlanesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/_form.html.erb (4.2ms)
  Rendered planes/edit.html.erb within layouts/application (5.8ms)
Completed 200 OK in 21ms (Views: 20.2ms | ActiveRecord: 0.2ms)


Started GET "/planes/1" for ::1 at 2017-04-30 17:31:53 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.3ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (5.3ms)
Completed 200 OK in 42ms (Views: 38.7ms | ActiveRecord: 0.4ms)


Started GET "/planes/1" for ::1 at 2017-04-30 17:31:54 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (2.3ms)
Completed 200 OK in 29ms (Views: 27.2ms | ActiveRecord: 0.3ms)


Started GET "/planes/1/edit" for ::1 at 2017-04-30 17:31:57 +0530
Processing by PlanesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/_form.html.erb (9.1ms)
  Rendered planes/edit.html.erb within layouts/application (10.6ms)
Completed 200 OK in 30ms (Views: 27.8ms | ActiveRecord: 0.4ms)


Started GET "/planes" for ::1 at 2017-04-30 17:32:02 +0530
Processing by PlanesController#index as HTML
  [1m[35mPlane Load (0.1ms)[0m  SELECT "planes".* FROM "planes"
  Rendered planes/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 16ms (Views: 15.3ms | ActiveRecord: 0.1ms)


Started GET "/planes/1" for ::1 at 2017-04-30 17:32:04 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (4.6ms)
Completed 200 OK in 27ms (Views: 24.5ms | ActiveRecord: 0.3ms)


Started GET "/" for ::1 at 2017-04-30 17:33:14 +0530
Processing by HomeController#index as HTML
  Rendered home/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 34ms (Views: 32.8ms | ActiveRecord: 0.0ms)


Started GET "/planes/new" for ::1 at 2017-04-30 17:33:19 +0530
Processing by PlanesController#new as HTML
  Rendered planes/_form.html.erb (10.5ms)
  Rendered planes/new.html.erb within layouts/application (13.2ms)
Completed 200 OK in 62ms (Views: 60.3ms | ActiveRecord: 0.0ms)


Started GET "/planes" for ::1 at 2017-04-30 17:33:22 +0530
Processing by PlanesController#index as HTML
  [1m[36mPlane Load (0.4ms)[0m  [1mSELECT "planes".* FROM "planes"[0m
  Rendered planes/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 68ms (Views: 64.4ms | ActiveRecord: 0.4ms)


Started GET "/planes/1" for ::1 at 2017-04-30 17:33:27 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.4ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (5.4ms)
Completed 200 OK in 34ms (Views: 31.4ms | ActiveRecord: 0.5ms)


Started GET "/planes/1/edit" for ::1 at 2017-04-30 17:33:47 +0530
Processing by PlanesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/_form.html.erb (15.0ms)
  Rendered planes/edit.html.erb within layouts/application (17.4ms)
Completed 200 OK in 46ms (Views: 43.9ms | ActiveRecord: 0.3ms)


Started GET "/planes/1/edit" for ::1 at 2017-04-30 17:33:50 +0530
Processing by PlanesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/_form.html.erb (22.3ms)
  Rendered planes/edit.html.erb within layouts/application (25.0ms)
Completed 200 OK in 61ms (Views: 58.2ms | ActiveRecord: 0.3ms)


Started GET "/planes/1/edit" for ::1 at 2017-04-30 17:33:52 +0530
Processing by PlanesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (8.6ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/_form.html.erb (13.4ms)
  Rendered planes/edit.html.erb within layouts/application (17.7ms)
Completed 200 OK in 78ms (Views: 41.3ms | ActiveRecord: 8.8ms)
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.4ms)[0m  select sqlite_version(*)
  [1m[36m (0.8ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePlanes (20170430105326)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "planes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170430105326"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to CreateLanes (20170430105413)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "lanes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "row" integer, "column" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170430105413"]]
  [1m[35m (0.9ms)[0m  commit transaction
Migrating to CreatePlanesLanes (20170430105449)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "planes_lanes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "plane_id" integer, "lane_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_planes_lanes_on_plane_id" ON "planes_lanes" ("plane_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_planes_lanes_on_plane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_planes_lanes_on_plane_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_planes_lanes_on_lane_id" ON "planes_lanes" ("lane_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170430105449"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to CreateSeats (20170430105804)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "seats" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "planes_lane_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_seats_on_planes_lane_id" ON "seats" ("planes_lane_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170430105804"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_planes_lanes_on_lane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_planes_lanes_on_lane_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_planes_lanes_on_plane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_planes_lanes_on_plane_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_seats_on_planes_lane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_seats_on_planes_lane_id' AND type='index'

  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m


Started GET "/" for ::1 at 2017-04-30 22:33:59 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomeController#index as HTML
  Rendered home/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 409ms (Views: 399.6ms | ActiveRecord: 0.0ms)


Started GET "/assets/jquery.self-bd7ddd393353a8d2480a622e80342adf488fb6006d667e8b42e4c0073393abee.js?body=1" for ::1 at 2017-04-30 22:34:00 +0530


Started GET "/assets/jquery_ujs.self-784a997f6726036b1993eb2217c9cb558e1cbb801c6da88105588c56f13b466a.js?body=1" for ::1 at 2017-04-30 22:34:00 +0530


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2017-04-30 22:34:00 +0530


Started GET "/assets/jquery_nested_form.self-d38045d10ebdd28aac44152cb451796232091957b86b47bedad1ab171a3a12cd.js?body=1" for ::1 at 2017-04-30 22:34:00 +0530


Started GET "/assets/turbolinks.self-c5acd7a204f5f25ce7a1d8a0e4d92e28d34c9e2df2c7371cd7af88e147e4ad82.js?body=1" for ::1 at 2017-04-30 22:34:00 +0530


Started GET "/assets/application.self-e80e8f2318043e8af94dddc2adad5a4f09739a8ebb323b3ab31cd71d45fd9113.css?body=1" for ::1 at 2017-04-30 22:34:05 +0530


Started GET "/" for ::1 at 2017-04-30 22:34:28 +0530
Processing by HomeController#index as HTML
  Rendered home/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 49ms (Views: 46.9ms | ActiveRecord: 0.0ms)


Started GET "/planes/new" for ::1 at 2017-04-30 22:34:30 +0530
Processing by PlanesController#new as HTML
  Rendered planes/_form.html.erb (82.5ms)
  Rendered planes/new.html.erb within layouts/application (92.1ms)
Completed 200 OK in 140ms (Views: 110.4ms | ActiveRecord: 1.2ms)


Started POST "/planes" for ::1 at 2017-04-30 22:37:36 +0530
Processing by PlanesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"KaZCVfZvNmTNlVpyQ/kf0qqNOgeaonyCo+4VEoqFbJYm9IW3T3gkSjTSvl70wWIipt6Wejrqkv36mPOLTT9Rog==", "plane"=>{"name"=>"I7-608", "lanes_attributes"=>{"1493571872158"=>{"row"=>"", "column"=>"", "_destroy"=>"1"}, "1493571873454"=>{"row"=>"", "column"=>"", "_destroy"=>"1"}, "1493571874453"=>{"row"=>"3", "column"=>"2", "_destroy"=>"1"}, "1493571894354"=>{"row"=>"4", "column"=>"6", "_destroy"=>"false"}, "1493571898703"=>{"row"=>"2", "column"=>"3", "_destroy"=>"false"}}}, "commit"=>"Create Plane"}
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "planes" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "I7-608"], ["created_at", "2017-04-30 17:07:36.306861"], ["updated_at", "2017-04-30 17:07:36.306861"]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "lanes" ("row", "column", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["row", 4], ["column", 6], ["created_at", "2017-04-30 17:07:36.312486"], ["updated_at", "2017-04-30 17:07:36.312486"]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "planes_lanes" ("plane_id", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["plane_id", 1], ["lane_id", 1], ["created_at", "2017-04-30 17:07:36.347120"], ["updated_at", "2017-04-30 17:07:36.347120"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "lanes" ("row", "column", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["row", 2], ["column", 3], ["created_at", "2017-04-30 17:07:36.348779"], ["updated_at", "2017-04-30 17:07:36.348779"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "planes_lanes" ("plane_id", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["plane_id", 1], ["lane_id", 2], ["created_at", "2017-04-30 17:07:36.350246"], ["updated_at", "2017-04-30 17:07:36.350246"]]
  [1m[35m (0.8ms)[0m  commit transaction
Redirected to http://localhost:8000/planes
Completed 302 Found in 69ms (ActiveRecord: 3.5ms)


Started GET "/planes" for ::1 at 2017-04-30 22:37:36 +0530
Processing by PlanesController#index as HTML
  [1m[36mPlane Load (0.2ms)[0m  [1mSELECT "planes".* FROM "planes"[0m
  Rendered planes/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 27ms (Views: 26.4ms | ActiveRecord: 0.2ms)


Started GET "/planes/1" for ::1 at 2017-04-30 22:37:38 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.3ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (14.1ms)
Completed 200 OK in 43ms (Views: 32.3ms | ActiveRecord: 0.5ms)


Started GET "/planes/1" for ::1 at 2017-05-01 00:20:57 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (1.0ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.6ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (115.3ms)
Completed 500 Internal Server Error in 134ms (ActiveRecord: 1.6ms)

ActionView::Template::Error (Asset was not declared to be precompiled in production.
Add `Rails.application.config.assets.precompile += %w( plane.js )` to `config/initializers/assets.rb` and restart your server):
     9:   <%= link_to 'Book this plane', edit_plane_path(@plane.id) %>
    10: </div>
    11: <% content_for :body_bottom do %>
    12:   <%= javascript_include_tag 'plane' %>
    13: <% end %>
  app/views/planes/show.html.erb:12:in `block in _app_views_planes_show_html_erb__1127917739450768538_70191392345060'
  app/views/planes/show.html.erb:11:in `_app_views_planes_show_html_erb__1127917739450768538_70191392345060'


  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.4ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (8.1ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (67.0ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (52.8ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (114.6ms)


Started GET "/planes/1" for ::1 at 2017-05-01 00:21:10 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.3ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (198.3ms)
Completed 200 OK in 291ms (Views: 267.6ms | ActiveRecord: 1.2ms)


Started GET "/assets/plane.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.js?body=1" for ::1 at 2017-05-01 00:21:16 +0530


Started GET "/planes/1/edit" for ::1 at 2017-05-01 00:21:22 +0530
Processing by PlanesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.3ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/_form.html.erb (27.3ms)
  Rendered planes/edit.html.erb within layouts/application (40.3ms)
Completed 200 OK in 82ms (Views: 75.8ms | ActiveRecord: 0.5ms)


Started GET "/planes/1/edit" for ::1 at 2017-05-01 00:21:32 +0530
Processing by PlanesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (1.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.3ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/_form.html.erb (8.8ms)
  Rendered planes/edit.html.erb within layouts/application (10.6ms)
Completed 200 OK in 35ms (Views: 31.3ms | ActiveRecord: 1.4ms)


Started GET "/planes/1" for ::1 at 2017-05-01 00:38:04 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.5ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.8ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (334.4ms)
Completed 500 Internal Server Error in 367ms (ActiveRecord: 2.2ms)

ActionView::Template::Error (undefined local variable or method `times' for #<#<Class:0x007fe7a50d25c0>:0x007fe7a68f0a58>
Did you mean?  timeout):
    13:   <%= link_to 'Book this plane', edit_plane_path(@plane.id) %>
    14: </div>
    15: 
    16: <% @plane.lanes.count times do |lane_count| %>
    17:   <div class="pull-left lane">
    18:     <div class="border-right border-bottom">
    19:     </div>
  app/views/planes/show.html.erb:16:in `_app_views_planes_show_html_erb___2369908732374107249_70316456555180'


  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (22.3ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (78.8ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (58.5ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (131.6ms)


Started GET "/planes/1" for ::1 at 2017-05-01 00:38:20 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.3ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (12.3ms)
Completed 200 OK in 84ms (Views: 82.5ms | ActiveRecord: 0.6ms)


Started GET "/assets/plane.self-eacc9eaba90a06a7f7273513ca6fa38a20a18c253b7275909150155a68e38d1d.js?body=1" for ::1 at 2017-05-01 00:38:20 +0530


Started GET "/assets/plane.self-9e4f9987bb4e77e47d05e1cc722729ea845881cd66fdc5f339aa8b3d71e9ab7a.css?body=1" for ::1 at 2017-05-01 00:38:20 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 00:39:39 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.3ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?  [["plane_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (15.5ms)
Completed 200 OK in 47ms (Views: 39.7ms | ActiveRecord: 0.6ms)


Started GET "/assets/plane.self-78aa65ffd10e1e4c9151d8a2add51945a215c65f28803ccbb51f734672e8c603.css?body=1" for ::1 at 2017-05-01 00:39:39 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 00:40:55 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (25.4ms)
Completed 200 OK in 83ms (Views: 80.8ms | ActiveRecord: 0.6ms)


Started GET "/assets/plane.self-8cd5d04977328fd1784cf4ac201b9b81d7e074e8c396f90e17f7f4a324d7cc9f.css?body=1" for ::1 at 2017-05-01 00:40:55 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 00:41:05 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?  [["plane_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (17.6ms)
Completed 200 OK in 41ms (Views: 39.7ms | ActiveRecord: 0.4ms)


Started GET "/assets/plane.self-fa801f57e1bd7aeb07ea1e381af762a53db847d84889772c142800bc0170a7fc.css?body=1" for ::1 at 2017-05-01 00:41:05 +0530
  [1m[36mPlane Load (0.4ms)[0m  [1mSELECT  "planes".* FROM "planes"  ORDER BY "planes"."id" ASC LIMIT 1[0m
  [1m[35mLane Load (0.8ms)[0m  SELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?  [["plane_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]


Started GET "/planes/1" for ::1 at 2017-05-01 02:12:41 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.5ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.9ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (65.6ms)
Completed 200 OK in 234ms (Views: 198.3ms | ActiveRecord: 2.9ms)


Started GET "/assets/plane.self-7c998fd3ad0f25d2a0dddfda7597449bd760bf59c90ffa5442cc9dc3c354d612.js?body=1" for ::1 at 2017-05-01 02:12:42 +0530


Started GET "/assets/plane.self-fa791a3f65ce590c7138a64ec3fa1001feced2beaca36e7e16939d59005d3806.css?body=1" for ::1 at 2017-05-01 02:12:42 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 02:13:46 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (1.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.7ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (46.6ms)
Completed 200 OK in 182ms (Views: 171.0ms | ActiveRecord: 1.8ms)


Started GET "/assets/plane.self-39fffea96928f8cc9c2cebd7f630e8292ac50d8ee2f5d807b7d613ee236c039f.js?body=1" for ::1 at 2017-05-01 02:13:47 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 02:50:08 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (3.5ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (134.0ms)
Completed 200 OK in 365ms (Views: 309.5ms | ActiveRecord: 3.7ms)


Started GET "/assets/plane.self-ce9663d7c09a732ae82d8973c57873601b4385b822e73a713043ee83a7012521.css?body=1" for ::1 at 2017-05-01 02:50:08 +0530


Started GET "/assets/plane.self-b5810697dcd875e22db10673c95b9fbcf3ca82eb9bda1f28470e74a64ca30139.js?body=1" for ::1 at 2017-05-01 02:50:09 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 02:50:51 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.4ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (35.6ms)
Completed 200 OK in 310ms (Views: 307.6ms | ActiveRecord: 0.6ms)


Started GET "/assets/plane.self-947c66fe4eb12c8698e909ad38602d0ef1f41646c232383f39bbd0d35c93087f.js?body=1" for ::1 at 2017-05-01 02:50:51 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 02:51:25 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.9ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (25.0ms)
Completed 200 OK in 201ms (Views: 195.8ms | ActiveRecord: 1.0ms)


Started GET "/assets/plane.self-5e8d7d033e308accbf144a60294134195080d0c5f5be7e8118d5c8ae4d14da3e.js?body=1" for ::1 at 2017-05-01 02:51:25 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 02:51:41 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.3ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (21.3ms)
Completed 200 OK in 110ms (Views: 109.1ms | ActiveRecord: 0.4ms)


Started GET "/assets/plane.self-71d6191fa7d79dac2842a803f4e64df34bd1337039d77a95526b25e078168af0.js?body=1" for ::1 at 2017-05-01 02:51:41 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 02:51:56 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.5ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (15.8ms)
Completed 200 OK in 99ms (Views: 96.1ms | ActiveRecord: 0.6ms)


Started GET "/assets/plane.self-403b70069efae16f6990fb2b1d365964d6c26bf8d78a67ef3deb5079144d2548.js?body=1" for ::1 at 2017-05-01 02:51:56 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 02:54:13 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (4.5ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (102.9ms)
Completed 200 OK in 237ms (Views: 205.6ms | ActiveRecord: 4.6ms)


Started GET "/assets/plane.self-9ecfe210bbbe6a58c7f6ad4fd2978c4ca9e53051cc3f7b5c55b6d4ab67498bf8.js?body=1" for ::1 at 2017-05-01 02:54:13 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 02:54:42 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.3ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (12.7ms)
Completed 200 OK in 88ms (Views: 86.0ms | ActiveRecord: 0.4ms)


Started GET "/assets/plane.self-99282b9a3d1ab9ab490989b2caf7893ba8c114908f286a53ba8192846a7d2c58.js?body=1" for ::1 at 2017-05-01 02:54:42 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 02:54:47 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.3ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.3ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (8.5ms)
Completed 200 OK in 26ms (Views: 24.0ms | ActiveRecord: 0.6ms)


Started GET "/planes/1" for ::1 at 2017-05-01 02:56:04 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.4ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.3ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (25.8ms)
Completed 200 OK in 103ms (Views: 101.1ms | ActiveRecord: 0.7ms)


Started GET "/assets/plane.self-27bdc262cf34bd2b78e078ae5a2997ee2c4395b32c47dffa3978945c7134ec2f.js?body=1" for ::1 at 2017-05-01 02:56:04 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 02:57:36 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.8ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (26.2ms)
Completed 200 OK in 125ms (Views: 122.3ms | ActiveRecord: 0.9ms)


Started GET "/assets/plane.self-9d0865d10b01be6d7596233344d2a3eff5d5ca1805d9e17779326f9c65360346.js?body=1" for ::1 at 2017-05-01 02:57:36 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 02:59:27 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (1.0ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (50.6ms)
Completed 200 OK in 203ms (Views: 188.3ms | ActiveRecord: 1.1ms)


Started GET "/assets/plane.self-fa712520dfd7cef8c6efdb9577d4a551ed75625db815aa4669bd3d277f8d4df5.css?body=1" for ::1 at 2017-05-01 02:59:27 +0530


Started GET "/assets/plane.self-438bcf28948b1934576f67ec0ceeac77cc39072558362b059ef45a5391dd9f28.js?body=1" for ::1 at 2017-05-01 02:59:27 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 03:00:43 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.4ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (42.0ms)
Completed 200 OK in 141ms (Views: 138.9ms | ActiveRecord: 0.7ms)


Started GET "/assets/plane.self-19e2188bac8a844f2b970b1cd89fe2c2814689ffe9a06760edfce67632226a8c.js?body=1" for ::1 at 2017-05-01 03:00:43 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 04:01:27 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (1.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (85.7ms)
Completed 200 OK in 300ms (Views: 280.9ms | ActiveRecord: 1.4ms)


Started GET "/assets/plane.self-b01f2576e9b1579cc65a076dc99490ae474c0f2fc0fddf58c0f5b88c31551db2.css?body=1" for ::1 at 2017-05-01 04:01:28 +0530


Started GET "/assets/plane.self-0f90519dbcc50b50afda1c920106a9e74aac409a715b49e839f441808caac76e.js?body=1" for ::1 at 2017-05-01 04:01:28 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 04:01:43 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.4ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.3ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (28.0ms)
Completed 200 OK in 74ms (Views: 70.8ms | ActiveRecord: 0.7ms)


Started GET "/assets/plane.self-447b1de6503bc3795af8d69b94b1c52221b4c80e4f98be803d73fd50ac2ccad2.css?body=1" for ::1 at 2017-05-01 04:01:43 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 04:02:59 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.8ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.3ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (24.1ms)
Completed 200 OK in 112ms (Views: 109.5ms | ActiveRecord: 1.1ms)


Started GET "/assets/plane.self-3a6e7500824ce2d73feb25a1b04503254f7ed40da883018eaa782e677a6aa4b4.js?body=1" for ::1 at 2017-05-01 04:02:59 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 04:04:45 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.9ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (47.9ms)
Completed 200 OK in 207ms (Views: 178.2ms | ActiveRecord: 1.1ms)


Started GET "/assets/plane.self-e20ec6428a42283db0f8181357087417577fe59acd05e8a0e480263ce93c4df0.js?body=1" for ::1 at 2017-05-01 04:04:45 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 04:05:19 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.6ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (19.4ms)
Completed 200 OK in 70ms (Views: 67.3ms | ActiveRecord: 0.8ms)


Started GET "/assets/plane.self-eea4126a7c4071fb3c514b410007f2ef149369318f1047d57eaf1c302c00d57a.css?body=1" for ::1 at 2017-05-01 04:05:19 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 04:06:05 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.4ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (19.0ms)
Completed 200 OK in 56ms (Views: 53.3ms | ActiveRecord: 0.6ms)


Started GET "/assets/plane.self-6faddb51883f151fa4f1c61772ff76160ca7a1bb7b3cfbcdf764fcaf89bb0c0d.css?body=1" for ::1 at 2017-05-01 04:06:05 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 04:06:20 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (1.4ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (19.2ms)
Completed 200 OK in 65ms (Views: 46.8ms | ActiveRecord: 1.5ms)


Started GET "/assets/plane.self-3c6cafdd7701ccdf6aa2688845d1358231c89ef0fc71d40bac589057077d960c.css?body=1" for ::1 at 2017-05-01 04:06:20 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 04:07:09 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (1.4ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (55.8ms)
Completed 200 OK in 85ms (Views: 81.0ms | ActiveRecord: 1.5ms)


Started GET "/planes/1" for ::1 at 2017-05-01 04:08:06 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (1.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (64.6ms)
Completed 200 OK in 190ms (Views: 171.9ms | ActiveRecord: 1.3ms)


Started GET "/assets/plane.self-1f7dd740ee0de3d535871cd24d9ab127ccb4b9b1147e159af7e65f8feaf6f4ad.css?body=1" for ::1 at 2017-05-01 04:08:06 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 04:12:28 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (1.6ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (46.4ms)
Completed 200 OK in 169ms (Views: 152.2ms | ActiveRecord: 1.8ms)


Started GET "/assets/plane.self-2b23e43df6fc06d01eb000a09b7ae6f13c134df35962b22338c842ac46fd1d1a.js?body=1" for ::1 at 2017-05-01 04:12:28 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 04:16:54 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (1.0ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" INNER JOIN "planes_lanes" ON "lanes"."id" = "planes_lanes"."lane_id" WHERE "planes_lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (37.7ms)
Completed 200 OK in 154ms (Views: 141.8ms | ActiveRecord: 1.1ms)


Started GET "/assets/plane.self-ab1f4f099370c5bdcbf2f52fcb93376a71a157d59ce8bb6364eec567e7e4dfd9.js?body=1" for ::1 at 2017-05-01 04:16:54 +0530
  [1m[35mLane Load (3.8ms)[0m  SELECT "lanes".* FROM "lanes"
  [1m[36mSeat Load (4.4ms)[0m  [1mSELECT "seats".* FROM "seats"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreateSeats (20170430105804)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.4ms)[0m  DROP TABLE "seats"
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170430105804"]]
  [1m[35m (1.0ms)[0m  commit transaction
Migrating to CreatePlanesLanes (20170430105449)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.0ms)[0m  DROP TABLE "planes_lanes"
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170430105449"]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateSeats (20170430105804)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "seats" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "lane_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.4ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_seats_on_lane_id" ON "seats" ("lane_id")[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170430105804"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to AddPlaneIdToLane (20170501064157)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddPlaneIdToLane (20170501064157)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "lanes" ADD "plane_id" integer[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.1ms)[0m  [1mCREATE  INDEX "index_lanes_on_plane_id" ON "lanes" ("plane_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170501064157"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.4ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_lanes_on_plane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_lanes_on_plane_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_seats_on_lane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_seats_on_lane_id' AND type='index'

  [1m[35mLane Load (1.1ms)[0m  SELECT "lanes".* FROM "lanes"
  [1m[36mPlane Load (0.4ms)[0m  [1mSELECT  "planes".* FROM "planes"  ORDER BY "planes"."id" ASC LIMIT 1[0m
  [1m[35mSQL (1.5ms)[0m  UPDATE "lanes" SET "plane_id" = 1
  [1m[36mSeat Load (1.0ms)[0m  [1mSELECT "seats".* FROM "seats"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to AddPlaneIdToLane (20170501064157)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TEMPORARY TABLE "alanes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "row" integer, "column" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "plane_id" integer) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_lanes_on_plane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_lanes_on_plane_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_alanes_on_plane_id" ON "alanes" ("plane_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "lanes"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "alanes" ("id","row","column","created_at","updated_at","plane_id") VALUES (1, 4, 6, '2017-04-30 17:07:36.312486', '2017-04-30 17:07:36.312486', 1)[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "alanes" ("id","row","column","created_at","updated_at","plane_id") VALUES (2, 2, 3, '2017-04-30 17:07:36.348779', '2017-04-30 17:07:36.348779', 1)
  [1m[36m (0.6ms)[0m  [1mDROP TABLE "lanes"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "lanes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "row" integer, "column" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_alanes_on_plane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_alanes_on_plane_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "alanes"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "lanes" ("id","row","column","created_at","updated_at") VALUES (1, 4, 6, '2017-04-30 17:07:36.312486', '2017-04-30 17:07:36.312486')[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "lanes" ("id","row","column","created_at","updated_at") VALUES (2, 2, 3, '2017-04-30 17:07:36.348779', '2017-04-30 17:07:36.348779')
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "alanes"[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170501064157"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateSeats (20170430105804)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mDROP TABLE "seats"[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170430105804"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateSeats (20170430105804)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "seats" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "lane_id" integer, "number" integer, "status" integer, "kind" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_seats_on_lane_id" ON "seats" ("lane_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170430105804"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Migrating to AddPlaneIdToLane (20170501064157)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mALTER TABLE "lanes" ADD "plane_id" integer[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_lanes_on_plane_id" ON "lanes" ("plane_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170501064157"]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (3.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_lanes_on_plane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_lanes_on_plane_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_seats_on_lane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_seats_on_lane_id' AND type='index'
[0m
  [1m[35mPlane Load (0.4ms)[0m  SELECT  "planes".* FROM "planes"  ORDER BY "planes"."id" ASC LIMIT 1
  [1m[36mSQL (2.1ms)[0m  [1mUPDATE "lanes" SET "plane_id" = 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to AddPlaneIdToLane (20170501064157)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TEMPORARY TABLE "alanes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "row" integer, "column" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "plane_id" integer) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_lanes_on_plane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_lanes_on_plane_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_alanes_on_plane_id" ON "alanes" ("plane_id")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "lanes"
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "alanes" ("id","row","column","created_at","updated_at","plane_id") VALUES (1, 4, 6, '2017-04-30 17:07:36.312486', '2017-04-30 17:07:36.312486', 1)[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "alanes" ("id","row","column","created_at","updated_at","plane_id") VALUES (2, 2, 3, '2017-04-30 17:07:36.348779', '2017-04-30 17:07:36.348779', 1)
  [1m[36m (0.4ms)[0m  [1mDROP TABLE "lanes"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "lanes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "row" integer, "column" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_alanes_on_plane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_alanes_on_plane_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "alanes"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "lanes" ("id","row","column","created_at","updated_at") VALUES (1, 4, 6, '2017-04-30 17:07:36.312486', '2017-04-30 17:07:36.312486')[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "lanes" ("id","row","column","created_at","updated_at") VALUES (2, 2, 3, '2017-04-30 17:07:36.348779', '2017-04-30 17:07:36.348779')
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "alanes"[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170501064157"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to CreateSeats (20170430105804)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mDROP TABLE "seats"[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170430105804"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateSeats (20170430105804)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "seats" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "lane_id" integer, "number" integer, "status" integer DEFAULT 0, "kind" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_seats_on_lane_id" ON "seats" ("lane_id")[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170430105804"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
Migrating to AddPlaneIdToLane (20170501064157)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.9ms)[0m  [1mALTER TABLE "lanes" ADD "plane_id" integer[0m
  [1m[35m (0.3ms)[0m  CREATE  INDEX "index_lanes_on_plane_id" ON "lanes" ("plane_id")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170501064157"]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_lanes_on_plane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_lanes_on_plane_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_seats_on_lane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_seats_on_lane_id' AND type='index'
[0m
  [1m[35mPlane Load (6.9ms)[0m  SELECT  "planes".* FROM "planes"  ORDER BY "planes"."id" ASC LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "lanes" SET "plane_id" = 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to AddPlaneIdToLane (20170501064157)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TEMPORARY TABLE "alanes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "row" integer, "column" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "plane_id" integer) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_lanes_on_plane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_lanes_on_plane_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "tindex_alanes_on_plane_id" ON "alanes" ("plane_id")[0m
  [1m[35m (0.3ms)[0m  SELECT * FROM "lanes"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "alanes" ("id","row","column","created_at","updated_at","plane_id") VALUES (1, 4, 6, '2017-04-30 17:07:36.312486', '2017-04-30 17:07:36.312486', 1)[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "alanes" ("id","row","column","created_at","updated_at","plane_id") VALUES (2, 2, 3, '2017-04-30 17:07:36.348779', '2017-04-30 17:07:36.348779', 1)
  [1m[36m (1.0ms)[0m  [1mDROP TABLE "lanes"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "lanes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "row" integer, "column" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_alanes_on_plane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_alanes_on_plane_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "alanes"
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "lanes" ("id","row","column","created_at","updated_at") VALUES (1, 4, 6, '2017-04-30 17:07:36.312486', '2017-04-30 17:07:36.312486')[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "lanes" ("id","row","column","created_at","updated_at") VALUES (2, 2, 3, '2017-04-30 17:07:36.348779', '2017-04-30 17:07:36.348779')
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "alanes"[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170501064157"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to CreateSeats (20170430105804)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.9ms)[0m  [1mDROP TABLE "seats"[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20170430105804"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateSeats (20170430105804)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "seats" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "lane_id" integer, "number" integer, "status" integer DEFAULT 0, "kind" integer, "booking_order" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_seats_on_lane_id" ON "seats" ("lane_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170430105804"]]
  [1m[36m (4.0ms)[0m  [1mcommit transaction[0m
Migrating to AddPlaneIdToLane (20170501064157)
  [1m[35m (1.2ms)[0m  begin transaction
  [1m[36m (1.0ms)[0m  [1mALTER TABLE "lanes" ADD "plane_id" integer[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_lanes_on_plane_id" ON "lanes" ("plane_id")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170501064157"]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (6.4ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_lanes_on_plane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_lanes_on_plane_id' AND type='index'

  [1m[36m (0.6ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_seats_on_lane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_seats_on_lane_id' AND type='index'
[0m
  [1m[35mPlane Load (13.1ms)[0m  SELECT  "planes".* FROM "planes"  ORDER BY "planes"."id" ASC LIMIT 1
  [1m[36mSQL (2.2ms)[0m  [1mUPDATE "lanes" SET "plane_id" = 1[0m
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes"  ORDER BY "lanes"."id" ASC LIMIT 1
  [1m[36mLane Load (1.1ms)[0m  [1mSELECT "lanes".* FROM "lanes"[0m
  [1m[35mLane Load (1.1ms)[0m  SELECT "lanes".* FROM "lanes"
  [1m[36mLane Load (0.3ms)[0m  [1mSELECT "lanes".* FROM "lanes"[0m
  [1m[36m (2.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "seats" ("number", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["number", 1], ["created_at", "2017-05-01 09:51:19.309746"], ["updated_at", "2017-05-01 09:51:19.309746"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats"  ORDER BY "seats"."id" ASC LIMIT 1[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats"  ORDER BY "seats"."id" ASC LIMIT 1
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats"  ORDER BY "seats"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.5ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 0], ["updated_at", "2017-05-01 09:52:15.842775"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSeat Load (2.7ms)[0m  [1mSELECT  "seats".* FROM "seats"  ORDER BY "seats"."id" ASC LIMIT 1[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats"
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 09:55:28.500558"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m


Started GET "/planes/1" for ::1 at 2017-05-01 15:46:19 +0530
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.6ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (69.1ms)
Completed 200 OK in 330ms (Views: 128.7ms | ActiveRecord: 5.2ms)


Started GET "/assets/plane.self-9b556eada44f6c3269dcceb96cf0522c6322a03f7fd965b6f97fd86c36db356e.css?body=1" for ::1 at 2017-05-01 15:46:20 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 15:46:23 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.2ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (14.7ms)
Completed 200 OK in 231ms (Views: 229.2ms | ActiveRecord: 0.4ms)


Started GET "/planes/1" for ::1 at 2017-05-01 15:46:33 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.6ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (14.1ms)
Completed 200 OK in 59ms (Views: 56.9ms | ActiveRecord: 0.7ms)


Started GET "/planes/1" for ::1 at 2017-05-01 15:56:15 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (292.1ms)
Completed 200 OK in 396ms (Views: 373.6ms | ActiveRecord: 1.0ms)


Started GET "/assets/plane_form_action.self-8c899cfebafd8789e3f5aa346dac7a624ec7016b6a12ebc6f517a07875dc77b3.js?body=1" for ::1 at 2017-05-01 15:56:21 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 15:56:22 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.4ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (11.7ms)
Completed 200 OK in 32ms (Views: 30.8ms | ActiveRecord: 0.5ms)


Started GET "/planes/1" for ::1 at 2017-05-01 15:56:24 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (11.8ms)
Completed 200 OK in 40ms (Views: 38.5ms | ActiveRecord: 0.4ms)


Started GET "/planes/1" for ::1 at 2017-05-01 15:56:26 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (25.0ms)
Completed 200 OK in 61ms (Views: 58.1ms | ActiveRecord: 0.3ms)


Started GET "/planes/1" for ::1 at 2017-05-01 15:57:41 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (30.7ms)
Completed 200 OK in 120ms (Views: 118.2ms | ActiveRecord: 0.2ms)


Started GET "/assets/plane_form_action.self-89434353052931c6287cc0a56b623d58a1b24924de16bc5519c9442dbe9162da.js?body=1" for ::1 at 2017-05-01 15:57:41 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 15:58:04 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (33.7ms)
Completed 200 OK in 60ms (Views: 58.4ms | ActiveRecord: 0.3ms)


Started GET "/planes/1" for ::1 at 2017-05-01 15:58:34 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (20.1ms)
Completed 200 OK in 79ms (Views: 77.4ms | ActiveRecord: 0.3ms)


Started GET "/planes/1" for ::1 at 2017-05-01 16:00:16 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.8ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (30.1ms)
Completed 200 OK in 126ms (Views: 106.6ms | ActiveRecord: 1.0ms)


Started GET "/assets/application.self-c254cefef5b460ac2d19e5d8f188b9906e3333d8f5f9e5d9e6911f2d01ebe9f2.css?body=1" for ::1 at 2017-05-01 16:00:17 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 16:00:59 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.8ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (24.8ms)
Completed 200 OK in 78ms (Views: 66.5ms | ActiveRecord: 0.9ms)


Started GET "/assets/application.self-146fedbfc84c4c73a92e49db998f6b853ebcbd7ea6d582f8b0a92b455d075505.css?body=1" for ::1 at 2017-05-01 16:00:59 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 16:01:04 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.3ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.4ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (21.5ms)
Completed 200 OK in 108ms (Views: 104.9ms | ActiveRecord: 0.7ms)


Started GET "/planes/1" for ::1 at 2017-05-01 16:01:13 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (13.6ms)
Completed 200 OK in 90ms (Views: 88.2ms | ActiveRecord: 0.3ms)


Started GET "/assets/plane_form_action.self-264c7a60a999d4442b154636103ec983351bf1275523ff213c0006b64d5a3184.js?body=1" for ::1 at 2017-05-01 16:01:14 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 16:01:17 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (26.2ms)
Completed 200 OK in 67ms (Views: 64.6ms | ActiveRecord: 0.3ms)


Started GET "/planes/1" for ::1 at 2017-05-01 16:01:57 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.6ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (37.3ms)
Completed 200 OK in 141ms (Views: 130.6ms | ActiveRecord: 0.7ms)


Started GET "/assets/plane_form_action.self-5b71ad3a5c56c59f4a587c9844e3851e1e1b46a2ae856cef145f3bf5837882c6.js?body=1" for ::1 at 2017-05-01 16:01:57 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 16:16:12 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.8ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (165.5ms)
Completed 200 OK in 396ms (Views: 364.4ms | ActiveRecord: 1.0ms)


Started GET "/assets/plane_form_action.self-6789ea4db9f4d8f83b20d7e7ea8f88b1b64036718f725442d69a5e0118773192.js?body=1" for ::1 at 2017-05-01 16:16:13 +0530


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 16:16:17 +0530
Processing by PlanesController#book_tickets as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"IBW1xrcOLFcEXgSQhtxHktcP0hcbkqxIJ/iOlKyc26QvR3IkDhk+ef0Z4Lwx5Dpi21x+arvaQjd+jmgNaybmkA==", "number"=>"1", "commit"=>"submit", "plane_id"=>"1"}
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `book_tickets!' for nil:NilClass):
  app/controllers/planes_controller.rb:40:in `book_tickets'


  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (11.4ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (79.8ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.0ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (108.3ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (197.6ms)


Started GET "/planes/1" for ::1 at 2017-05-01 16:16:37 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (1.6ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (42.0ms)
Completed 200 OK in 168ms (Views: 150.9ms | ActiveRecord: 1.7ms)


Started GET "/assets/plane_form_action.self-fc062131104f868adb69fada2044c185bce7c07486ed4ae568582217ea4fc75a.js?body=1" for ::1 at 2017-05-01 16:16:37 +0530


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 16:16:45 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"plane_id"=>"1"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `book_tickets!' for nil:NilClass):
  app/controllers/planes_controller.rb:40:in `book_tickets'


  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.5ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.3ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.0ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (55.3ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 16:17:14 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"plane_id"=>"1"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `book_tickets!' for nil:NilClass):
  app/controllers/planes_controller.rb:40:in `book_tickets'


  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.3ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.5ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.3ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (53.6ms)


Started GET "/planes/1" for ::1 at 2017-05-01 16:20:57 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.5ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.7ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (66.0ms)
Completed 200 OK in 212ms (Views: 166.9ms | ActiveRecord: 4.4ms)


Started GET "/assets/plane_form_action.self-ac04625c8d0393315734b55f2222a0b54b4ca27cef173a2dcccc156b4de199ae.js?body=1" for ::1 at 2017-05-01 16:20:57 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 16:21:47 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.9ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.4ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (61.3ms)
Completed 200 OK in 244ms (Views: 222.6ms | ActiveRecord: 1.3ms)


Started GET "/assets/plane_form_action.self-99558a7b93a0c3ab957cf19a524db177d2d6393b6de269d0ad401847ca1bb88a.js?body=1" for ::1 at 2017-05-01 16:21:47 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 16:22:34 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (23.4ms)
Completed 200 OK in 179ms (Views: 176.4ms | ActiveRecord: 0.3ms)


Started GET "/assets/plane_form_action.self-92abd0a317674bf0749e4d38abdf2a1e7ced6082864afb7c30cd2772c9b73a41.js?body=1" for ::1 at 2017-05-01 16:22:34 +0530


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 16:22:42 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"0kWgdzh55phxD62FHw3DnL44avUIS0/uDbXX0yKHVJDdF2eVgW70tohISamoNb5ssmvGiKgDoZFUwzFK5T1ppA==", "number"=>"2", "plane_id"=>"1"}
Completed 500 Internal Server Error in 15048ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `book_tickets!' for nil:NilClass):
  app/controllers/planes_controller.rb:41:in `book_tickets'


  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (49.1ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.8ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.6ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (98.9ms)
  [1m[35mPlane Load (0.4ms)[0m  SELECT  "planes".* FROM "planes"  ORDER BY "planes"."id" ASC LIMIT 1
  [1m[36mPlane Load (0.7ms)[0m  [1mSELECT  "planes".* FROM "planes"  ORDER BY "planes"."id" ASC LIMIT 1[0m
  [1m[35mPlane Load (0.4ms)[0m  SELECT  "planes".* FROM "planes"  ORDER BY "planes"."id" ASC LIMIT 1
  [1m[36mSeat Load (0.8ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 0]]
  [1m[35mLane Load (7.0ms)[0m  SELECT "lanes".* FROM "lanes"
  [1m[36mPlane Load (3.3ms)[0m  [1mSELECT  "planes".* FROM "planes"  ORDER BY "planes"."id" ASC LIMIT 1[0m
  [1m[35mLane Load (1.1ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddNumberToLane (20170501132723)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (1.5ms)[0m  [1mALTER TABLE "lanes" ADD "number" integer[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170501132723"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_lanes_on_plane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_lanes_on_plane_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_seats_on_lane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_seats_on_lane_id' AND type='index'

  [1m[36mLane Load (1.3ms)[0m  [1mSELECT "lanes".* FROM "lanes"[0m
  [1m[35mLane Load (2.2ms)[0m  SELECT "lanes".* FROM "lanes"
  [1m[36mLane Load (1.7ms)[0m  [1mSELECT "lanes".* FROM "lanes"[0m
  [1m[35m (4.0ms)[0m  begin transaction
  [1m[36m (2.0ms)[0m  [1mrollback transaction[0m
  [1m[35mLane Load (0.3ms)[0m  SELECT "lanes".* FROM "lanes"
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes"[0m
  [1m[35mSQL (3.7ms)[0m  UPDATE "lanes" SET "number" = 1 WHERE "lanes"."id" = ?  [["id", 1]]
  [1m[36mSQL (2.4ms)[0m  [1mUPDATE "lanes" SET "number" = 2 WHERE "lanes"."id" = ?[0m  [["id", 2]]
  [1m[35mLane Load (0.3ms)[0m  SELECT "lanes".* FROM "lanes"


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 19:21:21 +0530
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"0kWgdzh55phxD62FHw3DnL44avUIS0/uDbXX0yKHVJDdF2eVgW70tohISamoNb5ssmvGiKgDoZFUwzFK5T1ppA==", "number"=>"2", "plane_id"=>"1"}
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `book_tickets' for nil:NilClass):
  app/controllers/planes_controller.rb:40:in `book_tickets'


  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (14.0ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.3ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.3ms)
  Rendered /Users/shrutigupta/.rvm/gems/ruby-2.4.1/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (72.8ms)


Started GET "/" for ::1 at 2017-05-01 19:27:13 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomeController#index as HTML
  Rendered home/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 468ms (Views: 457.9ms | ActiveRecord: 0.0ms)


Started GET "/assets/plane.self-9b556eada44f6c3269dcceb96cf0522c6322a03f7fd965b6f97fd86c36db356e.css?body=1" for ::1 at 2017-05-01 19:27:14 +0530


Started GET "/assets/application.self-146fedbfc84c4c73a92e49db998f6b853ebcbd7ea6d582f8b0a92b455d075505.css?body=1" for ::1 at 2017-05-01 19:27:14 +0530


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2017-05-01 19:27:14 +0530


Started GET "/assets/plane.self-ffd6d5195590168d9fd5f88a10dc4be481e6c1e5a9b93656fac5f6b86ed0cc5c.js?body=1" for ::1 at 2017-05-01 19:27:14 +0530


Started GET "/assets/plane_form_action.self-8835de11cb0399e2a79320f4874b166e776ef79af4b81319e8b6abaeb3366f4f.js?body=1" for ::1 at 2017-05-01 19:27:14 +0530


Started GET "/planes" for ::1 at 2017-05-01 19:27:17 +0530
Processing by PlanesController#index as HTML
  [1m[35mPlane Load (1.3ms)[0m  SELECT "planes".* FROM "planes"
  Rendered planes/index.html.erb within layouts/application (8.5ms)
Completed 200 OK in 54ms (Views: 43.7ms | ActiveRecord: 1.6ms)


Started GET "/planes/1" for ::1 at 2017-05-01 19:27:18 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.4ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.6ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (45.6ms)
Completed 200 OK in 79ms (Views: 59.9ms | ActiveRecord: 1.2ms)


Started GET "/planes/1" for ::1 at 2017-05-01 19:27:30 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.3ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (10.7ms)
Completed 200 OK in 30ms (Views: 27.7ms | ActiveRecord: 0.4ms)


Started GET "/planes/1" for ::1 at 2017-05-01 19:27:52 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.3ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (15.4ms)
Completed 200 OK in 102ms (Views: 99.3ms | ActiveRecord: 0.4ms)


Started GET "/assets/plane.self-695eeef45d1b2adced2e33d4ac4bf862ce6f2f7c8af349bd00a3fa71195dcad3.js?body=1" for ::1 at 2017-05-01 19:27:52 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 19:28:05 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (20.3ms)
Completed 200 OK in 110ms (Views: 108.0ms | ActiveRecord: 0.3ms)


Started GET "/assets/plane.self-57062c408028b5666caf8a0589784f3fab57186fdaeebbc2a1f3a49b757823d3.js?body=1" for ::1 at 2017-05-01 19:28:05 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 19:30:58 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSeat Load (1.3ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  [1m[36mPlane Load (1.8ms)[0m  [1mSELECT "planes".* FROM "planes"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "planes" WHERE "planes"."id" = ?[0m  [["id", 1]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (1.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.4ms)[0m  select sqlite_version(*)
  [1m[36m (0.7ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePlanes (20170430105326)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "planes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170430105326"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateLanes (20170430105413)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "lanes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "row" integer, "column" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170430105413"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateSeats (20170430105804)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "seats" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "lane_id" integer, "number" integer, "status" integer DEFAULT 0, "kind" integer, "booking_order" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_seats_on_lane_id" ON "seats" ("lane_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170430105804"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddPlaneIdToLane (20170501064157)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "lanes" ADD "plane_id" integer[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_lanes_on_plane_id" ON "lanes" ("plane_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170501064157"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddNumberToLane (20170501132723)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "lanes" ADD "number" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170501132723"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_lanes_on_plane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_lanes_on_plane_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_seats_on_lane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_seats_on_lane_id' AND type='index'
[0m
  Rendered planes/show.html.erb within layouts/application (15.8ms)
Completed 200 OK in 97768ms (Views: 50.9ms | ActiveRecord: 2.4ms)


Started GET "/" for ::1 at 2017-05-01 19:32:36 +0530
Processing by HomeController#index as HTML
  Rendered home/index.html.erb within layouts/application (0.2ms)
Completed 200 OK in 19ms (Views: 18.1ms | ActiveRecord: 0.0ms)


Started GET "/planes/new" for ::1 at 2017-05-01 19:32:39 +0530
Processing by PlanesController#new as HTML
  Rendered planes/_form.html.erb (23.0ms)
  Rendered planes/new.html.erb within layouts/application (26.2ms)
Completed 200 OK in 67ms (Views: 49.3ms | ActiveRecord: 1.0ms)


Started POST "/planes" for ::1 at 2017-05-01 19:32:52 +0530
Processing by PlanesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ROa7IYu+FWkkogeK+UOj51DlYo/N4RejMR6e4ImawtBGoCyJ5L/fCizusxMVh16/cw9uE/3DWQXBo4Iqbl+5RA==", "plane"=>{"name"=>"Jet", "lanes_attributes"=>{"1493647364408"=>{"row"=>"3", "column"=>"2", "_destroy"=>"false"}, "1493647368571"=>{"row"=>"4", "column"=>"3", "_destroy"=>"false"}}}, "commit"=>"Create Plane"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "planes" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Jet"], ["created_at", "2017-05-01 14:02:52.106058"], ["updated_at", "2017-05-01 14:02:52.106058"]]
  [1m[35m (0.6ms)[0m  rollback transaction
Completed 500 Internal Server Error in 10ms (ActiveRecord: 1.4ms)

NoMethodError (undefined method `+' for nil:NilClass):
  app/models/lane.rb:14:in `block in save_seats'
  app/models/lane.rb:13:in `times'
  app/models/lane.rb:13:in `save_seats'
  app/controllers/planes_controller.rb:14:in `create'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (57.6ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (53.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (118.8ms)


Started POST "/planes" for ::1 at 2017-05-01 19:33:14 +0530
Processing by PlanesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ROa7IYu+FWkkogeK+UOj51DlYo/N4RejMR6e4ImawtBGoCyJ5L/fCizusxMVh16/cw9uE/3DWQXBo4Iqbl+5RA==", "plane"=>{"name"=>"Jet", "lanes_attributes"=>{"1493647364408"=>{"row"=>"3", "column"=>"2", "_destroy"=>"false"}, "1493647368571"=>{"row"=>"4", "column"=>"3", "_destroy"=>"false"}}}, "commit"=>"Create Plane"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "planes" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Jet"], ["created_at", "2017-05-01 14:03:14.800950"], ["updated_at", "2017-05-01 14:03:14.800950"]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
Completed 500 Internal Server Error in 8192ms (ActiveRecord: 1.4ms)

NoMethodError (undefined method `+' for nil:NilClass):
  app/models/lane.rb:15:in `block in save_seats'
  app/models/lane.rb:14:in `times'
  app/models/lane.rb:14:in `save_seats'
  app/controllers/planes_controller.rb:14:in `create'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.9ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.6ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (56.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (45.8ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (104.8ms)


Started POST "/planes" for ::1 at 2017-05-01 19:33:58 +0530
Processing by PlanesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ROa7IYu+FWkkogeK+UOj51DlYo/N4RejMR6e4ImawtBGoCyJ5L/fCizusxMVh16/cw9uE/3DWQXBo4Iqbl+5RA==", "plane"=>{"name"=>"Jet", "lanes_attributes"=>{"1493647364408"=>{"row"=>"3", "column"=>"2", "_destroy"=>"false"}, "1493647368571"=>{"row"=>"4", "column"=>"3", "_destroy"=>"false"}}}, "commit"=>"Create Plane"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "planes" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Jet"], ["created_at", "2017-05-01 14:03:59.030438"], ["updated_at", "2017-05-01 14:03:59.030438"]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["row", 3], ["column", 2], ["plane_id", 1], ["created_at", "2017-05-01 14:03:59.047981"], ["updated_at", "2017-05-01 14:03:59.047981"]]
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 0], ["lane_id", 1], ["created_at", "2017-05-01 14:03:59.049605"], ["updated_at", "2017-05-01 14:03:59.049605"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 1], ["lane_id", 1], ["created_at", "2017-05-01 14:03:59.052026"], ["updated_at", "2017-05-01 14:03:59.052026"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 2], ["lane_id", 1], ["created_at", "2017-05-01 14:03:59.053925"], ["updated_at", "2017-05-01 14:03:59.053925"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 2], ["lane_id", 1], ["created_at", "2017-05-01 14:03:59.055812"], ["updated_at", "2017-05-01 14:03:59.055812"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 3], ["lane_id", 1], ["created_at", "2017-05-01 14:03:59.057019"], ["updated_at", "2017-05-01 14:03:59.057019"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 4], ["lane_id", 1], ["created_at", "2017-05-01 14:03:59.058468"], ["updated_at", "2017-05-01 14:03:59.058468"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 4], ["lane_id", 1], ["created_at", "2017-05-01 14:03:59.059858"], ["updated_at", "2017-05-01 14:03:59.059858"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 5], ["lane_id", 1], ["created_at", "2017-05-01 14:03:59.061166"], ["updated_at", "2017-05-01 14:03:59.061166"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 6], ["lane_id", 1], ["created_at", "2017-05-01 14:03:59.062433"], ["updated_at", "2017-05-01 14:03:59.062433"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["row", 4], ["column", 3], ["plane_id", 1], ["created_at", "2017-05-01 14:03:59.067554"], ["updated_at", "2017-05-01 14:03:59.067554"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 0], ["lane_id", 2], ["created_at", "2017-05-01 14:03:59.068961"], ["updated_at", "2017-05-01 14:03:59.068961"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 1], ["lane_id", 2], ["created_at", "2017-05-01 14:03:59.070110"], ["updated_at", "2017-05-01 14:03:59.070110"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 2], ["lane_id", 2], ["created_at", "2017-05-01 14:03:59.071156"], ["updated_at", "2017-05-01 14:03:59.071156"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 3], ["lane_id", 2], ["created_at", "2017-05-01 14:03:59.072195"], ["updated_at", "2017-05-01 14:03:59.072195"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 3], ["lane_id", 2], ["created_at", "2017-05-01 14:03:59.073225"], ["updated_at", "2017-05-01 14:03:59.073225"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 4], ["lane_id", 2], ["created_at", "2017-05-01 14:03:59.074395"], ["updated_at", "2017-05-01 14:03:59.074395"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 5], ["lane_id", 2], ["created_at", "2017-05-01 14:03:59.075697"], ["updated_at", "2017-05-01 14:03:59.075697"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 6], ["lane_id", 2], ["created_at", "2017-05-01 14:03:59.076824"], ["updated_at", "2017-05-01 14:03:59.076824"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 6], ["lane_id", 2], ["created_at", "2017-05-01 14:03:59.077873"], ["updated_at", "2017-05-01 14:03:59.077873"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 7], ["lane_id", 2], ["created_at", "2017-05-01 14:03:59.079160"], ["updated_at", "2017-05-01 14:03:59.079160"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 8], ["lane_id", 2], ["created_at", "2017-05-01 14:03:59.080266"], ["updated_at", "2017-05-01 14:03:59.080266"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 9], ["lane_id", 2], ["created_at", "2017-05-01 14:03:59.081645"], ["updated_at", "2017-05-01 14:03:59.081645"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 9], ["lane_id", 2], ["created_at", "2017-05-01 14:03:59.084014"], ["updated_at", "2017-05-01 14:03:59.084014"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 10], ["lane_id", 2], ["created_at", "2017-05-01 14:03:59.086420"], ["updated_at", "2017-05-01 14:03:59.086420"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 11], ["lane_id", 2], ["created_at", "2017-05-01 14:03:59.087939"], ["updated_at", "2017-05-01 14:03:59.087939"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 12], ["lane_id", 2], ["created_at", "2017-05-01 14:03:59.089688"], ["updated_at", "2017-05-01 14:03:59.089688"]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  ORDER BY "lanes"."id" ASC[0m  [["plane_id", 1]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "lanes" SET "number" = 1 WHERE "lanes"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "lanes" SET "number" = 2 WHERE "lanes"."id" = ?[0m  [["id", 2]]
  [1m[35m (2.0ms)[0m  rollback transaction
Completed 500 Internal Server Error in 83ms (ActiveRecord: 7.4ms)

NoMethodError (undefined method `order' for nil:NilClass):
  app/models/plane.rb:23:in `mark_seats'
  app/controllers/planes_controller.rb:14:in `create'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (56.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (44.8ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (102.4ms)


Started PUT "/__web_console/repl_sessions/7a084fbe03427fece59736e43aae696d" for ::1 at 2017-05-01 19:34:09 +0530


Started PUT "/__web_console/repl_sessions/7a084fbe03427fece59736e43aae696d" for ::1 at 2017-05-01 19:34:11 +0530


Started PUT "/__web_console/repl_sessions/7a084fbe03427fece59736e43aae696d" for ::1 at 2017-05-01 19:34:18 +0530


Started POST "/planes" for ::1 at 2017-05-01 19:35:14 +0530
Processing by PlanesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ROa7IYu+FWkkogeK+UOj51DlYo/N4RejMR6e4ImawtBGoCyJ5L/fCizusxMVh16/cw9uE/3DWQXBo4Iqbl+5RA==", "plane"=>{"name"=>"Jet", "lanes_attributes"=>{"1493647364408"=>{"row"=>"3", "column"=>"2", "_destroy"=>"false"}, "1493647368571"=>{"row"=>"4", "column"=>"3", "_destroy"=>"false"}}}, "commit"=>"Create Plane"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "planes" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Jet"], ["created_at", "2017-05-01 14:05:14.329723"], ["updated_at", "2017-05-01 14:05:14.329723"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["row", 3], ["column", 2], ["plane_id", 1], ["created_at", "2017-05-01 14:05:14.343382"], ["updated_at", "2017-05-01 14:05:14.343382"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 0], ["lane_id", 1], ["created_at", "2017-05-01 14:05:14.344560"], ["updated_at", "2017-05-01 14:05:14.344560"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 1], ["lane_id", 1], ["created_at", "2017-05-01 14:05:14.345645"], ["updated_at", "2017-05-01 14:05:14.345645"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 2], ["lane_id", 1], ["created_at", "2017-05-01 14:05:14.346759"], ["updated_at", "2017-05-01 14:05:14.346759"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 2], ["lane_id", 1], ["created_at", "2017-05-01 14:05:14.347849"], ["updated_at", "2017-05-01 14:05:14.347849"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 3], ["lane_id", 1], ["created_at", "2017-05-01 14:05:14.348860"], ["updated_at", "2017-05-01 14:05:14.348860"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 4], ["lane_id", 1], ["created_at", "2017-05-01 14:05:14.349718"], ["updated_at", "2017-05-01 14:05:14.349718"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 4], ["lane_id", 1], ["created_at", "2017-05-01 14:05:14.350559"], ["updated_at", "2017-05-01 14:05:14.350559"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 5], ["lane_id", 1], ["created_at", "2017-05-01 14:05:14.351391"], ["updated_at", "2017-05-01 14:05:14.351391"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 6], ["lane_id", 1], ["created_at", "2017-05-01 14:05:14.352223"], ["updated_at", "2017-05-01 14:05:14.352223"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["row", 4], ["column", 3], ["plane_id", 1], ["created_at", "2017-05-01 14:05:14.356871"], ["updated_at", "2017-05-01 14:05:14.356871"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 0], ["lane_id", 2], ["created_at", "2017-05-01 14:05:14.357801"], ["updated_at", "2017-05-01 14:05:14.357801"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 1], ["lane_id", 2], ["created_at", "2017-05-01 14:05:14.358719"], ["updated_at", "2017-05-01 14:05:14.358719"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 2], ["lane_id", 2], ["created_at", "2017-05-01 14:05:14.359584"], ["updated_at", "2017-05-01 14:05:14.359584"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 3], ["lane_id", 2], ["created_at", "2017-05-01 14:05:14.360476"], ["updated_at", "2017-05-01 14:05:14.360476"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 3], ["lane_id", 2], ["created_at", "2017-05-01 14:05:14.361353"], ["updated_at", "2017-05-01 14:05:14.361353"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 4], ["lane_id", 2], ["created_at", "2017-05-01 14:05:14.362383"], ["updated_at", "2017-05-01 14:05:14.362383"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 5], ["lane_id", 2], ["created_at", "2017-05-01 14:05:14.363404"], ["updated_at", "2017-05-01 14:05:14.363404"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 6], ["lane_id", 2], ["created_at", "2017-05-01 14:05:14.364326"], ["updated_at", "2017-05-01 14:05:14.364326"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 6], ["lane_id", 2], ["created_at", "2017-05-01 14:05:14.365770"], ["updated_at", "2017-05-01 14:05:14.365770"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 7], ["lane_id", 2], ["created_at", "2017-05-01 14:05:14.366876"], ["updated_at", "2017-05-01 14:05:14.366876"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 8], ["lane_id", 2], ["created_at", "2017-05-01 14:05:14.367932"], ["updated_at", "2017-05-01 14:05:14.367932"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 9], ["lane_id", 2], ["created_at", "2017-05-01 14:05:14.368935"], ["updated_at", "2017-05-01 14:05:14.368935"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 9], ["lane_id", 2], ["created_at", "2017-05-01 14:05:14.369803"], ["updated_at", "2017-05-01 14:05:14.369803"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 10], ["lane_id", 2], ["created_at", "2017-05-01 14:05:14.370653"], ["updated_at", "2017-05-01 14:05:14.370653"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 11], ["lane_id", 2], ["created_at", "2017-05-01 14:05:14.371467"], ["updated_at", "2017-05-01 14:05:14.371467"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 12], ["lane_id", 2], ["created_at", "2017-05-01 14:05:14.372934"], ["updated_at", "2017-05-01 14:05:14.372934"]]
  [1m[35mLane Load (0.1ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  ORDER BY "lanes"."id" ASC  [["plane_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "lanes" SET "number" = 1 WHERE "lanes"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "lanes" SET "number" = 2 WHERE "lanes"."id" = ?  [["id", 2]]
  [1m[36mLane Load (0.0ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  ORDER BY "lanes"."id" ASC[0m  [["plane_id", 1]]
  [1m[35m (1.2ms)[0m  rollback transaction
Completed 500 Internal Server Error in 67ms (ActiveRecord: 4.8ms)

NoMethodError (undefined method `seats' for #<Array:0x007f988727cdc0>):
  app/models/plane.rb:25:in `block in mark_seats'
  app/models/plane.rb:24:in `each'
  app/models/plane.rb:24:in `each_with_index'
  app/models/plane.rb:24:in `mark_seats'
  app/controllers/planes_controller.rb:14:in `create'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (51.7ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (43.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (94.8ms)


Started POST "/planes" for ::1 at 2017-05-01 19:35:35 +0530
Processing by PlanesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ROa7IYu+FWkkogeK+UOj51DlYo/N4RejMR6e4ImawtBGoCyJ5L/fCizusxMVh16/cw9uE/3DWQXBo4Iqbl+5RA==", "plane"=>{"name"=>"Jet", "lanes_attributes"=>{"1493647364408"=>{"row"=>"3", "column"=>"2", "_destroy"=>"false"}, "1493647368571"=>{"row"=>"4", "column"=>"3", "_destroy"=>"false"}}}, "commit"=>"Create Plane"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "planes" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Jet"], ["created_at", "2017-05-01 14:05:35.129865"], ["updated_at", "2017-05-01 14:05:35.129865"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["row", 3], ["column", 2], ["plane_id", 1], ["created_at", "2017-05-01 14:05:35.144976"], ["updated_at", "2017-05-01 14:05:35.144976"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 0], ["lane_id", 1], ["created_at", "2017-05-01 14:05:35.146440"], ["updated_at", "2017-05-01 14:05:35.146440"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 1], ["lane_id", 1], ["created_at", "2017-05-01 14:05:35.147623"], ["updated_at", "2017-05-01 14:05:35.147623"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 2], ["lane_id", 1], ["created_at", "2017-05-01 14:05:35.148716"], ["updated_at", "2017-05-01 14:05:35.148716"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 2], ["lane_id", 1], ["created_at", "2017-05-01 14:05:35.149730"], ["updated_at", "2017-05-01 14:05:35.149730"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 3], ["lane_id", 1], ["created_at", "2017-05-01 14:05:35.150798"], ["updated_at", "2017-05-01 14:05:35.150798"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 4], ["lane_id", 1], ["created_at", "2017-05-01 14:05:35.152109"], ["updated_at", "2017-05-01 14:05:35.152109"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 4], ["lane_id", 1], ["created_at", "2017-05-01 14:05:35.153366"], ["updated_at", "2017-05-01 14:05:35.153366"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 5], ["lane_id", 1], ["created_at", "2017-05-01 14:05:35.154508"], ["updated_at", "2017-05-01 14:05:35.154508"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 6], ["lane_id", 1], ["created_at", "2017-05-01 14:05:35.155712"], ["updated_at", "2017-05-01 14:05:35.155712"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["row", 4], ["column", 3], ["plane_id", 1], ["created_at", "2017-05-01 14:05:35.163027"], ["updated_at", "2017-05-01 14:05:35.163027"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 0], ["lane_id", 2], ["created_at", "2017-05-01 14:05:35.164167"], ["updated_at", "2017-05-01 14:05:35.164167"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 1], ["lane_id", 2], ["created_at", "2017-05-01 14:05:35.165301"], ["updated_at", "2017-05-01 14:05:35.165301"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 2], ["lane_id", 2], ["created_at", "2017-05-01 14:05:35.166304"], ["updated_at", "2017-05-01 14:05:35.166304"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 3], ["lane_id", 2], ["created_at", "2017-05-01 14:05:35.167752"], ["updated_at", "2017-05-01 14:05:35.167752"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 3], ["lane_id", 2], ["created_at", "2017-05-01 14:05:35.169398"], ["updated_at", "2017-05-01 14:05:35.169398"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 4], ["lane_id", 2], ["created_at", "2017-05-01 14:05:35.170502"], ["updated_at", "2017-05-01 14:05:35.170502"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 5], ["lane_id", 2], ["created_at", "2017-05-01 14:05:35.171593"], ["updated_at", "2017-05-01 14:05:35.171593"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 6], ["lane_id", 2], ["created_at", "2017-05-01 14:05:35.172828"], ["updated_at", "2017-05-01 14:05:35.172828"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 6], ["lane_id", 2], ["created_at", "2017-05-01 14:05:35.173875"], ["updated_at", "2017-05-01 14:05:35.173875"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 7], ["lane_id", 2], ["created_at", "2017-05-01 14:05:35.175213"], ["updated_at", "2017-05-01 14:05:35.175213"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 8], ["lane_id", 2], ["created_at", "2017-05-01 14:05:35.176262"], ["updated_at", "2017-05-01 14:05:35.176262"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 9], ["lane_id", 2], ["created_at", "2017-05-01 14:05:35.177353"], ["updated_at", "2017-05-01 14:05:35.177353"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 9], ["lane_id", 2], ["created_at", "2017-05-01 14:05:35.178628"], ["updated_at", "2017-05-01 14:05:35.178628"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 10], ["lane_id", 2], ["created_at", "2017-05-01 14:05:35.179693"], ["updated_at", "2017-05-01 14:05:35.179693"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 11], ["lane_id", 2], ["created_at", "2017-05-01 14:05:35.180687"], ["updated_at", "2017-05-01 14:05:35.180687"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 12], ["lane_id", 2], ["created_at", "2017-05-01 14:05:35.181695"], ["updated_at", "2017-05-01 14:05:35.181695"]]
  [1m[35mLane Load (0.1ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  ORDER BY "lanes"."id" ASC  [["plane_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "lanes" SET "number" = 1 WHERE "lanes"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "lanes" SET "number" = 2 WHERE "lanes"."id" = ?  [["id", 2]]
  [1m[36mLane Load (0.0ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  ORDER BY "lanes"."id" ASC[0m  [["plane_id", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" WHERE "seats"."lane_id" = ?  ORDER BY "seats"."number" ASC  [["lane_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 0], ["updated_at", "2017-05-01 14:05:35.186281"], ["id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 2], ["updated_at", "2017-05-01 14:05:35.187937"], ["id", 9]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:05:35.189297"], ["id", 2]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:05:35.190308"], ["id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:05:35.191442"], ["id", 4]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:05:35.192754"], ["id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:05:35.193958"], ["id", 6]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:05:35.195032"], ["id", 7]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:05:35.196202"], ["id", 8]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" WHERE "seats"."lane_id" = ?  ORDER BY "seats"."number" ASC  [["lane_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 14:05:35.198913"], ["id", 10]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 0], ["updated_at", "2017-05-01 14:05:35.200131"], ["id", 25]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:05:35.201883"], ["id", 11]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:05:35.203509"], ["id", 12]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:05:35.204668"], ["id", 13]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:05:35.205966"], ["id", 14]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:05:35.207004"], ["id", 15]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:05:35.208110"], ["id", 16]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:05:35.209404"], ["id", 17]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:05:35.210572"], ["id", 18]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:05:35.211718"], ["id", 19]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:05:35.212890"], ["id", 20]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:05:35.214081"], ["id", 21]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:05:35.215074"], ["id", 22]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:05:35.216290"], ["id", 23]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:05:35.217399"], ["id", 24]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/planes
Completed 302 Found in 111ms (ActiveRecord: 7.3ms)


Started GET "/planes" for ::1 at 2017-05-01 19:35:35 +0530
Processing by PlanesController#index as HTML
  [1m[35mPlane Load (0.1ms)[0m  SELECT "planes".* FROM "planes"
  Rendered planes/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 21ms (Views: 20.1ms | ActiveRecord: 0.1ms)


Started GET "/planes/1" for ::1 at 2017-05-01 19:35:37 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.4ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.3ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (16.7ms)
Completed 200 OK in 38ms (Views: 32.9ms | ActiveRecord: 0.7ms)


Started GET "/planes/1" for ::1 at 2017-05-01 19:37:14 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.2ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (19.1ms)
Completed 200 OK in 124ms (Views: 120.0ms | ActiveRecord: 0.3ms)


Started GET "/assets/plane.self-6275854d4877a52d10e44943a8cd74d8ba52a875487f70e0d2af06f1e63f414f.js?body=1" for ::1 at 2017-05-01 19:37:14 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 19:37:18 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (7.2ms)
Completed 200 OK in 22ms (Views: 21.0ms | ActiveRecord: 0.2ms)
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT  "lanes".* FROM "lanes"  ORDER BY "lanes"."id" ASC LIMIT 1[0m


Started GET "/planes/1" for ::1 at 2017-05-01 19:38:12 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.2ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (17.9ms)
Completed 200 OK in 52ms (Views: 39.8ms | ActiveRecord: 1.5ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 19:38:39 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"oWTb6rZSRq0CWICELB/vfA7FGDwjrYPfnrg5WwNnwKejIkxC2VOMzgoUNB3A2xIkLS8UoBOPzXluBSWR5KK7Mw==", "count"=>"10", "plane_id"=>"1"}
Completed 500 Internal Server Error in 9020ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `book_tickets' for nil:NilClass):
  app/controllers/planes_controller.rb:41:in `book_tickets'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.7ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.7ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (51.1ms)


Started GET "/planes/1" for ::1 at 2017-05-01 19:38:52 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.3ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (16.5ms)
Completed 200 OK in 56ms (Views: 39.3ms | ActiveRecord: 2.0ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 19:38:57 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"bn1jvVhIKvnzppoCe7tRFnyanYjcAjOjIfTfj9SFogJsO/QVN0ngmvvqLpuXf6xOX3CRFOwgfQXRScNFM0DZlg==", "count"=>"10", "plane_id"=>"1"}
Completed 500 Internal Server Error in 35865ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `book_tickets' for nil:NilClass):
  app/controllers/planes_controller.rb:41:in `book_tickets'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.2ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.6ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (57.3ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 19:39:36 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"bn1jvVhIKvnzppoCe7tRFnyanYjcAjOjIfTfj9SFogJsO/QVN0ngmvvqLpuXf6xOX3CRFOwgfQXRScNFM0DZlg==", "count"=>"10", "plane_id"=>"1"}
  [1m[36mPlane Load (0.3ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" IS NULL LIMIT 1[0m
Redirected to http://localhost:3000/planes
Filter chain halted as :load_plane rendered or redirected
Completed 200 OK in 6ms (ActiveRecord: 0.4ms)


Started GET "/planes" for ::1 at 2017-05-01 19:39:36 +0530
Processing by PlanesController#index as HTML
  [1m[35mPlane Load (0.7ms)[0m  SELECT "planes".* FROM "planes"
  Rendered planes/index.html.erb within layouts/application (7.0ms)
Completed 200 OK in 56ms (Views: 53.4ms | ActiveRecord: 1.3ms)


Started GET "/planes" for ::1 at 2017-05-01 19:39:39 +0530
Processing by PlanesController#index as HTML
  [1m[36mPlane Load (0.2ms)[0m  [1mSELECT "planes".* FROM "planes"[0m
  Rendered planes/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 33ms (Views: 32.3ms | ActiveRecord: 0.2ms)


Started GET "/planes/1" for ::1 at 2017-05-01 19:39:40 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (32.3ms)
Completed 200 OK in 54ms (Views: 50.4ms | ActiveRecord: 1.1ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 19:39:43 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"172u19+kNnN61fMzhsvqsR7nbMXVNQZ1aE+nPQdgWYnV+zl/sKX8EHKZR6pqDxfpPQ1gWeUXSNOY8rv34KUiHQ==", "count"=>"10", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" IS NULL LIMIT 1
Redirected to http://localhost:3000/planes
Filter chain halted as :load_plane rendered or redirected
Completed 200 OK in 2ms (ActiveRecord: 0.1ms)


Started GET "/planes" for ::1 at 2017-05-01 19:39:43 +0530
Processing by PlanesController#index as HTML
  [1m[36mPlane Load (0.2ms)[0m  [1mSELECT "planes".* FROM "planes"[0m
  Rendered planes/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 24ms (Views: 22.5ms | ActiveRecord: 0.2ms)


Started GET "/planes" for ::1 at 2017-05-01 19:39:56 +0530
Processing by PlanesController#index as HTML
  [1m[35mPlane Load (1.5ms)[0m  SELECT "planes".* FROM "planes"
  Rendered planes/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 38ms (Views: 32.5ms | ActiveRecord: 1.8ms)


Started GET "/planes/1" for ::1 at 2017-05-01 19:39:59 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.2ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (12.6ms)
Completed 200 OK in 4090ms (Views: 24.3ms | ActiveRecord: 0.6ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 19:40:07 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"TO5PtVnYrmoHQ9LlqP0nSkVWlSFRbZmY/coMJ199plNOqNgdNtlkCQ8PZnxEOdoSZryZvWFP1z4NdxDtuLjdxw==", "count"=>"10", "plane_id"=>"1"}
  [1m[36mPlane Load (0.2ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" IS NULL LIMIT 1[0m
Redirected to http://localhost:3000/planes
Filter chain halted as :load_plane rendered or redirected
Completed 200 OK in 40082ms (ActiveRecord: 0.2ms)


Started GET "/planes" for ::1 at 2017-05-01 19:40:47 +0530
Processing by PlanesController#index as HTML
  [1m[35mPlane Load (0.4ms)[0m  SELECT "planes".* FROM "planes"
  Rendered planes/index.html.erb within layouts/application (4.1ms)
Completed 200 OK in 37ms (Views: 30.9ms | ActiveRecord: 0.7ms)


Started GET "/planes/1" for ::1 at 2017-05-01 19:40:51 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (1.5ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (24.2ms)
Completed 200 OK in 49ms (Views: 42.8ms | ActiveRecord: 1.9ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 19:40:54 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"nzOaRMXLXa4GPYGqs5vaVKznk4lo5Gia6T4wk6SYg7SddQ3sqsqXzQ5xNTNfXycMjw2fFVjGJjwZgyxZQ134IA==", "count"=>"10", "plane_id"=>"1"}
  [1m[36mPlane Load (0.2ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
Completed 500 Internal Server Error in 32397ms (ActiveRecord: 0.7ms)

ArgumentError (comparison of Fixnum with String failed):
  app/models/plane.rb:55:in `>='
  app/models/plane.rb:55:in `book_tickets'
  app/controllers/planes_controller.rb:41:in `book_tickets'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.1ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.8ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (68.5ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 19:41:30 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"nzOaRMXLXa4GPYGqs5vaVKznk4lo5Gia6T4wk6SYg7SddQ3sqsqXzQ5xNTNfXycMjw2fFVjGJjwZgyxZQ134IA==", "count"=>"10", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 1], ["updated_at", "2017-05-01 14:11:33.724414"], ["id", 9]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 1]]
Completed 200 OK in 3413ms (Views: 0.2ms | ActiveRecord: 4.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats"
  [1m[36mSeat Load (0.4ms)[0m  [1mSELECT "seats".* FROM "seats"[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats"  ORDER BY "seats"."id" ASC LIMIT 1
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats"  ORDER BY "seats"."id" ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT "seats"."status" FROM "seats"


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 19:42:12 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"nzOaRMXLXa4GPYGqs5vaVKznk4lo5Gia6T4wk6SYg7SddQ3sqsqXzQ5xNTNfXycMjw2fFVjGJjwZgyxZQ134IA==", "count"=>"10", "plane_id"=>"1"}
  [1m[36mPlane Load (0.2ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 1]]
Completed 200 OK in 9582ms (Views: 0.1ms | ActiveRecord: 4.4ms)
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats"  ORDER BY "seats"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT "seats"."status" FROM "seats"


Started GET "/planes/1" for ::1 at 2017-05-01 19:42:54 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.3ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (16.4ms)
Completed 200 OK in 42ms (Views: 32.6ms | ActiveRecord: 1.2ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 19:42:58 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"705X3hE+PCi7AgfJ2cZ/u7MNRPJHQMqWn/6VA5R0JwftCMB2fj/2S7NOs1A1AoLjkOdIbndihDBvQ4nJc7Fckw==", "count"=>"10", "plane_id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
Completed 500 Internal Server Error in 13209ms (ActiveRecord: 1.6ms)

SystemExit (exit):
  app/models/plane.rb:71:in `book_ticket'
  app/models/plane.rb:56:in `block in book_tickets'
  app/models/plane.rb:56:in `times'
  app/models/plane.rb:56:in `book_tickets'
  app/controllers/planes_controller.rb:40:in `book_tickets'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (43.1ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.2ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (9.8ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (98.4ms)


Started GET "/planes/1" for ::1 at 2017-05-01 19:47:28 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (345.9ms)
Completed 200 OK in 403ms (Views: 380.1ms | ActiveRecord: 0.9ms)


Started GET "/planes/1" for ::1 at 2017-05-01 19:47:30 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (8.3ms)
Completed 200 OK in 29ms (Views: 27.3ms | ActiveRecord: 0.3ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 19:47:35 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vwUCUhXjF/zSiEcApGnOuWqGBuy/72XMQheNvPvX1zO9Q5X6euLdn9rE85lIrTPhSWwKcI/NK2qyqpF2HBKspw==", "count"=>"11", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["status", 1], ["updated_at", "2017-05-01 14:17:35.603014"], ["id", 9]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 745989ms (Views: 0.5ms | ActiveRecord: 4.3ms)
  [1m[36m (0.3ms)[0m  [1mSELECT "seats"."status" FROM "seats"[0m


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 20:00:14 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vwUCUhXjF/zSiEcApGnOuWqGBuy/72XMQheNvPvX1zO9Q5X6euLdn9rE85lIrTPhSWwKcI/NK2qyqpF2HBKspw==", "count"=>"11", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 11828ms (Views: 0.2ms | ActiveRecord: 3.9ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 20:01:03 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vwUCUhXjF/zSiEcApGnOuWqGBuy/72XMQheNvPvX1zO9Q5X6euLdn9rE85lIrTPhSWwKcI/NK2qyqpF2HBKspw==", "count"=>"11", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
Completed 500 Internal Server Error in 22644ms (ActiveRecord: 2.7ms)

SystemExit (exit):
  app/models/plane.rb:71:in `book_ticket'
  app/models/plane.rb:56:in `block in book_tickets'
  app/models/plane.rb:56:in `times'
  app/models/plane.rb:56:in `book_tickets'
  app/controllers/planes_controller.rb:40:in `book_tickets'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (83.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (3.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (8.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (158.8ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 20:02:08 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vwUCUhXjF/zSiEcApGnOuWqGBuy/72XMQheNvPvX1zO9Q5X6euLdn9rE85lIrTPhSWwKcI/NK2qyqpF2HBKspw==", "count"=>"11", "plane_id"=>"1"}
  [1m[35mPlane Load (0.7ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.6ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35m (0.3ms)[0m  SELECT "seats"."status" FROM "seats"
Completed 500 Internal Server Error in 8507ms (ActiveRecord: 7.4ms)

SystemExit (exit):
  app/models/plane.rb:71:in `book_ticket'
  app/models/plane.rb:56:in `block in book_tickets'
  app/models/plane.rb:56:in `times'
  app/models/plane.rb:56:in `book_tickets'
  app/controllers/planes_controller.rb:40:in `book_tickets'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (100.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (2.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (7.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (162.4ms)
  [1m[36mSQL (1.7ms)[0m  [1mUPDATE "seats" SET "status" = 0[0m


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 20:02:31 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vwUCUhXjF/zSiEcApGnOuWqGBuy/72XMQheNvPvX1zO9Q5X6euLdn9rE85lIrTPhSWwKcI/NK2qyqpF2HBKspw==", "count"=>"11", "plane_id"=>"1"}
  [1m[35mPlane Load (0.3ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.4ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["status", 1], ["updated_at", "2017-05-01 14:32:35.495414"], ["id", 9]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 14:32:37.176523"], ["id", 10]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
Completed 500 Internal Server Error in 5297ms (ActiveRecord: 4.3ms)

NoMethodError (undefined method `windows' for #<Seat::ActiveRecord_AssociationRelation:0x007ffc8f27d420>
Did you mean?  window):
  app/models/plane.rb:66:in `book_ticket'
  app/models/plane.rb:56:in `block in book_tickets'
  app/models/plane.rb:56:in `times'
  app/models/plane.rb:56:in `book_tickets'
  app/controllers/planes_controller.rb:40:in `book_tickets'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.6ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (51.1ms)
  [1m[35mSQL (1.7ms)[0m  UPDATE "seats" SET "status" = 0


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 20:02:53 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vwUCUhXjF/zSiEcApGnOuWqGBuy/72XMQheNvPvX1zO9Q5X6euLdn9rE85lIrTPhSWwKcI/NK2qyqpF2HBKspw==", "count"=>"11", "plane_id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["status", 1], ["updated_at", "2017-05-01 14:32:57.103658"], ["id", 9]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["status", 1], ["updated_at", "2017-05-01 14:32:58.987321"], ["id", 10]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 14:33:11.914061"], ["id", 1]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 14:33:14.223393"], ["id", 25]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 14:33:15.512768"], ["id", 2]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 14:33:16.015270"], ["id", 3]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 14:33:16.444589"], ["id", 4]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 14:33:16.928231"], ["id", 5]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 14:33:17.311869"], ["id", 6]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 14:33:17.765735"], ["id", 7]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 14:33:18.204527"], ["id", 8]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mSQL (1.9ms)[0m  [1mUPDATE "seats" SET "status" = 0[0m
Completed 200 OK in 125965ms (Views: 0.6ms | ActiveRecord: 19.0ms)
  [1m[35mSQL (1.7ms)[0m  UPDATE "seats" SET "status" = 0


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 20:05:15 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vwUCUhXjF/zSiEcApGnOuWqGBuy/72XMQheNvPvX1zO9Q5X6euLdn9rE85lIrTPhSWwKcI/NK2qyqpF2HBKspw==", "count"=>"11", "plane_id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
Completed 500 Internal Server Error in 24ms (ActiveRecord: 1.8ms)

NoMethodError (undefined method `+' for nil:NilClass):
  app/models/plane.rb:70:in `book_ticket'
  app/models/plane.rb:56:in `block in book_tickets'
  app/models/plane.rb:56:in `times'
  app/models/plane.rb:56:in `book_tickets'
  app/controllers/planes_controller.rb:40:in `book_tickets'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.9ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (52.7ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 20:05:48 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vwUCUhXjF/zSiEcApGnOuWqGBuy/72XMQheNvPvX1zO9Q5X6euLdn9rE85lIrTPhSWwKcI/NK2qyqpF2HBKspw==", "count"=>"11", "plane_id"=>"1"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)

SyntaxError (/Users/amitchoudhary/projects/weinvest/weinvest-rails/app/models/plane.rb:70: syntax error, unexpected ',', expecting ')'
...d.last&.booking_order.to_i + 1, status: :booked)
...                               ^
/Users/amitchoudhary/projects/weinvest/weinvest-rails/app/models/plane.rb:71: syntax error, unexpected keyword_end, expecting ')'):
  app/models/plane.rb:70: syntax error, unexpected ',', expecting ')'
  app/models/plane.rb:71: syntax error, unexpected keyword_end, expecting ')'
  app/controllers/planes_controller.rb:60:in `load_plane'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.1ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.6ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (44.5ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 20:06:02 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vwUCUhXjF/zSiEcApGnOuWqGBuy/72XMQheNvPvX1zO9Q5X6euLdn9rE85lIrTPhSWwKcI/NK2qyqpF2HBKspw==", "count"=>"11", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["status", 1], ["updated_at", "2017-05-01 14:36:02.164700"], ["id", 9]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 14:36:02.171684"], ["id", 10]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 14:36:02.179216"], ["id", 1]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 14:36:02.185476"], ["id", 25]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 14:36:02.195781"], ["id", 2]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 14:36:02.202801"], ["id", 3]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 14:36:02.210103"], ["id", 4]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 14:36:02.217347"], ["id", 5]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 14:36:02.225701"], ["id", 6]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 14:36:02.237135"], ["id", 7]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 14:36:02.247046"], ["id", 8]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[36mSQL (1.8ms)[0m  [1mUPDATE "seats" SET "status" = 0[0m
Completed 200 OK in 28762ms (Views: 0.5ms | ActiveRecord: 20.2ms)
  [1m[35mSQL (2.0ms)[0m  UPDATE "seats" SET "status" = 0
  [1m[36mSQL (1.7ms)[0m  [1mUPDATE "seats" SET "booking_order" = NULL[0m


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 20:06:44 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vwUCUhXjF/zSiEcApGnOuWqGBuy/72XMQheNvPvX1zO9Q5X6euLdn9rE85lIrTPhSWwKcI/NK2qyqpF2HBKspw==", "count"=>"11", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.4ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 14:36:44.705314"], ["id", 9]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 14:36:44.712586"], ["id", 10]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 14:36:44.719684"], ["id", 1]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 14:36:44.726174"], ["id", 25]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 14:36:44.733461"], ["id", 2]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 14:36:44.741495"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 14:36:44.749699"], ["id", 4]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 14:36:44.762809"], ["id", 5]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 14:36:44.778196"], ["id", 6]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 14:36:44.788018"], ["id", 7]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 14:36:44.799195"], ["id", 8]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
Completed 200 OK in 56041ms (Views: 0.5ms | ActiveRecord: 20.4ms)
  [1m[35mSQL (2.1ms)[0m  UPDATE "seats" SET "status" = 0
  [1m[36mSQL (1.9ms)[0m  [1mUPDATE "seats" SET "booking_order" = NULL[0m


Started GET "/planes/1" for ::1 at 2017-05-01 20:07:46 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (16.6ms)
Completed 200 OK in 44ms (Views: 32.3ms | ActiveRecord: 1.2ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 20:07:49 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"WOdjryLI3TUPs2nQn7/Nd8by4wjQj90H0HWAsnCsGzpaofQHTckXVgf/3UlzezAv5RjvlOCtk6EgyJx4l2lgrg==", "count"=>"11", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 14:37:49.800093"], ["id", 9]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 14:37:49.807322"], ["id", 10]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 14:37:49.814097"], ["id", 1]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 14:37:49.820515"], ["id", 25]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 14:37:49.829117"], ["id", 2]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 14:37:49.837274"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 14:37:49.851414"], ["id", 4]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.4ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 14:37:49.861784"], ["id", 5]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 14:37:49.869064"], ["id", 6]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 14:37:49.878092"], ["id", 7]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 14:37:49.885888"], ["id", 8]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.3ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSeat Load (0.4ms)[0m  SELECT "seats".* FROM "seats"
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" WHERE "seats"."number" = ?[0m  [["number", 6]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" WHERE "seats"."number" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["number", 6]]
Completed 200 OK in 104809ms (Views: 1.0ms | ActiveRecord: 20.7ms)
  [1m[36m (1.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.8ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePlanes (20170430105326)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "planes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170430105326"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateLanes (20170430105413)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "lanes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "row" integer, "column" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170430105413"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateSeats (20170430105804)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "seats" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "lane_id" integer, "number" integer, "status" integer DEFAULT 0, "kind" integer, "booking_order" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_seats_on_lane_id" ON "seats" ("lane_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170430105804"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddPlaneIdToLane (20170501064157)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "lanes" ADD "plane_id" integer[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_lanes_on_plane_id" ON "lanes" ("plane_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170501064157"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddNumberToLane (20170501132723)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "lanes" ADD "number" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170501132723"]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_lanes_on_plane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_lanes_on_plane_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_seats_on_lane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_seats_on_lane_id' AND type='index'
[0m


Started GET "/" for ::1 at 2017-05-01 20:11:49 +0530
Processing by HomeController#index as HTML
  Rendered home/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 20ms (Views: 19.1ms | ActiveRecord: 0.0ms)


Started GET "/planes/new" for ::1 at 2017-05-01 20:11:50 +0530
Processing by PlanesController#new as HTML
  Rendered planes/_form.html.erb (27.8ms)
  Rendered planes/new.html.erb within layouts/application (31.9ms)
Completed 200 OK in 60ms (Views: 50.1ms | ActiveRecord: 0.8ms)


Started POST "/planes" for ::1 at 2017-05-01 20:12:00 +0530
Processing by PlanesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"mB1r3593sdH4iF5LKXSub+H5Ph+1MWNh5qv8r4imFlOaW/x38HZ7svDE6tLFsFM3whMyg4UTLccWFuBlb2Ntxw==", "plane"=>{"name"=>"jet", "lanes_attributes"=>{"1493649713975"=>{"row"=>"3", "column"=>"2", "_destroy"=>"false"}, "1493649717156"=>{"row"=>"4", "column"=>"3", "_destroy"=>"false"}}}, "commit"=>"Create Plane"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "planes" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "jet"], ["created_at", "2017-05-01 14:42:00.544122"], ["updated_at", "2017-05-01 14:42:00.544122"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["row", 3], ["column", 2], ["plane_id", 1], ["created_at", "2017-05-01 14:42:00.557277"], ["updated_at", "2017-05-01 14:42:00.557277"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 1], ["lane_id", 1], ["created_at", "2017-05-01 14:42:00.558447"], ["updated_at", "2017-05-01 14:42:00.558447"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 2], ["lane_id", 1], ["created_at", "2017-05-01 14:42:00.560252"], ["updated_at", "2017-05-01 14:42:00.560252"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 3], ["lane_id", 1], ["created_at", "2017-05-01 14:42:00.561964"], ["updated_at", "2017-05-01 14:42:00.561964"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 4], ["lane_id", 1], ["created_at", "2017-05-01 14:42:00.563610"], ["updated_at", "2017-05-01 14:42:00.563610"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 5], ["lane_id", 1], ["created_at", "2017-05-01 14:42:00.564943"], ["updated_at", "2017-05-01 14:42:00.564943"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 6], ["lane_id", 1], ["created_at", "2017-05-01 14:42:00.565946"], ["updated_at", "2017-05-01 14:42:00.565946"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 7], ["lane_id", 1], ["created_at", "2017-05-01 14:42:00.566989"], ["updated_at", "2017-05-01 14:42:00.566989"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 8], ["lane_id", 1], ["created_at", "2017-05-01 14:42:00.567928"], ["updated_at", "2017-05-01 14:42:00.567928"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 9], ["lane_id", 1], ["created_at", "2017-05-01 14:42:00.568803"], ["updated_at", "2017-05-01 14:42:00.568803"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["row", 4], ["column", 3], ["plane_id", 1], ["created_at", "2017-05-01 14:42:00.573448"], ["updated_at", "2017-05-01 14:42:00.573448"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 1], ["lane_id", 2], ["created_at", "2017-05-01 14:42:00.574355"], ["updated_at", "2017-05-01 14:42:00.574355"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 2], ["lane_id", 2], ["created_at", "2017-05-01 14:42:00.575439"], ["updated_at", "2017-05-01 14:42:00.575439"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 3], ["lane_id", 2], ["created_at", "2017-05-01 14:42:00.576335"], ["updated_at", "2017-05-01 14:42:00.576335"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 4], ["lane_id", 2], ["created_at", "2017-05-01 14:42:00.577285"], ["updated_at", "2017-05-01 14:42:00.577285"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 5], ["lane_id", 2], ["created_at", "2017-05-01 14:42:00.578144"], ["updated_at", "2017-05-01 14:42:00.578144"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 6], ["lane_id", 2], ["created_at", "2017-05-01 14:42:00.578987"], ["updated_at", "2017-05-01 14:42:00.578987"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 7], ["lane_id", 2], ["created_at", "2017-05-01 14:42:00.579828"], ["updated_at", "2017-05-01 14:42:00.579828"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 8], ["lane_id", 2], ["created_at", "2017-05-01 14:42:00.580760"], ["updated_at", "2017-05-01 14:42:00.580760"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 9], ["lane_id", 2], ["created_at", "2017-05-01 14:42:00.581783"], ["updated_at", "2017-05-01 14:42:00.581783"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 10], ["lane_id", 2], ["created_at", "2017-05-01 14:42:00.582774"], ["updated_at", "2017-05-01 14:42:00.582774"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 11], ["lane_id", 2], ["created_at", "2017-05-01 14:42:00.583725"], ["updated_at", "2017-05-01 14:42:00.583725"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 12], ["lane_id", 2], ["created_at", "2017-05-01 14:42:00.584635"], ["updated_at", "2017-05-01 14:42:00.584635"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 13], ["lane_id", 2], ["created_at", "2017-05-01 14:42:00.585637"], ["updated_at", "2017-05-01 14:42:00.585637"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 14], ["lane_id", 2], ["created_at", "2017-05-01 14:42:00.586807"], ["updated_at", "2017-05-01 14:42:00.586807"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 15], ["lane_id", 2], ["created_at", "2017-05-01 14:42:00.588207"], ["updated_at", "2017-05-01 14:42:00.588207"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 16], ["lane_id", 2], ["created_at", "2017-05-01 14:42:00.589574"], ["updated_at", "2017-05-01 14:42:00.589574"]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  ORDER BY "lanes"."id" ASC[0m  [["plane_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "lanes" SET "number" = 1 WHERE "lanes"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "lanes" SET "number" = 2 WHERE "lanes"."id" = ?[0m  [["id", 2]]
  [1m[35mLane Load (0.1ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  ORDER BY "lanes"."id" ASC  [["plane_id", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" WHERE "seats"."lane_id" = ?  ORDER BY "seats"."number" ASC[0m  [["lane_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 0], ["updated_at", "2017-05-01 14:42:00.595393"], ["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 14:42:00.596599"], ["id", 9]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:42:00.597735"], ["id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:42:00.600459"], ["id", 3]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:42:00.601661"], ["id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:42:00.602704"], ["id", 5]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:42:00.603695"], ["id", 6]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:42:00.604630"], ["id", 7]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:42:00.605586"], ["id", 8]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" WHERE "seats"."lane_id" = ?  ORDER BY "seats"."number" ASC[0m  [["lane_id", 2]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 2], ["updated_at", "2017-05-01 14:42:00.607607"], ["id", 10]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 0], ["updated_at", "2017-05-01 14:42:00.608595"], ["id", 25]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:42:00.609963"], ["id", 11]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:42:00.612353"], ["id", 12]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:42:00.613857"], ["id", 13]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:42:00.615029"], ["id", 14]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:42:00.616129"], ["id", 15]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:42:00.617260"], ["id", 16]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:42:00.618445"], ["id", 17]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:42:00.619706"], ["id", 18]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:42:00.620700"], ["id", 19]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:42:00.621768"], ["id", 20]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:42:00.622801"], ["id", 21]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:42:00.623760"], ["id", 22]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:42:00.624724"], ["id", 23]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:42:00.626045"], ["id", 24]]
  [1m[35m (1.7ms)[0m  commit transaction
Redirected to http://localhost:3000/planes
Completed 302 Found in 92ms (ActiveRecord: 6.6ms)


Started GET "/planes" for ::1 at 2017-05-01 20:12:00 +0530
Processing by PlanesController#index as HTML
  [1m[36mPlane Load (0.2ms)[0m  [1mSELECT "planes".* FROM "planes"[0m
  Rendered planes/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 18ms (Views: 17.1ms | ActiveRecord: 0.2ms)


Started GET "/planes/1" for ::1 at 2017-05-01 20:12:01 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (7.9ms)
Completed 200 OK in 41ms (Views: 35.4ms | ActiveRecord: 0.4ms)


Started GET "/planes/1" for ::1 at 2017-05-01 20:12:03 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (7.9ms)
Completed 200 OK in 47ms (Views: 45.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats"[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats"  ORDER BY "seats"."id" ASC LIMIT 1
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" WHERE "seats"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[36m (1.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.7ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePlanes (20170430105326)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "planes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170430105326"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateLanes (20170430105413)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "lanes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "row" integer, "column" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170430105413"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateSeats (20170430105804)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "seats" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "lane_id" integer, "number" integer, "status" integer DEFAULT 0, "kind" integer, "booking_order" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_seats_on_lane_id" ON "seats" ("lane_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170430105804"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to AddPlaneIdToLane (20170501064157)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "lanes" ADD "plane_id" integer[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_lanes_on_plane_id" ON "lanes" ("plane_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170501064157"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddNumberToLane (20170501132723)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "lanes" ADD "number" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170501132723"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_lanes_on_plane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_lanes_on_plane_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_seats_on_lane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_seats_on_lane_id' AND type='index'
[0m


Started GET "/" for ::1 at 2017-05-01 20:15:25 +0530
Processing by HomeController#index as HTML
  Rendered home/index.html.erb within layouts/application (0.2ms)
Completed 200 OK in 20ms (Views: 18.7ms | ActiveRecord: 0.0ms)


Started GET "/planes/new" for ::1 at 2017-05-01 20:15:26 +0530
Processing by PlanesController#new as HTML
  Rendered planes/_form.html.erb (11.6ms)
  Rendered planes/new.html.erb within layouts/application (12.6ms)
Completed 200 OK in 42ms (Views: 32.8ms | ActiveRecord: 1.2ms)


Started POST "/planes" for ::1 at 2017-05-01 20:15:35 +0530
Processing by PlanesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"0J799j/CdecANwtgC4z/0k9CfmyXmq4BawZlo0J9fsLS2GpeUMO/hAh7v/nnSAKKbKhy8Ke44Kebu3lppbgFVg==", "plane"=>{"name"=>"Jet", "lanes_attributes"=>{"1493649929754"=>{"row"=>"3", "column"=>"2", "_destroy"=>"false"}, "1493649932455"=>{"row"=>"4", "column"=>"3", "_destroy"=>"false"}}}, "commit"=>"Create Plane"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "planes" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Jet"], ["created_at", "2017-05-01 14:45:35.065309"], ["updated_at", "2017-05-01 14:45:35.065309"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["row", 3], ["column", 2], ["plane_id", 1], ["created_at", "2017-05-01 14:45:51.987865"], ["updated_at", "2017-05-01 14:45:51.987865"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 1], ["lane_id", 1], ["created_at", "2017-05-01 14:45:51.989583"], ["updated_at", "2017-05-01 14:45:51.989583"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 2], ["lane_id", 1], ["created_at", "2017-05-01 14:45:51.990849"], ["updated_at", "2017-05-01 14:45:51.990849"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 3], ["lane_id", 1], ["created_at", "2017-05-01 14:45:51.991798"], ["updated_at", "2017-05-01 14:45:51.991798"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 4], ["lane_id", 1], ["created_at", "2017-05-01 14:45:51.992712"], ["updated_at", "2017-05-01 14:45:51.992712"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 5], ["lane_id", 1], ["created_at", "2017-05-01 14:45:51.993618"], ["updated_at", "2017-05-01 14:45:51.993618"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 6], ["lane_id", 1], ["created_at", "2017-05-01 14:45:51.994474"], ["updated_at", "2017-05-01 14:45:51.994474"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 7], ["lane_id", 1], ["created_at", "2017-05-01 14:45:51.995469"], ["updated_at", "2017-05-01 14:45:51.995469"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 8], ["lane_id", 1], ["created_at", "2017-05-01 14:45:51.996517"], ["updated_at", "2017-05-01 14:45:51.996517"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 9], ["lane_id", 1], ["created_at", "2017-05-01 14:45:51.997650"], ["updated_at", "2017-05-01 14:45:51.997650"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["row", 4], ["column", 3], ["plane_id", 1], ["created_at", "2017-05-01 14:46:06.068702"], ["updated_at", "2017-05-01 14:46:06.068702"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 1], ["lane_id", 2], ["created_at", "2017-05-01 14:46:06.070491"], ["updated_at", "2017-05-01 14:46:06.070491"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 2], ["lane_id", 2], ["created_at", "2017-05-01 14:46:06.072165"], ["updated_at", "2017-05-01 14:46:06.072165"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 3], ["lane_id", 2], ["created_at", "2017-05-01 14:46:06.073176"], ["updated_at", "2017-05-01 14:46:06.073176"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 4], ["lane_id", 2], ["created_at", "2017-05-01 14:46:06.074141"], ["updated_at", "2017-05-01 14:46:06.074141"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 5], ["lane_id", 2], ["created_at", "2017-05-01 14:46:06.075022"], ["updated_at", "2017-05-01 14:46:06.075022"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 6], ["lane_id", 2], ["created_at", "2017-05-01 14:46:06.076185"], ["updated_at", "2017-05-01 14:46:06.076185"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 7], ["lane_id", 2], ["created_at", "2017-05-01 14:46:06.077209"], ["updated_at", "2017-05-01 14:46:06.077209"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 8], ["lane_id", 2], ["created_at", "2017-05-01 14:46:06.078172"], ["updated_at", "2017-05-01 14:46:06.078172"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 9], ["lane_id", 2], ["created_at", "2017-05-01 14:46:06.079099"], ["updated_at", "2017-05-01 14:46:06.079099"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 10], ["lane_id", 2], ["created_at", "2017-05-01 14:46:06.080054"], ["updated_at", "2017-05-01 14:46:06.080054"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 11], ["lane_id", 2], ["created_at", "2017-05-01 14:46:06.081054"], ["updated_at", "2017-05-01 14:46:06.081054"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 12], ["lane_id", 2], ["created_at", "2017-05-01 14:46:06.081976"], ["updated_at", "2017-05-01 14:46:06.081976"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 13], ["lane_id", 2], ["created_at", "2017-05-01 14:46:06.082840"], ["updated_at", "2017-05-01 14:46:06.082840"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 14], ["lane_id", 2], ["created_at", "2017-05-01 14:46:06.083662"], ["updated_at", "2017-05-01 14:46:06.083662"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 15], ["lane_id", 2], ["created_at", "2017-05-01 14:46:06.084480"], ["updated_at", "2017-05-01 14:46:06.084480"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 16], ["lane_id", 2], ["created_at", "2017-05-01 14:46:06.085322"], ["updated_at", "2017-05-01 14:46:06.085322"]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  ORDER BY "lanes"."id" ASC[0m  [["plane_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "lanes" SET "number" = 1 WHERE "lanes"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "lanes" SET "number" = 2 WHERE "lanes"."id" = ?[0m  [["id", 2]]
  [1m[35mLane Load (0.0ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  ORDER BY "lanes"."id" ASC  [["plane_id", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" WHERE "seats"."lane_id" = ?  ORDER BY "seats"."number" ASC[0m  [["lane_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 0], ["updated_at", "2017-05-01 14:46:06.090335"], ["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 14:46:06.091456"], ["id", 9]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:46:06.092497"], ["id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:46:06.093471"], ["id", 3]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:46:06.094474"], ["id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:46:06.095586"], ["id", 5]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:46:06.096781"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:46:06.097943"], ["id", 7]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:46:06.098935"], ["id", 8]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" WHERE "seats"."lane_id" = ?  ORDER BY "seats"."number" ASC[0m  [["lane_id", 2]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 2], ["updated_at", "2017-05-01 14:46:06.101444"], ["id", 10]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 0], ["updated_at", "2017-05-01 14:46:06.102705"], ["id", 25]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:46:06.104522"], ["id", 11]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:46:06.105675"], ["id", 12]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:46:06.106666"], ["id", 13]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:46:06.107715"], ["id", 14]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:46:06.108668"], ["id", 15]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:46:06.109723"], ["id", 16]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:46:06.110702"], ["id", 17]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:46:06.112172"], ["id", 18]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:46:06.114203"], ["id", 19]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:46:06.115863"], ["id", 20]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:46:06.117169"], ["id", 21]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:46:06.118350"], ["id", 22]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:46:06.119507"], ["id", 23]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:46:06.120542"], ["id", 24]]
  [1m[35m (1.5ms)[0m  commit transaction
Redirected to http://localhost:3000/planes
Completed 302 Found in 31061ms (ActiveRecord: 6.4ms)


Started GET "/planes" for ::1 at 2017-05-01 20:16:06 +0530
Processing by PlanesController#index as HTML
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT "planes".* FROM "planes"[0m
  Rendered planes/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 22ms (Views: 20.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats"[0m
  [1m[36m (1.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.7ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePlanes (20170430105326)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "planes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170430105326"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateLanes (20170430105413)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "lanes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "row" integer, "column" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170430105413"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateSeats (20170430105804)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "seats" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "lane_id" integer, "number" integer, "status" integer DEFAULT 0, "kind" integer, "booking_order" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_seats_on_lane_id" ON "seats" ("lane_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170430105804"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddPlaneIdToLane (20170501064157)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "lanes" ADD "plane_id" integer[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_lanes_on_plane_id" ON "lanes" ("plane_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170501064157"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddNumberToLane (20170501132723)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "lanes" ADD "number" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170501132723"]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_lanes_on_plane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_lanes_on_plane_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_seats_on_lane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_seats_on_lane_id' AND type='index'
[0m


Started POST "/planes" for ::1 at 2017-05-01 20:19:50 +0530
Processing by PlanesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"kQnEBms8OSWZ6xosy1jetuXfXPLKRu7xlPwKq92mr7KTT1OuBD3zRpGnrrUnnCPuxjVQbvpkoFdkQRZhOmPUJg==", "plane"=>{"name"=>"Jet", "lanes_attributes"=>{"1493650184667"=>{"row"=>"3", "column"=>"2", "_destroy"=>"false"}, "1493650187580"=>{"row"=>"4", "column"=>"3", "_destroy"=>"false"}}}, "commit"=>"Create Plane"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "planes" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Jet"], ["created_at", "2017-05-01 14:49:50.595056"], ["updated_at", "2017-05-01 14:49:50.595056"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["row", 3], ["column", 2], ["plane_id", 1], ["created_at", "2017-05-01 14:49:50.610982"], ["updated_at", "2017-05-01 14:49:50.610982"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 1], ["lane_id", 1], ["created_at", "2017-05-01 14:49:50.612199"], ["updated_at", "2017-05-01 14:49:50.612199"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 2], ["lane_id", 1], ["created_at", "2017-05-01 14:49:50.613318"], ["updated_at", "2017-05-01 14:49:50.613318"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 3], ["lane_id", 1], ["created_at", "2017-05-01 14:49:50.614282"], ["updated_at", "2017-05-01 14:49:50.614282"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 4], ["lane_id", 1], ["created_at", "2017-05-01 14:49:50.615147"], ["updated_at", "2017-05-01 14:49:50.615147"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 5], ["lane_id", 1], ["created_at", "2017-05-01 14:49:50.616008"], ["updated_at", "2017-05-01 14:49:50.616008"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 6], ["lane_id", 1], ["created_at", "2017-05-01 14:49:50.616888"], ["updated_at", "2017-05-01 14:49:50.616888"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["row", 4], ["column", 3], ["plane_id", 1], ["created_at", "2017-05-01 14:49:50.620661"], ["updated_at", "2017-05-01 14:49:50.620661"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 1], ["lane_id", 2], ["created_at", "2017-05-01 14:49:50.621695"], ["updated_at", "2017-05-01 14:49:50.621695"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 2], ["lane_id", 2], ["created_at", "2017-05-01 14:49:50.622829"], ["updated_at", "2017-05-01 14:49:50.622829"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 3], ["lane_id", 2], ["created_at", "2017-05-01 14:49:50.623864"], ["updated_at", "2017-05-01 14:49:50.623864"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 4], ["lane_id", 2], ["created_at", "2017-05-01 14:49:50.624832"], ["updated_at", "2017-05-01 14:49:50.624832"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 5], ["lane_id", 2], ["created_at", "2017-05-01 14:49:50.625753"], ["updated_at", "2017-05-01 14:49:50.625753"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 6], ["lane_id", 2], ["created_at", "2017-05-01 14:49:50.626740"], ["updated_at", "2017-05-01 14:49:50.626740"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 7], ["lane_id", 2], ["created_at", "2017-05-01 14:49:50.627653"], ["updated_at", "2017-05-01 14:49:50.627653"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 8], ["lane_id", 2], ["created_at", "2017-05-01 14:49:50.628633"], ["updated_at", "2017-05-01 14:49:50.628633"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 9], ["lane_id", 2], ["created_at", "2017-05-01 14:49:50.629546"], ["updated_at", "2017-05-01 14:49:50.629546"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 10], ["lane_id", 2], ["created_at", "2017-05-01 14:49:50.630448"], ["updated_at", "2017-05-01 14:49:50.630448"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 11], ["lane_id", 2], ["created_at", "2017-05-01 14:49:50.631352"], ["updated_at", "2017-05-01 14:49:50.631352"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 12], ["lane_id", 2], ["created_at", "2017-05-01 14:49:50.632263"], ["updated_at", "2017-05-01 14:49:50.632263"]]
  [1m[35mLane Load (0.1ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  ORDER BY "lanes"."id" ASC  [["plane_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "lanes" SET "number" = 1 WHERE "lanes"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "lanes" SET "number" = 2 WHERE "lanes"."id" = ?  [["id", 2]]
  [1m[36mLane Load (0.0ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  ORDER BY "lanes"."id" ASC[0m  [["plane_id", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" WHERE "seats"."lane_id" = ?  ORDER BY "seats"."number" ASC  [["lane_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 0], ["updated_at", "2017-05-01 14:49:50.636932"], ["id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 2], ["updated_at", "2017-05-01 14:49:50.638402"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:49:50.639985"], ["id", 2]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:49:50.641162"], ["id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:49:50.642295"], ["id", 4]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:49:50.643366"], ["id", 5]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" WHERE "seats"."lane_id" = ?  ORDER BY "seats"."number" ASC[0m  [["lane_id", 2]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 2], ["updated_at", "2017-05-01 14:49:50.645429"], ["id", 7]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 0], ["updated_at", "2017-05-01 14:49:50.646631"], ["id", 18]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:49:50.647697"], ["id", 8]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:49:50.648771"], ["id", 9]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:49:50.649740"], ["id", 10]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:49:50.650738"], ["id", 11]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:49:50.651697"], ["id", 12]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:49:50.652740"], ["id", 13]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:49:50.654107"], ["id", 14]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:49:50.655846"], ["id", 15]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 14:49:50.657576"], ["id", 16]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 14:49:50.659022"], ["id", 17]]
  [1m[35m (1.4ms)[0m  commit transaction
Redirected to http://localhost:3000/planes
Completed 302 Found in 83ms (ActiveRecord: 5.7ms)


Started GET "/planes" for ::1 at 2017-05-01 20:19:50 +0530
Processing by PlanesController#index as HTML
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT "planes".* FROM "planes"[0m
  Rendered planes/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 20ms (Views: 18.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats"[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats"  ORDER BY "seats"."id" ASC LIMIT 1


Started GET "/planes/1" for ::1 at 2017-05-01 20:20:04 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.3ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (15.5ms)
Completed 200 OK in 35ms (Views: 31.9ms | ActiveRecord: 0.4ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 20:20:18 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"CwAjoOJLFfgkG0Cb4ZvdfRZwrNMWEBiRS0BEAWhOpGsJRrQIjUrfmyxX9AINXyAlNZqgTyYyVje7/VjLj4vf/w==", "count"=>"5", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 14:50:18.841896"], ["id", 6]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 14:50:18.849126"], ["id", 7]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 14:50:18.856626"], ["id", 1]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 14:50:18.862975"], ["id", 18]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 14:50:18.870668"], ["id", 2]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT "seats".* FROM "seats" WHERE "seats"."kind" = ?[0m  [["kind", 2]]
Completed 200 OK in 267561ms (Views: 0.7ms | ActiveRecord: 8.8ms)


Started GET "/planes/1" for ::1 at 2017-05-01 20:24:46 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (16.5ms)
Completed 200 OK in 96ms (Views: 95.0ms | ActiveRecord: 0.2ms)


Started GET "/assets/plane.self-a6a8f58966f7555977e88ae8c87e3994882c1e5d453f53ecaa95b98ccafd2bfb.js?body=1" for ::1 at 2017-05-01 20:24:46 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 20:24:54 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (13.1ms)
Completed 200 OK in 31ms (Views: 29.1ms | ActiveRecord: 0.3ms)


Started GET "/planes/1" for ::1 at 2017-05-01 20:25:34 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (19.1ms)
Completed 200 OK in 47ms (Views: 39.0ms | ActiveRecord: 1.2ms)


Started GET "/planes/1" for ::1 at 2017-05-01 20:25:44 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (10.3ms)
Completed 200 OK in 29ms (Views: 28.0ms | ActiveRecord: 0.2ms)


Started GET "/planes/1" for ::1 at 2017-05-01 20:26:54 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (12.2ms)
Completed 200 OK in 34ms (Views: 26.6ms | ActiveRecord: 1.0ms)


Started GET "/planes/1" for ::1 at 2017-05-01 20:27:05 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (23.3ms)
Completed 200 OK in 45ms (Views: 38.8ms | ActiveRecord: 0.9ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 20:27:11 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Gdd4O548Qfdnr/TSSL6YW0oHrE3d+EmL/Ul0mjkzrykbke+T8T2LlG/jQEukemUDae2g0e3aBy0N9GhQ3vbUvQ==", "count"=>"7", "plane_id"=>"1"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)

NoMethodError (undefined method `book_tickets' for nil:NilClass):
  app/controllers/planes_controller.rb:40:in `book_tickets'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.2ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (66.8ms)


Started GET "/planes/1" for ::1 at 2017-05-01 20:27:25 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (19.3ms)
Completed 200 OK in 48ms (Views: 38.8ms | ActiveRecord: 0.9ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 20:27:29 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"MaGX1kfrUr9Kck8t4N31F7lcYkYNSahrhjJzm+7jP7Uz5wB+KOqY3EI++7QMGQhPmrZu2j1r5s12j29RCSZEIQ==", "count"=>"7", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.5ms)

ArgumentError (comparison of Fixnum with String failed):
  app/models/plane.rb:55:in `>='
  app/models/plane.rb:55:in `book_tickets'
  app/controllers/planes_controller.rb:40:in `book_tickets'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.8ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.7ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (54.5ms)


Started GET "/planes/1" for ::1 at 2017-05-01 20:27:42 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (13.2ms)
Completed 200 OK in 36ms (Views: 28.6ms | ActiveRecord: 1.0ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 20:27:46 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"n6h5zrXIGwQ9X98Z1OW2x7pqCUfdp59HN5IOcS2VeK6d7u5m2snRZzUTa4A4IUufmYAF2+2F0eHHLxK7ylADOg==", "count"=>"7", "plane_id"=>"1"}
  [1m[35mPlane Load (0.3ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["updated_at", "2017-05-01 14:57:46.549115"], ["id", 6]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "seats" SET "booking_order" = NULL[0m
  [1m[35mSQL (2.1ms)[0m  UPDATE "seats" SET "status" = 0
Completed 200 OK in 25974ms (Views: 0.6ms | ActiveRecord: 4.9ms)
  [1m[36mSQL (2.3ms)[0m  [1mUPDATE "seats" SET "status" = 0[0m
  [1m[35mSQL (1.9ms)[0m  UPDATE "seats" SET "booking_order" = NULL


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 20:28:19 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"n6h5zrXIGwQ9X98Z1OW2x7pqCUfdp59HN5IOcS2VeK6d7u5m2snRZzUTa4A4IUufmYAF2+2F0eHHLxK7ylADOg==", "count"=>"7", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 14:58:19.889205"], ["id", 6]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 2], ["updated_at", "2017-05-01 14:58:19.896606"], ["id", 6]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["updated_at", "2017-05-01 14:58:19.902623"], ["id", 6]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["updated_at", "2017-05-01 14:58:19.908223"], ["id", 6]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 5], ["updated_at", "2017-05-01 14:58:19.914208"], ["id", 6]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["updated_at", "2017-05-01 14:58:19.921851"], ["id", 6]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "seats" SET "booking_order" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 7], ["updated_at", "2017-05-01 14:58:19.929319"], ["id", 6]]
  [1m[36m (4.1ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 11518ms (Views: 0.3ms | ActiveRecord: 15.4ms)
  [1m[36mSQL (2.2ms)[0m  [1mUPDATE "seats" SET "status" = 0[0m
  [1m[35mSQL (2.0ms)[0m  UPDATE "seats" SET "booking_order" = NULL


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 20:28:59 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"n6h5zrXIGwQ9X98Z1OW2x7pqCUfdp59HN5IOcS2VeK6d7u5m2snRZzUTa4A4IUufmYAF2+2F0eHHLxK7ylADOg==", "count"=>"7", "plane_id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 14:58:59.366384"], ["id", 6]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 14:58:59.372306"], ["id", 7]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
Completed 500 Internal Server Error in 38ms (ActiveRecord: 4.9ms)

NoMethodError (undefined method `windows' for #<Seat::ActiveRecord_AssociationRelation:0x007ffc8a64e3b0>
Did you mean?  window):
  app/models/plane.rb:66:in `book_ticket'
  app/models/plane.rb:56:in `block in book_tickets'
  app/models/plane.rb:56:in `times'
  app/models/plane.rb:56:in `book_tickets'
  app/controllers/planes_controller.rb:40:in `book_tickets'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.2ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.7ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (50.1ms)
  [1m[36mSQL (1.7ms)[0m  [1mUPDATE "seats" SET "booking_order" = NULL[0m
  [1m[35mSQL (2.0ms)[0m  UPDATE "seats" SET "status" = 0


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 20:29:13 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"n6h5zrXIGwQ9X98Z1OW2x7pqCUfdp59HN5IOcS2VeK6d7u5m2snRZzUTa4A4IUufmYAF2+2F0eHHLxK7ylADOg==", "count"=>"7", "plane_id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 14:59:13.702237"], ["id", 6]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 14:59:13.708364"], ["id", 7]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 14:59:13.715653"], ["id", 1]]
  [1m[36m (3.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 14:59:13.728087"], ["id", 18]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 14:59:13.736861"], ["id", 2]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 14:59:13.749775"], ["id", 3]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 14:59:13.758421"], ["id", 4]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 40091ms (Views: 0.3ms | ActiveRecord: 16.9ms)
  [1m[36mSQL (2.1ms)[0m  [1mUPDATE "seats" SET "booking_order" = NULL[0m
  [1m[35mSQL (1.7ms)[0m  UPDATE "seats" SET "status" = 0


Started GET "/planes/1" for ::1 at 2017-05-01 20:30:03 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (25.3ms)
Completed 200 OK in 53ms (Views: 45.9ms | ActiveRecord: 0.9ms)
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT "seats".* FROM "seats"[0m


Started GET "/planes/1/edit" for ::1 at 2017-05-01 20:31:31 +0530
Processing by PlanesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.2ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/_form.html.erb (10.5ms)
  Rendered planes/edit.html.erb within layouts/application (14.5ms)
Completed 200 OK in 56ms (Views: 48.6ms | ActiveRecord: 0.3ms)


Started GET "/planes/1/edit" for ::1 at 2017-05-01 20:32:02 +0530
Processing by PlanesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.3ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/_form.html.erb (10.3ms)
  Rendered planes/edit.html.erb within layouts/application (12.7ms)
Completed 200 OK in 45ms (Views: 43.2ms | ActiveRecord: 0.4ms)


Started GET "/planes/1" for ::1 at 2017-05-01 20:32:05 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.5ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (25.1ms)
Completed 200 OK in 50ms (Views: 47.8ms | ActiveRecord: 0.6ms)


Started GET "/planes/1" for ::1 at 2017-05-01 20:32:06 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (10.2ms)
Completed 200 OK in 27ms (Views: 25.5ms | ActiveRecord: 0.2ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 20:32:15 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"G9vh45XoQxnN4Mh+puuV0jdSjETcA6lsxd6wD7YL2zgZnXZL+umJesWsfOdKL2iKFLiA2Owh58o1Y6zFUc6grA==", "count"=>"7", "plane_id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mSeat Load (0.7ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ? AND "seats"."lane_id" = ?  [["plane_id", 1], ["kind", 2], ["lane_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 15:07:17.861531"], ["id", 6]]
  [1m[35m (0.1ms)[0m  rollback transaction
Completed 500 Internal Server Error in 302734ms (ActiveRecord: 3.2ms)

ActiveRecord::StatementInvalid (SQLite3::ReadOnlyException: attempt to write a readonly database: UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?):
  app/models/plane.rb:71:in `book_ticket'
  app/models/plane.rb:56:in `block in book_tickets'
  app/models/plane.rb:56:in `times'
  app/models/plane.rb:56:in `book_tickets'
  app/controllers/planes_controller.rb:40:in `book_tickets'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.1ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.6ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (57.2ms)
  [1m[36m (1.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.8ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePlanes (20170430105326)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "planes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170430105326"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateLanes (20170430105413)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "lanes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "row" integer, "column" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170430105413"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateSeats (20170430105804)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "seats" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "lane_id" integer, "number" integer, "status" integer DEFAULT 0, "kind" integer, "booking_order" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_seats_on_lane_id" ON "seats" ("lane_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170430105804"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to AddPlaneIdToLane (20170501064157)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "lanes" ADD "plane_id" integer[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_lanes_on_plane_id" ON "lanes" ("plane_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170501064157"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddNumberToLane (20170501132723)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "lanes" ADD "number" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170501132723"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_lanes_on_plane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_lanes_on_plane_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_seats_on_lane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_seats_on_lane_id' AND type='index'
[0m


Started GET "/" for ::1 at 2017-05-01 20:37:29 +0530
Processing by HomeController#index as HTML
  Rendered home/index.html.erb within layouts/application (0.2ms)
Completed 200 OK in 26ms (Views: 24.2ms | ActiveRecord: 0.0ms)


Started GET "/planes/new" for ::1 at 2017-05-01 20:37:31 +0530
Processing by PlanesController#new as HTML
  Rendered planes/_form.html.erb (10.1ms)
  Rendered planes/new.html.erb within layouts/application (12.4ms)
Completed 200 OK in 53ms (Views: 36.7ms | ActiveRecord: 1.6ms)


Started POST "/planes" for ::1 at 2017-05-01 20:37:39 +0530
Processing by PlanesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"IEbmsQLnWFuWbxsWTyhZWf/NdxKUTAnMheUSLsf5A8ciAHEZbeaSOJ4jr4+j7KQB3Cd7jqRuR2p1WA7kIDx4Uw==", "plane"=>{"name"=>"jet", "lanes_attributes"=>{"1493651253812"=>{"row"=>"3", "column"=>"2", "_destroy"=>"false"}, "1493651257171"=>{"row"=>"4", "column"=>"3", "_destroy"=>"false"}}}, "commit"=>"Create Plane"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "planes" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "jet"], ["created_at", "2017-05-01 15:07:39.820063"], ["updated_at", "2017-05-01 15:07:39.820063"]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.7ms)

NoMethodError (undefined method `+' for nil:NilClass):
  app/models/lane.rb:14:in `block in save_seats'
  app/models/lane.rb:13:in `times'
  app/models/lane.rb:13:in `save_seats'
  app/controllers/planes_controller.rb:14:in `create'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (16.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.6ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (64.9ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (52.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (121.3ms)


Started POST "/planes" for ::1 at 2017-05-01 20:38:10 +0530
Processing by PlanesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"IEbmsQLnWFuWbxsWTyhZWf/NdxKUTAnMheUSLsf5A8ciAHEZbeaSOJ4jr4+j7KQB3Cd7jqRuR2p1WA7kIDx4Uw==", "plane"=>{"name"=>"jet", "lanes_attributes"=>{"1493651253812"=>{"row"=>"3", "column"=>"2", "_destroy"=>"false"}, "1493651257171"=>{"row"=>"4", "column"=>"3", "_destroy"=>"false"}}}, "commit"=>"Create Plane"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "planes" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "jet"], ["created_at", "2017-05-01 15:08:10.698329"], ["updated_at", "2017-05-01 15:08:10.698329"]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["row", 3], ["column", 2], ["plane_id", 1], ["created_at", "2017-05-01 15:08:10.714643"], ["updated_at", "2017-05-01 15:08:10.714643"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 1], ["lane_id", 1], ["created_at", "2017-05-01 15:08:10.717637"], ["updated_at", "2017-05-01 15:08:10.717637"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 2], ["lane_id", 1], ["created_at", "2017-05-01 15:08:10.719457"], ["updated_at", "2017-05-01 15:08:10.719457"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 3], ["lane_id", 1], ["created_at", "2017-05-01 15:08:10.720524"], ["updated_at", "2017-05-01 15:08:10.720524"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 4], ["lane_id", 1], ["created_at", "2017-05-01 15:08:10.721556"], ["updated_at", "2017-05-01 15:08:10.721556"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 5], ["lane_id", 1], ["created_at", "2017-05-01 15:08:10.722537"], ["updated_at", "2017-05-01 15:08:10.722537"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 6], ["lane_id", 1], ["created_at", "2017-05-01 15:08:10.723615"], ["updated_at", "2017-05-01 15:08:10.723615"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 7], ["lane_id", 1], ["created_at", "2017-05-01 15:08:10.724630"], ["updated_at", "2017-05-01 15:08:10.724630"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 8], ["lane_id", 1], ["created_at", "2017-05-01 15:08:10.725583"], ["updated_at", "2017-05-01 15:08:10.725583"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 9], ["lane_id", 1], ["created_at", "2017-05-01 15:08:10.726472"], ["updated_at", "2017-05-01 15:08:10.726472"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["row", 4], ["column", 3], ["plane_id", 1], ["created_at", "2017-05-01 15:08:10.731118"], ["updated_at", "2017-05-01 15:08:10.731118"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 1], ["lane_id", 2], ["created_at", "2017-05-01 15:08:10.732179"], ["updated_at", "2017-05-01 15:08:10.732179"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 2], ["lane_id", 2], ["created_at", "2017-05-01 15:08:10.733262"], ["updated_at", "2017-05-01 15:08:10.733262"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 3], ["lane_id", 2], ["created_at", "2017-05-01 15:08:10.734220"], ["updated_at", "2017-05-01 15:08:10.734220"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 4], ["lane_id", 2], ["created_at", "2017-05-01 15:08:10.735112"], ["updated_at", "2017-05-01 15:08:10.735112"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 5], ["lane_id", 2], ["created_at", "2017-05-01 15:08:10.736191"], ["updated_at", "2017-05-01 15:08:10.736191"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 6], ["lane_id", 2], ["created_at", "2017-05-01 15:08:10.737228"], ["updated_at", "2017-05-01 15:08:10.737228"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 7], ["lane_id", 2], ["created_at", "2017-05-01 15:08:10.738227"], ["updated_at", "2017-05-01 15:08:10.738227"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 8], ["lane_id", 2], ["created_at", "2017-05-01 15:08:10.739160"], ["updated_at", "2017-05-01 15:08:10.739160"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 9], ["lane_id", 2], ["created_at", "2017-05-01 15:08:10.740145"], ["updated_at", "2017-05-01 15:08:10.740145"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 10], ["lane_id", 2], ["created_at", "2017-05-01 15:08:10.741136"], ["updated_at", "2017-05-01 15:08:10.741136"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 11], ["lane_id", 2], ["created_at", "2017-05-01 15:08:10.742077"], ["updated_at", "2017-05-01 15:08:10.742077"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 12], ["lane_id", 2], ["created_at", "2017-05-01 15:08:10.743271"], ["updated_at", "2017-05-01 15:08:10.743271"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 13], ["lane_id", 2], ["created_at", "2017-05-01 15:08:10.744312"], ["updated_at", "2017-05-01 15:08:10.744312"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 14], ["lane_id", 2], ["created_at", "2017-05-01 15:08:10.745473"], ["updated_at", "2017-05-01 15:08:10.745473"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 15], ["lane_id", 2], ["created_at", "2017-05-01 15:08:10.748051"], ["updated_at", "2017-05-01 15:08:10.748051"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 16], ["lane_id", 2], ["created_at", "2017-05-01 15:08:10.749266"], ["updated_at", "2017-05-01 15:08:10.749266"]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  ORDER BY "lanes"."id" ASC[0m  [["plane_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "lanes" SET "number" = 1 WHERE "lanes"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "lanes" SET "number" = 2 WHERE "lanes"."id" = ?[0m  [["id", 2]]
  [1m[35m (1.4ms)[0m  rollback transaction
Completed 500 Internal Server Error in 77ms (ActiveRecord: 5.7ms)

NoMethodError (undefined method `order' for nil:NilClass):
  app/models/plane.rb:23:in `mark_seats'
  app/controllers/planes_controller.rb:14:in `create'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (55.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (44.1ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (101.2ms)


Started POST "/planes" for ::1 at 2017-05-01 20:38:39 +0530
Processing by PlanesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"IEbmsQLnWFuWbxsWTyhZWf/NdxKUTAnMheUSLsf5A8ciAHEZbeaSOJ4jr4+j7KQB3Cd7jqRuR2p1WA7kIDx4Uw==", "plane"=>{"name"=>"jet", "lanes_attributes"=>{"1493651253812"=>{"row"=>"3", "column"=>"2", "_destroy"=>"false"}, "1493651257171"=>{"row"=>"4", "column"=>"3", "_destroy"=>"false"}}}, "commit"=>"Create Plane"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "planes" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "jet"], ["created_at", "2017-05-01 15:08:39.667433"], ["updated_at", "2017-05-01 15:08:39.667433"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["row", 3], ["column", 2], ["plane_id", 1], ["created_at", "2017-05-01 15:08:39.682391"], ["updated_at", "2017-05-01 15:08:39.682391"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 1], ["lane_id", 1], ["created_at", "2017-05-01 15:08:39.684170"], ["updated_at", "2017-05-01 15:08:39.684170"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 2], ["lane_id", 1], ["created_at", "2017-05-01 15:08:39.685510"], ["updated_at", "2017-05-01 15:08:39.685510"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 3], ["lane_id", 1], ["created_at", "2017-05-01 15:08:39.686490"], ["updated_at", "2017-05-01 15:08:39.686490"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 4], ["lane_id", 1], ["created_at", "2017-05-01 15:08:39.687334"], ["updated_at", "2017-05-01 15:08:39.687334"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 5], ["lane_id", 1], ["created_at", "2017-05-01 15:08:39.688330"], ["updated_at", "2017-05-01 15:08:39.688330"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 6], ["lane_id", 1], ["created_at", "2017-05-01 15:08:39.689385"], ["updated_at", "2017-05-01 15:08:39.689385"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 7], ["lane_id", 1], ["created_at", "2017-05-01 15:08:39.690386"], ["updated_at", "2017-05-01 15:08:39.690386"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 8], ["lane_id", 1], ["created_at", "2017-05-01 15:08:39.691461"], ["updated_at", "2017-05-01 15:08:39.691461"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 9], ["lane_id", 1], ["created_at", "2017-05-01 15:08:39.692552"], ["updated_at", "2017-05-01 15:08:39.692552"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["row", 4], ["column", 3], ["plane_id", 1], ["created_at", "2017-05-01 15:08:39.697259"], ["updated_at", "2017-05-01 15:08:39.697259"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 1], ["lane_id", 2], ["created_at", "2017-05-01 15:08:39.698328"], ["updated_at", "2017-05-01 15:08:39.698328"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 2], ["lane_id", 2], ["created_at", "2017-05-01 15:08:39.699321"], ["updated_at", "2017-05-01 15:08:39.699321"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 3], ["lane_id", 2], ["created_at", "2017-05-01 15:08:39.700238"], ["updated_at", "2017-05-01 15:08:39.700238"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 4], ["lane_id", 2], ["created_at", "2017-05-01 15:08:39.701125"], ["updated_at", "2017-05-01 15:08:39.701125"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 5], ["lane_id", 2], ["created_at", "2017-05-01 15:08:39.701967"], ["updated_at", "2017-05-01 15:08:39.701967"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 6], ["lane_id", 2], ["created_at", "2017-05-01 15:08:39.702832"], ["updated_at", "2017-05-01 15:08:39.702832"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 7], ["lane_id", 2], ["created_at", "2017-05-01 15:08:39.703790"], ["updated_at", "2017-05-01 15:08:39.703790"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 8], ["lane_id", 2], ["created_at", "2017-05-01 15:08:39.704967"], ["updated_at", "2017-05-01 15:08:39.704967"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 9], ["lane_id", 2], ["created_at", "2017-05-01 15:08:39.706128"], ["updated_at", "2017-05-01 15:08:39.706128"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 10], ["lane_id", 2], ["created_at", "2017-05-01 15:08:39.707217"], ["updated_at", "2017-05-01 15:08:39.707217"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 11], ["lane_id", 2], ["created_at", "2017-05-01 15:08:39.708143"], ["updated_at", "2017-05-01 15:08:39.708143"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 12], ["lane_id", 2], ["created_at", "2017-05-01 15:08:39.709232"], ["updated_at", "2017-05-01 15:08:39.709232"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 13], ["lane_id", 2], ["created_at", "2017-05-01 15:08:39.710343"], ["updated_at", "2017-05-01 15:08:39.710343"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 14], ["lane_id", 2], ["created_at", "2017-05-01 15:08:39.711514"], ["updated_at", "2017-05-01 15:08:39.711514"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 15], ["lane_id", 2], ["created_at", "2017-05-01 15:08:39.712434"], ["updated_at", "2017-05-01 15:08:39.712434"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 16], ["lane_id", 2], ["created_at", "2017-05-01 15:08:39.713295"], ["updated_at", "2017-05-01 15:08:39.713295"]]
  [1m[35mLane Load (0.1ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  ORDER BY "lanes"."id" ASC  [["plane_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "lanes" SET "number" = 1 WHERE "lanes"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "lanes" SET "number" = 2 WHERE "lanes"."id" = ?  [["id", 2]]
  [1m[36mLane Load (0.0ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  ORDER BY "lanes"."id" ASC[0m  [["plane_id", 1]]
  [1m[35m (1.2ms)[0m  rollback transaction
Completed 500 Internal Server Error in 70ms (ActiveRecord: 4.6ms)

NoMethodError (undefined method `seats' for #<Array:0x007ffc90399290>):
  app/models/plane.rb:25:in `block in mark_seats'
  app/models/plane.rb:24:in `each'
  app/models/plane.rb:24:in `each_with_index'
  app/models/plane.rb:24:in `mark_seats'
  app/controllers/planes_controller.rb:14:in `create'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.9ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (52.7ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.7ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (50.9ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (106.8ms)


Started POST "/planes" for ::1 at 2017-05-01 20:39:18 +0530
Processing by PlanesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"IEbmsQLnWFuWbxsWTyhZWf/NdxKUTAnMheUSLsf5A8ciAHEZbeaSOJ4jr4+j7KQB3Cd7jqRuR2p1WA7kIDx4Uw==", "plane"=>{"name"=>"jet", "lanes_attributes"=>{"1493651253812"=>{"row"=>"3", "column"=>"2", "_destroy"=>"false"}, "1493651257171"=>{"row"=>"4", "column"=>"3", "_destroy"=>"false"}}}, "commit"=>"Create Plane"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "planes" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "jet"], ["created_at", "2017-05-01 15:09:18.959053"], ["updated_at", "2017-05-01 15:09:18.959053"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["row", 3], ["column", 2], ["plane_id", 1], ["created_at", "2017-05-01 15:09:18.971242"], ["updated_at", "2017-05-01 15:09:18.971242"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 1], ["lane_id", 1], ["created_at", "2017-05-01 15:09:18.972516"], ["updated_at", "2017-05-01 15:09:18.972516"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 2], ["lane_id", 1], ["created_at", "2017-05-01 15:09:18.973780"], ["updated_at", "2017-05-01 15:09:18.973780"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 3], ["lane_id", 1], ["created_at", "2017-05-01 15:09:18.974690"], ["updated_at", "2017-05-01 15:09:18.974690"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 4], ["lane_id", 1], ["created_at", "2017-05-01 15:09:18.975537"], ["updated_at", "2017-05-01 15:09:18.975537"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 5], ["lane_id", 1], ["created_at", "2017-05-01 15:09:18.976381"], ["updated_at", "2017-05-01 15:09:18.976381"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 6], ["lane_id", 1], ["created_at", "2017-05-01 15:09:18.977217"], ["updated_at", "2017-05-01 15:09:18.977217"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 7], ["lane_id", 1], ["created_at", "2017-05-01 15:09:18.978081"], ["updated_at", "2017-05-01 15:09:18.978081"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 8], ["lane_id", 1], ["created_at", "2017-05-01 15:09:18.978921"], ["updated_at", "2017-05-01 15:09:18.978921"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 9], ["lane_id", 1], ["created_at", "2017-05-01 15:09:18.979799"], ["updated_at", "2017-05-01 15:09:18.979799"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["row", 4], ["column", 3], ["plane_id", 1], ["created_at", "2017-05-01 15:09:18.984591"], ["updated_at", "2017-05-01 15:09:18.984591"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 1], ["lane_id", 2], ["created_at", "2017-05-01 15:09:18.985730"], ["updated_at", "2017-05-01 15:09:18.985730"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 2], ["lane_id", 2], ["created_at", "2017-05-01 15:09:18.986826"], ["updated_at", "2017-05-01 15:09:18.986826"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 3], ["lane_id", 2], ["created_at", "2017-05-01 15:09:18.987767"], ["updated_at", "2017-05-01 15:09:18.987767"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 4], ["lane_id", 2], ["created_at", "2017-05-01 15:09:18.988686"], ["updated_at", "2017-05-01 15:09:18.988686"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 5], ["lane_id", 2], ["created_at", "2017-05-01 15:09:18.990676"], ["updated_at", "2017-05-01 15:09:18.990676"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 6], ["lane_id", 2], ["created_at", "2017-05-01 15:09:18.991945"], ["updated_at", "2017-05-01 15:09:18.991945"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 7], ["lane_id", 2], ["created_at", "2017-05-01 15:09:18.992873"], ["updated_at", "2017-05-01 15:09:18.992873"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 8], ["lane_id", 2], ["created_at", "2017-05-01 15:09:18.993759"], ["updated_at", "2017-05-01 15:09:18.993759"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 9], ["lane_id", 2], ["created_at", "2017-05-01 15:09:18.994641"], ["updated_at", "2017-05-01 15:09:18.994641"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 10], ["lane_id", 2], ["created_at", "2017-05-01 15:09:18.995472"], ["updated_at", "2017-05-01 15:09:18.995472"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 11], ["lane_id", 2], ["created_at", "2017-05-01 15:09:18.996288"], ["updated_at", "2017-05-01 15:09:18.996288"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 12], ["lane_id", 2], ["created_at", "2017-05-01 15:09:18.997416"], ["updated_at", "2017-05-01 15:09:18.997416"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 13], ["lane_id", 2], ["created_at", "2017-05-01 15:09:18.998470"], ["updated_at", "2017-05-01 15:09:18.998470"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 14], ["lane_id", 2], ["created_at", "2017-05-01 15:09:18.999420"], ["updated_at", "2017-05-01 15:09:18.999420"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 15], ["lane_id", 2], ["created_at", "2017-05-01 15:09:19.000465"], ["updated_at", "2017-05-01 15:09:19.000465"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 16], ["lane_id", 2], ["created_at", "2017-05-01 15:09:19.001866"], ["updated_at", "2017-05-01 15:09:19.001866"]]
  [1m[35mLane Load (0.1ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  ORDER BY "lanes"."id" ASC  [["plane_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "lanes" SET "number" = 1 WHERE "lanes"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "lanes" SET "number" = 2 WHERE "lanes"."id" = ?  [["id", 2]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  ORDER BY "lanes"."id" ASC[0m  [["plane_id", 1]]
  [1m[35mSeat Load (0.4ms)[0m  SELECT "seats".* FROM "seats" WHERE "seats"."lane_id" = ?  ORDER BY "seats"."number" ASC  [["lane_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats"[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats"
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 0], ["updated_at", "2017-05-01 15:09:59.691426"], ["id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 2], ["updated_at", "2017-05-01 15:09:59.692761"], ["id", 9]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:09:59.693847"], ["id", 2]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:09:59.694896"], ["id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:09:59.695912"], ["id", 4]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:09:59.696940"], ["id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:09:59.697901"], ["id", 6]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:09:59.698886"], ["id", 7]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:09:59.700031"], ["id", 8]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" WHERE "seats"."lane_id" = ?  ORDER BY "seats"."number" ASC  [["lane_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 15:09:59.702718"], ["id", 10]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 0], ["updated_at", "2017-05-01 15:09:59.703935"], ["id", 25]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:09:59.705009"], ["id", 11]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:09:59.706125"], ["id", 12]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:09:59.707257"], ["id", 13]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:09:59.708338"], ["id", 14]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:09:59.709412"], ["id", 15]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:09:59.710411"], ["id", 16]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:09:59.711376"], ["id", 17]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:09:59.712341"], ["id", 18]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:09:59.713313"], ["id", 19]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:09:59.714259"], ["id", 20]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:09:59.715279"], ["id", 21]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:09:59.716260"], ["id", 22]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:09:59.717287"], ["id", 23]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:09:59.718282"], ["id", 24]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/planes
Completed 302 Found in 40777ms (ActiveRecord: 6.2ms)


Started GET "/planes" for ::1 at 2017-05-01 20:39:59 +0530
Processing by PlanesController#index as HTML
  [1m[35mPlane Load (0.1ms)[0m  SELECT "planes".* FROM "planes"
  Rendered planes/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 21ms (Views: 20.0ms | ActiveRecord: 0.1ms)
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats"[0m
  [1m[35mSeat Load (0.4ms)[0m  SELECT "seats".* FROM "seats"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "seats" WHERE "seats"."id" = ?  [["id", 1]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "seats" WHERE "seats"."id" = ?[0m  [["id", 2]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "seats" WHERE "seats"."id" = ?  [["id", 3]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "seats" WHERE "seats"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "seats" WHERE "seats"."id" = ?  [["id", 5]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "seats" WHERE "seats"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "seats" WHERE "seats"."id" = ?  [["id", 7]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "seats" WHERE "seats"."id" = ?[0m  [["id", 8]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "seats" WHERE "seats"."id" = ?  [["id", 9]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "seats" WHERE "seats"."id" = ?[0m  [["id", 10]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "seats" WHERE "seats"."id" = ?  [["id", 11]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "seats" WHERE "seats"."id" = ?[0m  [["id", 12]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "seats" WHERE "seats"."id" = ?  [["id", 13]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "seats" WHERE "seats"."id" = ?[0m  [["id", 14]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "seats" WHERE "seats"."id" = ?  [["id", 15]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "seats" WHERE "seats"."id" = ?[0m  [["id", 16]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "seats" WHERE "seats"."id" = ?  [["id", 17]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "seats" WHERE "seats"."id" = ?[0m  [["id", 18]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "seats" WHERE "seats"."id" = ?  [["id", 19]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "seats" WHERE "seats"."id" = ?[0m  [["id", 20]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "seats" WHERE "seats"."id" = ?  [["id", 21]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "seats" WHERE "seats"."id" = ?[0m  [["id", 22]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "seats" WHERE "seats"."id" = ?  [["id", 23]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "seats" WHERE "seats"."id" = ?[0m  [["id", 24]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "seats" WHERE "seats"."id" = ?  [["id", 25]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m


Started POST "/planes" for ::1 at 2017-05-01 20:41:25 +0530
Processing by PlanesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yzZkHLNYLIgh2ta+K3i5F8hgFpNa9g9XQ7HF5u0pW4jJcPO03Fnm6ymWYifHvERP64oaD2rUQfGzDNksCuwgHA==", "plane"=>{"name"=>"jet", "lanes_attributes"=>{"1493651479850"=>{"row"=>"3", "column"=>"2", "_destroy"=>"false"}, "1493651482568"=>{"row"=>"4", "column"=>"3", "_destroy"=>"false"}}}, "commit"=>"Create Plane"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "planes" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "jet"], ["created_at", "2017-05-01 15:11:25.680163"], ["updated_at", "2017-05-01 15:11:25.680163"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["row", 3], ["column", 2], ["plane_id", 2], ["created_at", "2017-05-01 15:11:25.691333"], ["updated_at", "2017-05-01 15:11:25.691333"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 1], ["lane_id", 3], ["created_at", "2017-05-01 15:11:25.692656"], ["updated_at", "2017-05-01 15:11:25.692656"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 2], ["lane_id", 3], ["created_at", "2017-05-01 15:11:25.694001"], ["updated_at", "2017-05-01 15:11:25.694001"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 3], ["lane_id", 3], ["created_at", "2017-05-01 15:11:25.695970"], ["updated_at", "2017-05-01 15:11:25.695970"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 3], ["lane_id", 3], ["created_at", "2017-05-01 15:11:25.696897"], ["updated_at", "2017-05-01 15:11:25.696897"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 4], ["lane_id", 3], ["created_at", "2017-05-01 15:11:25.697818"], ["updated_at", "2017-05-01 15:11:25.697818"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 5], ["lane_id", 3], ["created_at", "2017-05-01 15:11:25.698646"], ["updated_at", "2017-05-01 15:11:25.698646"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 5], ["lane_id", 3], ["created_at", "2017-05-01 15:11:25.699444"], ["updated_at", "2017-05-01 15:11:25.699444"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 6], ["lane_id", 3], ["created_at", "2017-05-01 15:11:25.700231"], ["updated_at", "2017-05-01 15:11:25.700231"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 7], ["lane_id", 3], ["created_at", "2017-05-01 15:11:25.701025"], ["updated_at", "2017-05-01 15:11:25.701025"]]
  [1m[36mSQL (10.8ms)[0m  [1mINSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["row", 4], ["column", 3], ["plane_id", 2], ["created_at", "2017-05-01 15:11:25.707626"], ["updated_at", "2017-05-01 15:11:25.707626"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 1], ["lane_id", 4], ["created_at", "2017-05-01 15:11:25.719380"], ["updated_at", "2017-05-01 15:11:25.719380"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 2], ["lane_id", 4], ["created_at", "2017-05-01 15:11:25.720361"], ["updated_at", "2017-05-01 15:11:25.720361"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 3], ["lane_id", 4], ["created_at", "2017-05-01 15:11:25.721235"], ["updated_at", "2017-05-01 15:11:25.721235"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 4], ["lane_id", 4], ["created_at", "2017-05-01 15:11:25.722054"], ["updated_at", "2017-05-01 15:11:25.722054"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 4], ["lane_id", 4], ["created_at", "2017-05-01 15:11:25.722994"], ["updated_at", "2017-05-01 15:11:25.722994"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 5], ["lane_id", 4], ["created_at", "2017-05-01 15:11:25.723906"], ["updated_at", "2017-05-01 15:11:25.723906"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 6], ["lane_id", 4], ["created_at", "2017-05-01 15:11:25.724763"], ["updated_at", "2017-05-01 15:11:25.724763"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 7], ["lane_id", 4], ["created_at", "2017-05-01 15:11:25.725650"], ["updated_at", "2017-05-01 15:11:25.725650"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 7], ["lane_id", 4], ["created_at", "2017-05-01 15:11:25.726590"], ["updated_at", "2017-05-01 15:11:25.726590"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 8], ["lane_id", 4], ["created_at", "2017-05-01 15:11:25.727571"], ["updated_at", "2017-05-01 15:11:25.727571"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 9], ["lane_id", 4], ["created_at", "2017-05-01 15:11:25.728505"], ["updated_at", "2017-05-01 15:11:25.728505"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 10], ["lane_id", 4], ["created_at", "2017-05-01 15:11:25.729595"], ["updated_at", "2017-05-01 15:11:25.729595"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 10], ["lane_id", 4], ["created_at", "2017-05-01 15:11:25.730968"], ["updated_at", "2017-05-01 15:11:25.730968"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 11], ["lane_id", 4], ["created_at", "2017-05-01 15:11:25.732107"], ["updated_at", "2017-05-01 15:11:25.732107"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 12], ["lane_id", 4], ["created_at", "2017-05-01 15:11:25.733123"], ["updated_at", "2017-05-01 15:11:25.733123"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 13], ["lane_id", 4], ["created_at", "2017-05-01 15:11:25.734078"], ["updated_at", "2017-05-01 15:11:25.734078"]]
  [1m[35mLane Load (0.3ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  ORDER BY "lanes"."id" ASC  [["plane_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "lanes" SET "number" = 1 WHERE "lanes"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "lanes" SET "number" = 2 WHERE "lanes"."id" = ?  [["id", 4]]
  [1m[36mLane Load (0.0ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  ORDER BY "lanes"."id" ASC[0m  [["plane_id", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" WHERE "seats"."lane_id" = ?  ORDER BY "seats"."number" ASC  [["lane_id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 0], ["updated_at", "2017-05-01 15:11:35.038402"], ["id", 26]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 2], ["updated_at", "2017-05-01 15:11:35.039816"], ["id", 34]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:11:35.040980"], ["id", 27]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:11:35.042285"], ["id", 28]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:11:35.043439"], ["id", 29]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:11:35.044981"], ["id", 30]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:11:35.045965"], ["id", 31]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:11:35.046998"], ["id", 32]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:11:35.048014"], ["id", 33]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" WHERE "seats"."lane_id" = ?  ORDER BY "seats"."number" ASC  [["lane_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 15:11:35.050341"], ["id", 35]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 0], ["updated_at", "2017-05-01 15:11:35.051490"], ["id", 50]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:11:35.052589"], ["id", 36]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:11:35.053649"], ["id", 37]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:11:35.054721"], ["id", 38]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:11:35.055782"], ["id", 39]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:11:35.056788"], ["id", 40]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:11:35.057914"], ["id", 41]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:11:35.059165"], ["id", 42]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:11:35.060191"], ["id", 43]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:11:35.061213"], ["id", 44]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:11:35.062174"], ["id", 45]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:11:35.063094"], ["id", 46]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:11:35.064256"], ["id", 47]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:11:35.065653"], ["id", 48]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:11:35.066702"], ["id", 49]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/planes
Completed 302 Found in 9402ms (ActiveRecord: 16.9ms)


Started GET "/planes" for ::1 at 2017-05-01 20:41:35 +0530
Processing by PlanesController#index as HTML
  [1m[35mPlane Load (0.1ms)[0m  SELECT "planes".* FROM "planes"
  Rendered planes/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 20ms (Views: 19.1ms | ActiveRecord: 0.1ms)


Started GET "/planes" for ::1 at 2017-05-01 20:41:45 +0530
Processing by PlanesController#index as HTML
  [1m[36mPlane Load (0.2ms)[0m  [1mSELECT "planes".* FROM "planes"[0m
  Rendered planes/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 24ms (Views: 20.3ms | ActiveRecord: 0.5ms)


Started GET "/planes/1" for ::1 at 2017-05-01 20:41:46 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.3ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.3ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (21.6ms)
Completed 200 OK in 44ms (Views: 35.2ms | ActiveRecord: 0.9ms)
  [1m[36m (2.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.3ms)[0m  select sqlite_version(*)
  [1m[36m (0.9ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePlanes (20170430105326)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "planes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170430105326"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateLanes (20170430105413)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "lanes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "row" integer, "column" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170430105413"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateSeats (20170430105804)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "seats" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "lane_id" integer, "number" integer, "status" integer DEFAULT 0, "kind" integer, "booking_order" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_seats_on_lane_id" ON "seats" ("lane_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170430105804"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddPlaneIdToLane (20170501064157)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "lanes" ADD "plane_id" integer[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_lanes_on_plane_id" ON "lanes" ("plane_id")
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170501064157"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to AddNumberToLane (20170501132723)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "lanes" ADD "number" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170501132723"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_lanes_on_plane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_lanes_on_plane_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_seats_on_lane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_seats_on_lane_id' AND type='index'
[0m


Started GET "/planes" for ::1 at 2017-05-01 20:42:02 +0530
Processing by PlanesController#index as HTML
  [1m[35mPlane Load (0.3ms)[0m  SELECT "planes".* FROM "planes"
  Rendered planes/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 26ms (Views: 22.3ms | ActiveRecord: 0.4ms)


Started GET "/" for ::1 at 2017-05-01 20:42:05 +0530
Processing by HomeController#index as HTML
  Rendered home/index.html.erb within layouts/application (0.2ms)
Completed 200 OK in 18ms (Views: 16.8ms | ActiveRecord: 0.0ms)


Started GET "/planes/new" for ::1 at 2017-05-01 20:42:06 +0530
Processing by PlanesController#new as HTML
  Rendered planes/_form.html.erb (18.3ms)
  Rendered planes/new.html.erb within layouts/application (21.4ms)
Completed 200 OK in 43ms (Views: 36.9ms | ActiveRecord: 1.6ms)


Started POST "/planes" for ::1 at 2017-05-01 20:42:14 +0530
Processing by PlanesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ac4uAYLbf2KLGsDnWaycGGi/ItjUi+BHImlFLaU+zF1riLmp7dq1AYNWdH61aGFAS1UuROSpruHS1FnnQvu3yQ==", "plane"=>{"name"=>"jet", "lanes_attributes"=>{"1493651530361"=>{"row"=>"3", "column"=>"2", "_destroy"=>"false"}, "1493651532441"=>{"row"=>"4", "column"=>"3", "_destroy"=>"false"}}}, "commit"=>"Create Plane"}
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "planes" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "jet"], ["created_at", "2017-05-01 15:12:14.707444"], ["updated_at", "2017-05-01 15:12:14.707444"]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Completed 500 Internal Server Error in 47332ms (ActiveRecord: 1.8ms)

SystemExit (exit):
  app/models/lane.rb:17:in `block in save_seats'
  app/models/lane.rb:13:in `times'
  app/models/lane.rb:13:in `save_seats'
  app/controllers/planes_controller.rb:14:in `create'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (224.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (47.6ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (11.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (344.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (1.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (2.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (70.1ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (1.7ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.2ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (147.9ms)
  [1m[36m (1.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.6ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePlanes (20170430105326)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "planes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170430105326"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateLanes (20170430105413)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "lanes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "row" integer, "column" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170430105413"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateSeats (20170430105804)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "seats" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "lane_id" integer, "number" integer, "status" integer DEFAULT 0, "kind" integer, "booking_order" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_seats_on_lane_id" ON "seats" ("lane_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170430105804"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddPlaneIdToLane (20170501064157)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "lanes" ADD "plane_id" integer[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_lanes_on_plane_id" ON "lanes" ("plane_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170501064157"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddNumberToLane (20170501132723)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "lanes" ADD "number" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170501132723"]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_lanes_on_plane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_lanes_on_plane_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_seats_on_lane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_seats_on_lane_id' AND type='index'
[0m


Started POST "/planes" for ::1 at 2017-05-01 20:43:57 +0530
Processing by PlanesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"g0Xrzn8+rfLMwHLnlwiH83bo8p6oGJFM0gpWbc3ZjY+BA3xmED9nkcSMxn57zHqrVQL+Apg63+oit0qnKhz2Gw==", "plane"=>{"name"=>"jet", "lanes_attributes"=>{"1493651605582"=>{"row"=>"3", "column"=>"2", "_destroy"=>"false"}, "1493651609807"=>{"row"=>"4", "column"=>"3", "_destroy"=>"false"}, "1493651614945"=>{"row"=>"", "column"=>"", "_destroy"=>"1"}}}, "commit"=>"Create Plane"}
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "planes" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "jet"], ["created_at", "2017-05-01 15:13:57.778797"], ["updated_at", "2017-05-01 15:13:57.778797"]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["row", 3], ["column", 2], ["plane_id", 1], ["created_at", "2017-05-01 15:13:57.866812"], ["updated_at", "2017-05-01 15:13:57.866812"]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 1], ["lane_id", 1], ["created_at", "2017-05-01 15:13:57.878400"], ["updated_at", "2017-05-01 15:13:57.878400"]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 2], ["lane_id", 1], ["created_at", "2017-05-01 15:13:57.903634"], ["updated_at", "2017-05-01 15:13:57.903634"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 2], ["lane_id", 1], ["created_at", "2017-05-01 15:13:57.915912"], ["updated_at", "2017-05-01 15:13:57.915912"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 3], ["lane_id", 1], ["created_at", "2017-05-01 15:13:57.927020"], ["updated_at", "2017-05-01 15:13:57.927020"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 3], ["lane_id", 1], ["created_at", "2017-05-01 15:13:57.937381"], ["updated_at", "2017-05-01 15:13:57.937381"]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 4], ["lane_id", 1], ["created_at", "2017-05-01 15:13:57.948315"], ["updated_at", "2017-05-01 15:13:57.948315"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["row", 4], ["column", 3], ["plane_id", 1], ["created_at", "2017-05-01 15:13:58.030280"], ["updated_at", "2017-05-01 15:13:58.030280"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 1], ["lane_id", 2], ["created_at", "2017-05-01 15:13:58.051441"], ["updated_at", "2017-05-01 15:13:58.051441"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 2], ["lane_id", 2], ["created_at", "2017-05-01 15:13:58.063560"], ["updated_at", "2017-05-01 15:13:58.063560"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 3], ["lane_id", 2], ["created_at", "2017-05-01 15:13:58.075581"], ["updated_at", "2017-05-01 15:13:58.075581"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 3], ["lane_id", 2], ["created_at", "2017-05-01 15:13:58.085984"], ["updated_at", "2017-05-01 15:13:58.085984"]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 4], ["lane_id", 2], ["created_at", "2017-05-01 15:13:58.097060"], ["updated_at", "2017-05-01 15:13:58.097060"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 5], ["lane_id", 2], ["created_at", "2017-05-01 15:13:58.117808"], ["updated_at", "2017-05-01 15:13:58.117808"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 5], ["lane_id", 2], ["created_at", "2017-05-01 15:13:58.128613"], ["updated_at", "2017-05-01 15:13:58.128613"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 6], ["lane_id", 2], ["created_at", "2017-05-01 15:13:58.141068"], ["updated_at", "2017-05-01 15:13:58.141068"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 7], ["lane_id", 2], ["created_at", "2017-05-01 15:13:58.152232"], ["updated_at", "2017-05-01 15:13:58.152232"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 7], ["lane_id", 2], ["created_at", "2017-05-01 15:13:58.162495"], ["updated_at", "2017-05-01 15:13:58.162495"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 8], ["lane_id", 2], ["created_at", "2017-05-01 15:13:58.182560"], ["updated_at", "2017-05-01 15:13:58.182560"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 9], ["lane_id", 2], ["created_at", "2017-05-01 15:13:58.194281"], ["updated_at", "2017-05-01 15:13:58.194281"]]
  [1m[35mLane Load (0.5ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  ORDER BY "lanes"."id" ASC  [["plane_id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "lanes" SET "number" = 1 WHERE "lanes"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "lanes" SET "number" = 2 WHERE "lanes"."id" = ?  [["id", 2]]
  [1m[36mLane Load (0.3ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  ORDER BY "lanes"."id" ASC[0m  [["plane_id", 1]]
  [1m[35mSeat Load (0.6ms)[0m  SELECT "seats".* FROM "seats" WHERE "seats"."lane_id" = ?  ORDER BY "seats"."number" ASC  [["lane_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 0], ["updated_at", "2017-05-01 15:14:40.054297"], ["id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 2], ["updated_at", "2017-05-01 15:14:40.055487"], ["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:14:40.056495"], ["id", 2]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:14:40.057476"], ["id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:14:40.058488"], ["id", 4]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:14:40.059493"], ["id", 5]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" WHERE "seats"."lane_id" = ?  ORDER BY "seats"."number" ASC[0m  [["lane_id", 2]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 2], ["updated_at", "2017-05-01 15:14:40.061465"], ["id", 7]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 0], ["updated_at", "2017-05-01 15:14:40.062634"], ["id", 18]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:14:40.063828"], ["id", 8]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:14:40.065432"], ["id", 9]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:14:40.067111"], ["id", 10]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:14:40.068422"], ["id", 11]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:14:40.069477"], ["id", 12]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:14:40.070540"], ["id", 13]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:14:40.071875"], ["id", 14]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:14:40.074003"], ["id", 15]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:14:40.075082"], ["id", 16]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:14:40.076156"], ["id", 17]]
  [1m[35m (0.7ms)[0m  commit transaction
Redirected to http://localhost:3000/planes
Completed 302 Found in 42399ms (ActiveRecord: 15.9ms)


Started GET "/planes" for ::1 at 2017-05-01 20:44:40 +0530
Processing by PlanesController#index as HTML
  [1m[36mPlane Load (0.3ms)[0m  [1mSELECT "planes".* FROM "planes"[0m
  Rendered planes/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 31ms (Views: 30.4ms | ActiveRecord: 0.3ms)
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" WHERE "seats"."lane_id" = ?[0m  [["lane_id", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" WHERE "seats"."lane_id" = ?  ORDER BY "seats"."id" ASC LIMIT 1  [["lane_id", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" WHERE "seats"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" WHERE "seats"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats"  ORDER BY "seats"."id" ASC LIMIT 1[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats"  ORDER BY "seats"."id" ASC LIMIT 6
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats"  ORDER BY "seats"."id" ASC LIMIT 6[0m
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.7ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePlanes (20170430105326)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "planes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170430105326"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateLanes (20170430105413)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "lanes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "row" integer, "column" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170430105413"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateSeats (20170430105804)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "seats" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "lane_id" integer, "number" integer, "status" integer DEFAULT 0, "kind" integer, "booking_order" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_seats_on_lane_id" ON "seats" ("lane_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170430105804"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to AddPlaneIdToLane (20170501064157)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "lanes" ADD "plane_id" integer[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_lanes_on_plane_id" ON "lanes" ("plane_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170501064157"]]
  [1m[35m (0.9ms)[0m  commit transaction
Migrating to AddNumberToLane (20170501132723)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "lanes" ADD "number" integer
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170501132723"]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_lanes_on_plane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_lanes_on_plane_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_seats_on_lane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_seats_on_lane_id' AND type='index'
[0m


Started GET "/planes/1" for ::1 at 2017-05-01 20:50:59 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://localhost:3000/planes
Filter chain halted as :load_plane rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)


Started GET "/planes" for ::1 at 2017-05-01 20:50:59 +0530
Processing by PlanesController#index as HTML
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT "planes".* FROM "planes"[0m
  Rendered planes/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 24ms (Views: 22.7ms | ActiveRecord: 0.1ms)


Started POST "/planes" for ::1 at 2017-05-01 20:51:15 +0530
Processing by PlanesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"g0Xrzn8+rfLMwHLnlwiH83bo8p6oGJFM0gpWbc3ZjY+BA3xmED9nkcSMxn57zHqrVQL+Apg63+oit0qnKhz2Gw==", "plane"=>{"name"=>"Jet", "lanes_attributes"=>{"1493652066260"=>{"row"=>"3", "column"=>"2", "_destroy"=>"false"}, "1493652070334"=>{"row"=>"4", "column"=>"3", "_destroy"=>"false"}}}, "commit"=>"Create Plane"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "planes" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Jet"], ["created_at", "2017-05-01 15:21:15.140319"], ["updated_at", "2017-05-01 15:21:15.140319"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["row", 3], ["column", 2], ["plane_id", 1], ["created_at", "2017-05-01 15:21:15.151185"], ["updated_at", "2017-05-01 15:21:15.151185"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 1], ["lane_id", 1], ["created_at", "2017-05-01 15:21:15.153036"], ["updated_at", "2017-05-01 15:21:15.153036"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 2], ["lane_id", 1], ["created_at", "2017-05-01 15:21:15.155414"], ["updated_at", "2017-05-01 15:21:15.155414"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 2], ["lane_id", 1], ["created_at", "2017-05-01 15:21:15.156707"], ["updated_at", "2017-05-01 15:21:15.156707"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 3], ["lane_id", 1], ["created_at", "2017-05-01 15:21:15.157773"], ["updated_at", "2017-05-01 15:21:15.157773"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 3], ["lane_id", 1], ["created_at", "2017-05-01 15:21:15.159224"], ["updated_at", "2017-05-01 15:21:15.159224"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 4], ["lane_id", 1], ["created_at", "2017-05-01 15:21:15.160350"], ["updated_at", "2017-05-01 15:21:15.160350"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["row", 4], ["column", 3], ["plane_id", 1], ["created_at", "2017-05-01 15:21:15.164015"], ["updated_at", "2017-05-01 15:21:15.164015"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 1], ["lane_id", 2], ["created_at", "2017-05-01 15:21:15.164919"], ["updated_at", "2017-05-01 15:21:15.164919"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 2], ["lane_id", 2], ["created_at", "2017-05-01 15:21:15.165965"], ["updated_at", "2017-05-01 15:21:15.165965"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 3], ["lane_id", 2], ["created_at", "2017-05-01 15:21:15.167020"], ["updated_at", "2017-05-01 15:21:15.167020"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 3], ["lane_id", 2], ["created_at", "2017-05-01 15:21:15.168668"], ["updated_at", "2017-05-01 15:21:15.168668"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 4], ["lane_id", 2], ["created_at", "2017-05-01 15:21:15.169665"], ["updated_at", "2017-05-01 15:21:15.169665"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 5], ["lane_id", 2], ["created_at", "2017-05-01 15:21:15.170577"], ["updated_at", "2017-05-01 15:21:15.170577"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 5], ["lane_id", 2], ["created_at", "2017-05-01 15:21:15.171439"], ["updated_at", "2017-05-01 15:21:15.171439"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 6], ["lane_id", 2], ["created_at", "2017-05-01 15:21:15.172428"], ["updated_at", "2017-05-01 15:21:15.172428"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 7], ["lane_id", 2], ["created_at", "2017-05-01 15:21:15.173360"], ["updated_at", "2017-05-01 15:21:15.173360"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 7], ["lane_id", 2], ["created_at", "2017-05-01 15:21:15.174301"], ["updated_at", "2017-05-01 15:21:15.174301"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["number", 8], ["lane_id", 2], ["created_at", "2017-05-01 15:21:15.175250"], ["updated_at", "2017-05-01 15:21:15.175250"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["number", 9], ["lane_id", 2], ["created_at", "2017-05-01 15:21:15.176226"], ["updated_at", "2017-05-01 15:21:15.176226"]]
  [1m[35mLane Load (0.2ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  ORDER BY "lanes"."id" ASC  [["plane_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "lanes" SET "number" = 1 WHERE "lanes"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "lanes" SET "number" = 2 WHERE "lanes"."id" = ?  [["id", 2]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  ORDER BY "lanes"."id" ASC[0m  [["plane_id", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" WHERE "seats"."lane_id" = ?  ORDER BY "seats"."number" ASC  [["lane_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 0], ["updated_at", "2017-05-01 15:21:15.182347"], ["id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 2], ["updated_at", "2017-05-01 15:21:15.183526"], ["id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 0], ["updated_at", "2017-05-01 15:21:15.185041"], ["id", 3]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 2], ["updated_at", "2017-05-01 15:21:15.186502"], ["id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 0], ["updated_at", "2017-05-01 15:21:15.187503"], ["id", 5]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 2], ["updated_at", "2017-05-01 15:21:15.190812"], ["id", 6]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" WHERE "seats"."lane_id" = ?  ORDER BY "seats"."number" ASC[0m  [["lane_id", 2]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 2], ["updated_at", "2017-05-01 15:21:15.193070"], ["id", 7]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 0], ["updated_at", "2017-05-01 15:21:15.194231"], ["id", 9]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:21:15.195309"], ["id", 8]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 15:21:15.196258"], ["id", 10]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 0], ["updated_at", "2017-05-01 15:21:15.197195"], ["id", 12]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:21:15.198135"], ["id", 11]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 2], ["updated_at", "2017-05-01 15:21:15.199056"], ["id", 13]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 0], ["updated_at", "2017-05-01 15:21:15.200141"], ["id", 15]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:21:15.201643"], ["id", 14]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 15:21:15.203713"], ["id", 16]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 0], ["updated_at", "2017-05-01 15:21:15.205177"], ["id", 18]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:21:15.206356"], ["id", 17]]
  [1m[35m (1.6ms)[0m  commit transaction
Redirected to http://localhost:3000/planes
Completed 302 Found in 82ms (ActiveRecord: 6.5ms)


Started GET "/planes" for ::1 at 2017-05-01 20:51:15 +0530
Processing by PlanesController#index as HTML
  [1m[36mPlane Load (0.2ms)[0m  [1mSELECT "planes".* FROM "planes"[0m
  Rendered planes/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 17ms (Views: 15.8ms | ActiveRecord: 0.2ms)


Started GET "/planes/1" for ::1 at 2017-05-01 20:51:17 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (13.3ms)
Completed 200 OK in 41ms (Views: 38.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats"[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" WHERE "seats"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats"  ORDER BY "seats"."id" ASC LIMIT 6[0m
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats"  ORDER BY "seats"."id" DESC LIMIT 12


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 20:52:44 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"L+ZB8jJeKjFQ3t8qkc0yLirY+dNvoE+Swpdl7XlxeNstoNZaXV/gUliSa7N9Cc92CTL1T1+CATQyKnknnrQDTw==", "count"=>"7", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 15:22:44.803883"], ["id", 2]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 15:22:44.809907"], ["id", 4]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 15:22:44.815826"], ["id", 6]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 15:22:44.821065"], ["id", 7]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 15:22:44.826084"], ["id", 10]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 15:22:44.831009"], ["id", 13]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."id" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 7], ["status", 1], ["updated_at", "2017-05-01 15:22:44.835882"], ["id", 16]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
Completed 200 OK in 33098ms (Views: 0.3ms | ActiveRecord: 11.0ms)
  [1m[36mSQL (1.8ms)[0m  [1mUPDATE "seats" SET "booking_order" = NULL[0m
  [1m[35mSQL (2.0ms)[0m  UPDATE "seats" SET "status" = 0


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 20:56:30 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"L+ZB8jJeKjFQ3t8qkc0yLirY+dNvoE+Swpdl7XlxeNstoNZaXV/gUliSa7N9Cc92CTL1T1+CATQyKnknnrQDTw==", "count"=>"7", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35mSeat Load (0.6ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0]]
  [1m[36mSeat Load (0.9ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY lanes.row LIMIT 1  [["plane_id", 1], ["status", 0]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.5ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
Completed 500 Internal Server Error in 28012ms (ActiveRecord: 3.5ms)

ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: seats.row: SELECT  "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1):
  app/models/plane.rb:66:in `book_ticket'
  app/models/plane.rb:56:in `block in book_tickets'
  app/models/plane.rb:56:in `times'
  app/models/plane.rb:56:in `book_tickets'
  app/controllers/planes_controller.rb:40:in `book_tickets'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.2ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.9ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.8ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (55.6ms)
  [1m[36mSQL (2.1ms)[0m  [1mUPDATE "seats" SET "booking_order" = NULL[0m
  [1m[35mSQL (1.8ms)[0m  UPDATE "seats" SET "status" = 0


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 20:57:09 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"L+ZB8jJeKjFQ3t8qkc0yLirY+dNvoE+Swpdl7XlxeNstoNZaXV/gUliSa7N9Cc92CTL1T1+CATQyKnknnrQDTw==", "count"=>"7", "plane_id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" lanes.row WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
Completed 500 Internal Server Error in 2649ms (ActiveRecord: 1.7ms)

ActiveRecord::StatementInvalid (SQLite3::SQLException: near "lanes": syntax error: SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" lanes.row WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?):
  app/models/plane.rb:65:in `book_ticket'
  app/models/plane.rb:56:in `block in book_tickets'
  app/models/plane.rb:56:in `times'
  app/models/plane.rb:56:in `book_tickets'
  app/controllers/planes_controller.rb:40:in `book_tickets'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.7ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (2.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (56.6ms)
  [1m[36mSQL (1.8ms)[0m  [1mUPDATE "seats" SET "booking_order" = NULL[0m
  [1m[35mSQL (2.0ms)[0m  UPDATE "seats" SET "status" = 0


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 20:58:35 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"L+ZB8jJeKjFQ3t8qkc0yLirY+dNvoE+Swpdl7XlxeNstoNZaXV/gUliSa7N9Cc92CTL1T1+CATQyKnknnrQDTw==", "count"=>"7", "plane_id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35mSeat Load (0.6ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" lanes.row WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
Completed 500 Internal Server Error in 1777ms (ActiveRecord: 2.6ms)

ActiveRecord::StatementInvalid (SQLite3::SQLException: near "lanes": syntax error: SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" lanes.row WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC):
  app/models/plane.rb:65:in `book_ticket'
  app/models/plane.rb:56:in `block in book_tickets'
  app/models/plane.rb:56:in `times'
  app/models/plane.rb:56:in `book_tickets'
  app/controllers/planes_controller.rb:40:in `book_tickets'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.7ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.8ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.7ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (46.3ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 20:59:00 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"L+ZB8jJeKjFQ3t8qkc0yLirY+dNvoE+Swpdl7XlxeNstoNZaXV/gUliSa7N9Cc92CTL1T1+CATQyKnknnrQDTw==", "count"=>"7", "plane_id"=>"1"}
  [1m[36mPlane Load (0.3ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36mSeat Load (1.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" lanes.row WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0]]
  [1m[35mSeat Load (0.7ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" lanes.row WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY lanes.row LIMIT 1[0m  [["plane_id", 1], ["status", 0]]
  [1m[35mSeat Load (0.9ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" lanes.row WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
Completed 500 Internal Server Error in 41904ms (ActiveRecord: 5.0ms)

ActiveRecord::StatementInvalid (SQLite3::SQLException: near "lanes": syntax error: SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" lanes.row WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC):
  app/models/plane.rb:66:in `book_ticket'
  app/models/plane.rb:56:in `block in book_tickets'
  app/models/plane.rb:56:in `times'
  app/models/plane.rb:56:in `book_tickets'
  app/controllers/planes_controller.rb:40:in `book_tickets'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.7ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.6ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.7ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (50.3ms)
  [1m[36mSQL (1.6ms)[0m  [1mUPDATE "seats" SET "status" = 0[0m
  [1m[35mSQL (1.7ms)[0m  UPDATE "seats" SET "booking_order" = NULL


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 20:59:55 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"L+ZB8jJeKjFQ3t8qkc0yLirY+dNvoE+Swpdl7XlxeNstoNZaXV/gUliSa7N9Cc92CTL1T1+CATQyKnknnrQDTw==", "count"=>"7", "plane_id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.6ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 15:29:55.649039"], ["id", 2]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 15:29:55.656350"], ["id", 4]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 15:29:55.662174"], ["id", 6]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 15:29:55.669496"], ["id", 7]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 15:29:55.675327"], ["id", 10]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 15:29:55.680478"], ["id", 13]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 7], ["status", 1], ["updated_at", "2017-05-01 15:29:55.685572"], ["id", 16]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.3ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
Completed 200 OK in 25053ms (Views: 0.7ms | ActiveRecord: 13.6ms)
  [1m[36mSQL (2.0ms)[0m  [1mUPDATE "seats" SET "booking_order" = NULL[0m
  [1m[35mSQL (2.0ms)[0m  UPDATE "seats" SET "status" = 0


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:00:36 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"L+ZB8jJeKjFQ3t8qkc0yLirY+dNvoE+Swpdl7XlxeNstoNZaXV/gUliSa7N9Cc92CTL1T1+CATQyKnknnrQDTw==", "count"=>"7", "plane_id"=>"1"}
  [1m[36mPlane Load (0.3ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36mSeat Load (0.5ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.4ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 15:30:45.396484"], ["id", 2]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mCACHE (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 15:31:34.536461"], ["id", 4]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.3ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 15:31:36.083770"], ["id", 6]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 15:31:36.780197"], ["id", 7]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
Completed 500 Internal Server Error in 60896ms (ActiveRecord: 8.7ms)

SystemExit (exit):
  app/models/plane.rb:72:in `book_ticket'
  app/models/plane.rb:56:in `block in book_tickets'
  app/models/plane.rb:56:in `times'
  app/models/plane.rb:56:in `book_tickets'
  app/controllers/planes_controller.rb:40:in `book_tickets'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (60.9ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.8ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (112.5ms)
  [1m[36mSQL (1.9ms)[0m  [1mUPDATE "seats" SET "booking_order" = NULL[0m
  [1m[35mSQL (2.1ms)[0m  UPDATE "seats" SET "status" = 0


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:02:40 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"L+ZB8jJeKjFQ3t8qkc0yLirY+dNvoE+Swpdl7XlxeNstoNZaXV/gUliSa7N9Cc92CTL1T1+CATQyKnknnrQDTw==", "count"=>"7", "plane_id"=>"1"}
  [1m[35mPlane Load (0.5ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY lanes.row  [["plane_id", 1], ["status", 0]]
  [1m[36mSeat Load (0.5ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY lanes.row LIMIT 3[0m  [["plane_id", 1], ["status", 0]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY lanes.row LIMIT 3  [["plane_id", 1], ["status", 0]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY lanes.row LIMIT 3[0m  [["plane_id", 1], ["status", 0]]
  [1m[35mLane Load (0.2ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY lanes.row LIMIT 3[0m  [["plane_id", 1], ["status", 0]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ?  ORDER BY lanes.row[0m  [["plane_id", 1]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ?  ORDER BY lanes.row LIMIT 3  [["plane_id", 1]]
  [1m[36mSeat Load (0.4ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 15:35:50.414796"], ["id", 2]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 15:35:54.662732"], ["id", 4]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 15:35:55.631424"], ["id", 6]]
  [1m[35m (0.6ms)[0m  commit transaction
Completed 500 Internal Server Error in 195866ms (ActiveRecord: 12.1ms)

SystemExit (exit):
  app/models/plane.rb:65:in `book_ticket'
  app/models/plane.rb:56:in `block in book_tickets'
  app/models/plane.rb:56:in `times'
  app/models/plane.rb:56:in `book_tickets'
  app/controllers/planes_controller.rb:40:in `book_tickets'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (77.1ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (2.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.9ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (134.1ms)
  [1m[36mSQL (1.8ms)[0m  [1mUPDATE "seats" SET "status" = 0[0m
  [1m[35mSQL (2.0ms)[0m  UPDATE "seats" SET "booking_order" = NULL


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:06:11 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"L+ZB8jJeKjFQ3t8qkc0yLirY+dNvoE+Swpdl7XlxeNstoNZaXV/gUliSa7N9Cc92CTL1T1+CATQyKnknnrQDTw==", "count"=>"7", "plane_id"=>"1"}
  [1m[36mPlane Load (0.5ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."id" = ? LIMIT 1[0m  [["plane_id", 1], ["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."id" = ? LIMIT 1  [["plane_id", 1], ["id", 7]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."id" = ? LIMIT 1  [["plane_id", 1], ["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.8ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePlanes (20170430105326)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "planes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170430105326"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateLanes (20170430105413)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "lanes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "row" integer, "column" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170430105413"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateSeats (20170430105804)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "seats" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "lane_id" integer, "number" integer, "status" integer DEFAULT 0, "kind" integer, "booking_order" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_seats_on_lane_id" ON "seats" ("lane_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170430105804"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddPlaneIdToLane (20170501064157)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "lanes" ADD "plane_id" integer[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_lanes_on_plane_id" ON "lanes" ("plane_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170501064157"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to AddNumberToLane (20170501132723)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "lanes" ADD "number" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170501132723"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddRowAndColumnToSeats (20170501154148)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "seats" ADD "row" integer
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "seats" ADD "column" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170501154148"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_lanes_on_plane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_lanes_on_plane_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_seats_on_lane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_seats_on_lane_id' AND type='index'

  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY lanes.row LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
Completed 500 Internal Server Error in 416290ms (ActiveRecord: 4.9ms)

SystemExit (exit):
  app/models/plane.rb:74:in `book_ticket'
  app/models/plane.rb:56:in `block in book_tickets'
  app/models/plane.rb:56:in `times'
  app/models/plane.rb:56:in `book_tickets'
  app/controllers/planes_controller.rb:40:in `book_tickets'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (73.1ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (2.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (2.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (128.7ms)


Started GET "/" for ::1 at 2017-05-01 21:13:21 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomeController#index as HTML
  Rendered home/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 364ms (Views: 355.2ms | ActiveRecord: 0.0ms)


Started GET "/planes/new" for ::1 at 2017-05-01 21:13:23 +0530
Processing by PlanesController#new as HTML
  Rendered planes/_form.html.erb (63.8ms)
  Rendered planes/new.html.erb within layouts/application (68.8ms)
Completed 200 OK in 114ms (Views: 99.5ms | ActiveRecord: 0.5ms)


Started POST "/planes" for ::1 at 2017-05-01 21:13:33 +0530
Processing by PlanesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"E2/zX45dZzv2ghJ6oaU434ZyEMZKr+71m+QufdZN9iYRKWT34VytWP7OpuNNYcWHpZgcWnqNoFNrWTK3MYiNsg==", "plane"=>{"name"=>"Jet", "lanes_attributes"=>{"1493653407180"=>{"row"=>"3", "column"=>"2", "_destroy"=>"false"}, "1493653409906"=>{"row"=>"4", "column"=>"3", "_destroy"=>"false"}}}, "commit"=>"Create Plane"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "planes" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Jet"], ["created_at", "2017-05-01 15:43:33.398408"], ["updated_at", "2017-05-01 15:43:33.398408"]]
  [1m[35m (0.2ms)[0m  rollback transaction
Completed 500 Internal Server Error in 38513ms (ActiveRecord: 1.2ms)

NameError (undefined local variable or method `seat' for #<Lane:0x007fdc5fbf10d8>
Did you mean?  seats):
  app/models/lane.rb:19:in `block (2 levels) in save_seats'
  app/models/lane.rb:18:in `each'
  app/models/lane.rb:18:in `block in save_seats'
  app/models/lane.rb:13:in `times'
  app/models/lane.rb:13:in `save_seats'
  app/controllers/planes_controller.rb:14:in `create'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.5ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (57.0ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (51.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (118.7ms)
  [1m[36m (2.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.8ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePlanes (20170430105326)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "planes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170430105326"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateLanes (20170430105413)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "lanes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "row" integer, "column" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170430105413"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateSeats (20170430105804)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "seats" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "lane_id" integer, "number" integer, "status" integer DEFAULT 0, "kind" integer, "booking_order" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_seats_on_lane_id" ON "seats" ("lane_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170430105804"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddPlaneIdToLane (20170501064157)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "lanes" ADD "plane_id" integer[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_lanes_on_plane_id" ON "lanes" ("plane_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170501064157"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddNumberToLane (20170501132723)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "lanes" ADD "number" integer
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170501132723"]]
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddRowAndColumnToSeats (20170501154148)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "seats" ADD "row" integer
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "seats" ADD "column" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170501154148"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_lanes_on_plane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_lanes_on_plane_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_seats_on_lane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_seats_on_lane_id' AND type='index'



Started POST "/planes" for ::1 at 2017-05-01 21:14:31 +0530
Processing by PlanesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"E2/zX45dZzv2ghJ6oaU434ZyEMZKr+71m+QufdZN9iYRKWT34VytWP7OpuNNYcWHpZgcWnqNoFNrWTK3MYiNsg==", "plane"=>{"name"=>"Jet", "lanes_attributes"=>{"1493653407180"=>{"row"=>"3", "column"=>"2", "_destroy"=>"false"}, "1493653409906"=>{"row"=>"4", "column"=>"3", "_destroy"=>"false"}}}, "commit"=>"Create Plane"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "planes" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Jet"], ["created_at", "2017-05-01 15:44:31.310927"], ["updated_at", "2017-05-01 15:44:31.310927"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["row", 3], ["column", 2], ["plane_id", 1], ["created_at", "2017-05-01 15:44:35.661552"], ["updated_at", "2017-05-01 15:44:35.661552"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 1], ["row", 1], ["column", 1], ["lane_id", 1], ["created_at", "2017-05-01 15:44:35.663376"], ["updated_at", "2017-05-01 15:44:35.663376"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 2], ["row", 1], ["column", 2], ["lane_id", 1], ["created_at", "2017-05-01 15:44:35.664843"], ["updated_at", "2017-05-01 15:44:35.664843"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 2], ["row", 2], ["column", 1], ["lane_id", 1], ["created_at", "2017-05-01 15:44:35.666086"], ["updated_at", "2017-05-01 15:44:35.666086"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 3], ["row", 2], ["column", 2], ["lane_id", 1], ["created_at", "2017-05-01 15:44:35.667256"], ["updated_at", "2017-05-01 15:44:35.667256"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 3], ["row", 3], ["column", 1], ["lane_id", 1], ["created_at", "2017-05-01 15:44:35.668386"], ["updated_at", "2017-05-01 15:44:35.668386"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 4], ["row", 3], ["column", 2], ["lane_id", 1], ["created_at", "2017-05-01 15:44:35.669579"], ["updated_at", "2017-05-01 15:44:35.669579"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["row", 4], ["column", 3], ["plane_id", 1], ["created_at", "2017-05-01 15:44:37.577772"], ["updated_at", "2017-05-01 15:44:37.577772"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 1], ["row", 1], ["column", 1], ["lane_id", 2], ["created_at", "2017-05-01 15:44:37.578745"], ["updated_at", "2017-05-01 15:44:37.578745"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 2], ["row", 1], ["column", 2], ["lane_id", 2], ["created_at", "2017-05-01 15:44:37.579836"], ["updated_at", "2017-05-01 15:44:37.579836"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 3], ["row", 1], ["column", 3], ["lane_id", 2], ["created_at", "2017-05-01 15:44:37.580880"], ["updated_at", "2017-05-01 15:44:37.580880"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 3], ["row", 2], ["column", 1], ["lane_id", 2], ["created_at", "2017-05-01 15:44:37.581945"], ["updated_at", "2017-05-01 15:44:37.581945"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 4], ["row", 2], ["column", 2], ["lane_id", 2], ["created_at", "2017-05-01 15:44:37.582979"], ["updated_at", "2017-05-01 15:44:37.582979"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 5], ["row", 2], ["column", 3], ["lane_id", 2], ["created_at", "2017-05-01 15:44:37.584004"], ["updated_at", "2017-05-01 15:44:37.584004"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 5], ["row", 3], ["column", 1], ["lane_id", 2], ["created_at", "2017-05-01 15:44:37.584985"], ["updated_at", "2017-05-01 15:44:37.584985"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 6], ["row", 3], ["column", 2], ["lane_id", 2], ["created_at", "2017-05-01 15:44:37.585988"], ["updated_at", "2017-05-01 15:44:37.585988"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 7], ["row", 3], ["column", 3], ["lane_id", 2], ["created_at", "2017-05-01 15:44:37.593848"], ["updated_at", "2017-05-01 15:44:37.593848"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 7], ["row", 4], ["column", 1], ["lane_id", 2], ["created_at", "2017-05-01 15:44:37.594800"], ["updated_at", "2017-05-01 15:44:37.594800"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 8], ["row", 4], ["column", 2], ["lane_id", 2], ["created_at", "2017-05-01 15:44:37.595736"], ["updated_at", "2017-05-01 15:44:37.595736"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 9], ["row", 4], ["column", 3], ["lane_id", 2], ["created_at", "2017-05-01 15:44:37.596722"], ["updated_at", "2017-05-01 15:44:37.596722"]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  ORDER BY "lanes"."id" ASC[0m  [["plane_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "lanes" SET "number" = 1 WHERE "lanes"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "lanes" SET "number" = 2 WHERE "lanes"."id" = ?[0m  [["id", 2]]
  [1m[35mLane Load (0.0ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  ORDER BY "lanes"."id" ASC  [["plane_id", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" WHERE "seats"."lane_id" = ?  ORDER BY "seats"."number" ASC[0m  [["lane_id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 0], ["updated_at", "2017-05-01 15:44:37.604838"], ["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 15:44:37.606900"], ["id", 2]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 0], ["updated_at", "2017-05-01 15:44:37.608033"], ["id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 15:44:37.609124"], ["id", 4]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 0], ["updated_at", "2017-05-01 15:44:37.610398"], ["id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 15:44:37.611527"], ["id", 6]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" WHERE "seats"."lane_id" = ?  ORDER BY "seats"."number" ASC  [["lane_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 15:44:37.613730"], ["id", 7]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 0], ["updated_at", "2017-05-01 15:44:37.615085"], ["id", 9]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:44:37.616313"], ["id", 8]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 2], ["updated_at", "2017-05-01 15:44:37.617473"], ["id", 10]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 0], ["updated_at", "2017-05-01 15:44:37.618585"], ["id", 12]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:44:37.619845"], ["id", 11]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 15:44:37.621002"], ["id", 13]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 0], ["updated_at", "2017-05-01 15:44:37.623610"], ["id", 15]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:44:37.625516"], ["id", 14]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 2], ["updated_at", "2017-05-01 15:44:37.627148"], ["id", 16]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 0], ["updated_at", "2017-05-01 15:44:37.628415"], ["id", 18]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:44:37.629809"], ["id", 17]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/planes
Completed 302 Found in 6339ms (ActiveRecord: 5.3ms)


Started GET "/planes" for ::1 at 2017-05-01 21:14:37 +0530
Processing by PlanesController#index as HTML
  [1m[35mPlane Load (0.1ms)[0m  SELECT "planes".* FROM "planes"
  Rendered planes/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 23ms (Views: 21.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats"[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats"  ORDER BY "seats"."id" ASC LIMIT 6


Started GET "/planes/1" for ::1 at 2017-05-01 21:15:17 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.2ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (21.2ms)
Completed 200 OK in 50ms (Views: 38.4ms | ActiveRecord: 1.2ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:15:21 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"CD1dI35yJoRQKwaDVvEtIz4dceRBifgW4RAypmmjGBMKe8qLEXPs51hnshq6NdB7Hfd9eHGrtrARrS5sjmZjhw==", "count"=>"7", "plane_id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36mSeat Load (0.4ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0]]
  [1m[35mSeat Load (0.4ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 15:45:34.641100"], ["id", 2]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 15:45:36.136435"], ["id", 7]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 15:45:37.254979"], ["id", 4]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.3ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 15:45:38.293228"], ["id", 10]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 15:45:39.270772"], ["id", 6]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 15:45:40.510770"], ["id", 13]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 15:45:42.027450"], ["id", 16]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
Completed 200 OK in 20938ms (Views: 0.4ms | ActiveRecord: 13.1ms)
  [1m[36m (2.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (5.4ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePlanes (20170430105326)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "planes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170430105326"]]
  [1m[35m (4.5ms)[0m  commit transaction
Migrating to CreateLanes (20170430105413)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "lanes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "row" integer, "column" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170430105413"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateSeats (20170430105804)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "seats" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "lane_id" integer, "number" integer, "status" integer DEFAULT 0, "kind" integer, "booking_order" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.6ms)[0m  [1mCREATE  INDEX "index_seats_on_lane_id" ON "seats" ("lane_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170430105804"]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
Migrating to AddPlaneIdToLane (20170501064157)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mALTER TABLE "lanes" ADD "plane_id" integer[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_lanes_on_plane_id" ON "lanes" ("plane_id")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170501064157"]]
  [1m[35m (1.3ms)[0m  commit transaction
Migrating to AddNumberToLane (20170501132723)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "lanes" ADD "number" integer
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170501132723"]]
  [1m[35m (2.4ms)[0m  commit transaction
Migrating to AddRowAndColumnToSeats (20170501154148)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "seats" ADD "row" integer
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "seats" ADD "column" integer[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170501154148"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_lanes_on_plane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_lanes_on_plane_id' AND type='index'
[0m
  [1m[35m (0.5ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_seats_on_lane_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_seats_on_lane_id' AND type='index'



Started POST "/planes" for ::1 at 2017-05-01 21:16:14 +0530
Processing by PlanesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"TF8G4C54t8lm8MqwlsOwbRzrkqBwMNx/nxFXtlWWcIROGZFIQXl9qm68fil6B001PwGePEASktlvrEt8slMLEA==", "plane"=>{"name"=>"Jet", "lanes_attributes"=>{"1493653569497"=>{"row"=>"3", "column"=>"2", "_destroy"=>"false"}, "1493653571985"=>{"row"=>"4", "column"=>"3", "_destroy"=>"false"}}}, "commit"=>"Create Plane"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "planes" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Jet"], ["created_at", "2017-05-01 15:46:14.875680"], ["updated_at", "2017-05-01 15:46:14.875680"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["row", 3], ["column", 2], ["plane_id", 1], ["created_at", "2017-05-01 15:46:22.087885"], ["updated_at", "2017-05-01 15:46:22.087885"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 1], ["row", 1], ["column", 1], ["lane_id", 1], ["created_at", "2017-05-01 15:46:22.089655"], ["updated_at", "2017-05-01 15:46:22.089655"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 2], ["row", 1], ["column", 2], ["lane_id", 1], ["created_at", "2017-05-01 15:46:22.090954"], ["updated_at", "2017-05-01 15:46:22.090954"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 2], ["row", 2], ["column", 1], ["lane_id", 1], ["created_at", "2017-05-01 15:46:22.091960"], ["updated_at", "2017-05-01 15:46:22.091960"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 3], ["row", 2], ["column", 2], ["lane_id", 1], ["created_at", "2017-05-01 15:46:22.092964"], ["updated_at", "2017-05-01 15:46:22.092964"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 3], ["row", 3], ["column", 1], ["lane_id", 1], ["created_at", "2017-05-01 15:46:22.093967"], ["updated_at", "2017-05-01 15:46:22.093967"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 4], ["row", 3], ["column", 2], ["lane_id", 1], ["created_at", "2017-05-01 15:46:22.095076"], ["updated_at", "2017-05-01 15:46:22.095076"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["row", 4], ["column", 3], ["plane_id", 1], ["created_at", "2017-05-01 15:46:24.377941"], ["updated_at", "2017-05-01 15:46:24.377941"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 1], ["row", 1], ["column", 1], ["lane_id", 2], ["created_at", "2017-05-01 15:46:24.378996"], ["updated_at", "2017-05-01 15:46:24.378996"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 2], ["row", 1], ["column", 2], ["lane_id", 2], ["created_at", "2017-05-01 15:46:24.380392"], ["updated_at", "2017-05-01 15:46:24.380392"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 3], ["row", 1], ["column", 3], ["lane_id", 2], ["created_at", "2017-05-01 15:46:24.381660"], ["updated_at", "2017-05-01 15:46:24.381660"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 3], ["row", 2], ["column", 1], ["lane_id", 2], ["created_at", "2017-05-01 15:46:24.383555"], ["updated_at", "2017-05-01 15:46:24.383555"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 4], ["row", 2], ["column", 2], ["lane_id", 2], ["created_at", "2017-05-01 15:46:24.384947"], ["updated_at", "2017-05-01 15:46:24.384947"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 5], ["row", 2], ["column", 3], ["lane_id", 2], ["created_at", "2017-05-01 15:46:24.386187"], ["updated_at", "2017-05-01 15:46:24.386187"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 5], ["row", 3], ["column", 1], ["lane_id", 2], ["created_at", "2017-05-01 15:46:24.387428"], ["updated_at", "2017-05-01 15:46:24.387428"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 6], ["row", 3], ["column", 2], ["lane_id", 2], ["created_at", "2017-05-01 15:46:24.388496"], ["updated_at", "2017-05-01 15:46:24.388496"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 7], ["row", 3], ["column", 3], ["lane_id", 2], ["created_at", "2017-05-01 15:46:24.391099"], ["updated_at", "2017-05-01 15:46:24.391099"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 7], ["row", 4], ["column", 1], ["lane_id", 2], ["created_at", "2017-05-01 15:46:24.392431"], ["updated_at", "2017-05-01 15:46:24.392431"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 8], ["row", 4], ["column", 2], ["lane_id", 2], ["created_at", "2017-05-01 15:46:24.393451"], ["updated_at", "2017-05-01 15:46:24.393451"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 9], ["row", 4], ["column", 3], ["lane_id", 2], ["created_at", "2017-05-01 15:46:24.394408"], ["updated_at", "2017-05-01 15:46:24.394408"]]
  [1m[35mLane Load (0.1ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  ORDER BY "lanes"."id" ASC  [["plane_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "lanes" SET "number" = 1 WHERE "lanes"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "lanes" SET "number" = 2 WHERE "lanes"."id" = ?  [["id", 2]]
  [1m[36mLane Load (0.0ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  ORDER BY "lanes"."id" ASC[0m  [["plane_id", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" WHERE "seats"."lane_id" = ?  ORDER BY "seats"."number" ASC  [["lane_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 0], ["updated_at", "2017-05-01 15:46:24.398911"], ["id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 2], ["updated_at", "2017-05-01 15:46:24.400240"], ["id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 0], ["updated_at", "2017-05-01 15:46:24.401485"], ["id", 3]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 2], ["updated_at", "2017-05-01 15:46:24.402595"], ["id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 0], ["updated_at", "2017-05-01 15:46:24.403668"], ["id", 5]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 2], ["updated_at", "2017-05-01 15:46:24.404676"], ["id", 6]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" WHERE "seats"."lane_id" = ?  ORDER BY "seats"."number" ASC[0m  [["lane_id", 2]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 2], ["updated_at", "2017-05-01 15:46:24.407591"], ["id", 7]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 0], ["updated_at", "2017-05-01 15:46:24.409593"], ["id", 9]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:46:24.411492"], ["id", 8]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 15:46:24.413688"], ["id", 10]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 0], ["updated_at", "2017-05-01 15:46:24.414846"], ["id", 12]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:46:24.415885"], ["id", 11]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 2], ["updated_at", "2017-05-01 15:46:24.416907"], ["id", 13]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 0], ["updated_at", "2017-05-01 15:46:24.417915"], ["id", 15]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 15:46:24.418867"], ["id", 14]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 15:46:24.419872"], ["id", 16]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 0], ["updated_at", "2017-05-01 15:46:24.420920"], ["id", 18]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 15:46:24.422029"], ["id", 17]]
  [1m[35m (1.6ms)[0m  commit transaction
Redirected to http://localhost:3000/planes
Completed 302 Found in 9566ms (ActiveRecord: 6.2ms)


Started GET "/planes" for ::1 at 2017-05-01 21:16:24 +0530
Processing by PlanesController#index as HTML
  [1m[36mPlane Load (0.2ms)[0m  [1mSELECT "planes".* FROM "planes"[0m
  Rendered planes/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 19ms (Views: 18.1ms | ActiveRecord: 0.2ms)


Started GET "/planes/1" for ::1 at 2017-05-01 21:16:30 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.9ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.4ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (12.5ms)
Completed 200 OK in 32ms (Views: 28.3ms | ActiveRecord: 1.3ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:16:34 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"5uAsqbuUgIGjV9SoVLsbzdNrbuqk33Acf9l627nPtIrkprsB1JVK4qsbYDG4f+aV8IFidpT9PrqPZGYRXgrPHg==", "count"=>"7", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 15:46:34.038355"], ["id", 2]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 15:46:34.045848"], ["id", 7]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 15:46:34.051485"], ["id", 4]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 15:46:34.056335"], ["id", 10]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 15:46:34.061240"], ["id", 6]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 15:46:34.067710"], ["id", 13]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 15:46:34.073182"], ["id", 16]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[36mSQL (1.9ms)[0m  [1mUPDATE "seats" SET "status" = 0[0m
  [1m[35mSQL (2.3ms)[0m  UPDATE "seats" SET "booking_order" = NULL
Completed 200 OK in 30793ms (Views: 0.4ms | ActiveRecord: 11.5ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:17:12 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"5uAsqbuUgIGjV9SoVLsbzdNrbuqk33Acf9l627nPtIrkprsB1JVK4qsbYDG4f+aV8IFidpT9PrqPZGYRXgrPHg==", "count"=>"7", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 15:47:19.293750"], ["id", 2]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 15:47:48.202062"], ["id", 7]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 15:47:49.303204"], ["id", 4]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 15:47:49.971135"], ["id", 10]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 15:47:50.810792"], ["id", 6]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 15:47:51.344928"], ["id", 13]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 15:47:51.893572"], ["id", 16]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
Completed 200 OK in 58226ms (Views: 0.4ms | ActiveRecord: 12.3ms)
  [1m[36mSQL (2.0ms)[0m  [1mUPDATE "seats" SET "status" = 0[0m
  [1m[35mSQL (1.8ms)[0m  UPDATE "seats" SET "booking_order" = NULL


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:18:40 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"5uAsqbuUgIGjV9SoVLsbzdNrbuqk33Acf9l627nPtIrkprsB1JVK4qsbYDG4f+aV8IFidpT9PrqPZGYRXgrPHg==", "count"=>"7", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 15:48:40.873303"], ["id", 2]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 15:48:40.879446"], ["id", 7]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.4ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 15:48:40.886169"], ["id", 4]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 15:48:40.894789"], ["id", 10]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 15:48:40.899882"], ["id", 6]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 15:48:40.907353"], ["id", 13]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 15:48:40.912681"], ["id", 16]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.3ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."id" = ? LIMIT 1[0m  [["plane_id", 1], ["id", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."id" = ? LIMIT 1  [["plane_id", 1], ["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
Completed 200 OK in 43690ms (Views: 0.6ms | ActiveRecord: 14.0ms)
  [1m[36mSQL (2.1ms)[0m  [1mUPDATE "seats" SET "status" = 0[0m
  [1m[35mSQL (2.0ms)[0m  UPDATE "seats" SET "booking_order" = NULL


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:19:40 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"5uAsqbuUgIGjV9SoVLsbzdNrbuqk33Acf9l627nPtIrkprsB1JVK4qsbYDG4f+aV8IFidpT9PrqPZGYRXgrPHg==", "count"=>"7", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 15:49:40.542858"], ["id", 2]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 15:49:40.548941"], ["id", 7]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 15:49:40.555400"], ["id", 4]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 15:49:40.564121"], ["id", 10]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 15:49:40.569351"], ["id", 6]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 15:49:40.574145"], ["id", 13]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 15:49:40.579222"], ["id", 16]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
Completed 200 OK in 36127ms (Views: 0.6ms | ActiveRecord: 12.5ms)
  [1m[36mSQL (2.9ms)[0m  [1mUPDATE "seats" SET "status" = 0[0m
  [1m[35mSQL (2.8ms)[0m  UPDATE "seats" SET "booking_order" = NULL


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:20:24 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"5uAsqbuUgIGjV9SoVLsbzdNrbuqk33Acf9l627nPtIrkprsB1JVK4qsbYDG4f+aV8IFidpT9PrqPZGYRXgrPHg==", "count"=>"7", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 15:50:24.381973"], ["id", 2]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.8ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 15:50:24.389272"], ["id", 7]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 15:50:24.394640"], ["id", 4]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.3ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 15:50:24.401707"], ["id", 10]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 15:50:24.406897"], ["id", 6]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 15:50:24.411947"], ["id", 13]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 15:50:24.416775"], ["id", 16]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.4ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
Completed 200 OK in 71066ms (Views: 0.6ms | ActiveRecord: 13.9ms)
  [1m[36mSQL (2.1ms)[0m  [1mUPDATE "seats" SET "booking_order" = NULL[0m
  [1m[35mSQL (1.9ms)[0m  UPDATE "seats" SET "status" = 0


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:21:49 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"5uAsqbuUgIGjV9SoVLsbzdNrbuqk33Acf9l627nPtIrkprsB1JVK4qsbYDG4f+aV8IFidpT9PrqPZGYRXgrPHg==", "count"=>"7", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 15:51:49.503784"], ["id", 2]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 15:51:49.512027"], ["id", 7]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 15:51:49.518166"], ["id", 4]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 15:51:49.523614"], ["id", 10]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 15:51:49.529860"], ["id", 6]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 15:51:49.536276"], ["id", 13]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 15:51:49.542721"], ["id", 16]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.3ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 1]]
Completed 200 OK in 10347ms (Views: 2.6ms | ActiveRecord: 13.7ms)
  [1m[36mSQL (1.9ms)[0m  [1mUPDATE "seats" SET "status" = 0[0m
  [1m[35mSQL (2.0ms)[0m  UPDATE "seats" SET "booking_order" = NULL


Started GET "/planes/1" for ::1 at 2017-05-01 21:22:20 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.3ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (21.7ms)
Completed 200 OK in 50ms (Views: 40.9ms | ActiveRecord: 1.2ms)


Started GET "/planes/1" for ::1 at 2017-05-01 21:23:52 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.3ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (20.3ms)
Completed 200 OK in 101ms (Views: 98.8ms | ActiveRecord: 0.4ms)


Started GET "/assets/plane.self-9c1de00e5dced6dd28a6ceab44094e82b809b2328af96fb8b368082ed371be3e.js?body=1" for ::1 at 2017-05-01 21:23:52 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 21:24:46 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (15.8ms)
Completed 200 OK in 88ms (Views: 86.7ms | ActiveRecord: 0.3ms)


Started GET "/assets/plane.self-6f2fdef14586631c802a6ec98030aa84245c76992d197b71c6fb5564803795dd.js?body=1" for ::1 at 2017-05-01 21:24:46 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 21:25:31 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (24.7ms)
Completed 200 OK in 103ms (Views: 101.3ms | ActiveRecord: 0.2ms)


Started GET "/assets/plane.self-7b32b370acd3af68de3aae2d8a20da24a51ed2a7df7a03b14772d2a1fee180d3.js?body=1" for ::1 at 2017-05-01 21:25:31 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 21:25:48 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (15.9ms)
Completed 200 OK in 89ms (Views: 86.3ms | ActiveRecord: 0.2ms)


Started GET "/assets/plane.self-178dc1f496c291a1ce3e3fcbfc8e698fc29e1938c416ccf100963c8e485f5897.js?body=1" for ::1 at 2017-05-01 21:25:48 +0530
  [1m[36mSQL (2.1ms)[0m  [1mUPDATE "seats" SET "booking_order" = NULL[0m
  [1m[35mSQL (2.0ms)[0m  UPDATE "seats" SET "status" = 0


Started GET "/planes/1" for ::1 at 2017-05-01 21:28:58 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.3ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (15.5ms)
Completed 200 OK in 45ms (Views: 36.1ms | ActiveRecord: 1.4ms)
  [1m[36mSQL (1.6ms)[0m  [1mUPDATE "seats" SET "status" = 0[0m
  [1m[35mSQL (2.2ms)[0m  UPDATE "seats" SET "booking_order" = NULL


Started GET "/planes/1" for ::1 at 2017-05-01 21:30:37 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.3ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (16.1ms)
Completed 200 OK in 47ms (Views: 36.9ms | ActiveRecord: 1.3ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:30:41 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vHlZDfxzA/P3bYBh+dpUl9KAfjY0/L2NNwI8w/bf+d++P86lk3LJkP8hNPgVHqnP8WpyqgTe8yvHvyAJERqCSw==", "count"=>"7", "plane_id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36mSeat Load (0.4ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 16:00:41.611191"], ["id", 2]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 16:00:41.617574"], ["id", 7]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:00:41.622831"], ["id", 4]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:00:41.629217"], ["id", 10]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:00:41.636592"], ["id", 6]]
  [1m[35m (10.2ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:00:41.651599"], ["id", 13]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 16:00:41.657788"], ["id", 16]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mLane Load (0.3ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
Completed 200 OK in 17236ms (Views: 0.6ms | ActiveRecord: 21.9ms)


Started GET "/planes/1" for ::1 at 2017-05-01 21:31:17 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.2ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (9.8ms)
Completed 200 OK in 80ms (Views: 77.7ms | ActiveRecord: 0.3ms)


Started GET "/assets/plane.self-38df29a4d6edc0128b63a0427ed239f7d8423ddd58437935a79af5e0524e0356.js?body=1" for ::1 at 2017-05-01 21:31:17 +0530
  [1m[36mSQL (1.8ms)[0m  [1mUPDATE "seats" SET "booking_order" = NULL[0m
  [1m[35mSQL (2.1ms)[0m  UPDATE "seats" SET "status" = 0


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:31:27 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"XlKW93bKfP6iFaTlJtMZanagzGfnfAN3wjzaQmRVeYxcFAFfGcu2napZEHzKF+QyVUrA+9deTdEygcaIg5ACGA==", "count"=>"7", "plane_id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 16:01:27.665609"], ["id", 2]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 16:01:27.671148"], ["id", 7]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:01:27.676673"], ["id", 4]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:01:27.681678"], ["id", 10]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:01:27.686985"], ["id", 6]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:01:27.692460"], ["id", 13]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 16:01:27.697380"], ["id", 16]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
Completed 200 OK in 2983ms (Views: 0.4ms | ActiveRecord: 10.0ms)
  [1m[36mSQL (2.1ms)[0m  [1mUPDATE "seats" SET "status" = 0[0m
  [1m[35mSQL (2.0ms)[0m  UPDATE "seats" SET "booking_order" = NULL


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:35:19 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"XlKW93bKfP6iFaTlJtMZanagzGfnfAN3wjzaQmRVeYxcFAFfGcu2napZEHzKF+QyVUrA+9deTdEygcaIg5ACGA==", "count"=>"7", "plane_id"=>"1"}
  [1m[36mPlane Load (0.2ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.7ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 16:05:19.226499"], ["id", 2]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.4ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 16:05:19.236381"], ["id", 7]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:05:19.242172"], ["id", 4]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:05:19.247388"], ["id", 10]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:05:19.252331"], ["id", 6]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:05:19.257229"], ["id", 13]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 16:05:19.262471"], ["id", 16]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
Completed 200 OK in 2250ms (Views: 0.5ms | ActiveRecord: 12.8ms)


Started GET "/planes/1" for ::1 at 2017-05-01 21:36:14 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (23.8ms)
Completed 200 OK in 150ms (Views: 144.8ms | ActiveRecord: 0.3ms)


Started GET "/assets/plane.self-7a8463ca75ae90bd7a424a3a43354fbd4ae5ee77cee9c2dd2f76bf41f7443d1d.js?body=1" for ::1 at 2017-05-01 21:36:14 +0530
  [1m[36mSQL (2.1ms)[0m  [1mUPDATE "seats" SET "booking_order" = NULL[0m
  [1m[35mSQL (2.1ms)[0m  UPDATE "seats" SET "booking_order" = NULL
  [1m[36mSQL (1.9ms)[0m  [1mUPDATE "seats" SET "status" = 0[0m


Started GET "/planes/1" for ::1 at 2017-05-01 21:36:21 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.4ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (5.5ms)
Completed 200 OK in 21ms (Views: 19.0ms | ActiveRecord: 0.5ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:36:25 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"xVcgPmCkE8DYWWl6P7tsy1rjdl65hBWyfn4M3H6cKh/HEbeWD6XZo9AV3ePTf5GTeQl6wommWxSOwxAWmVlRiw==", "count"=>"7", "plane_id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 16:06:25.665577"], ["id", 2]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.5ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 16:06:25.675646"], ["id", 7]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:06:25.681760"], ["id", 4]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:06:25.686458"], ["id", 10]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:06:25.691633"], ["id", 6]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:06:25.696762"], ["id", 13]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 16:06:25.701577"], ["id", 16]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
Completed 200 OK in 2298ms (Views: 0.3ms | ActiveRecord: 12.5ms)


Started GET "/planes/1" for ::1 at 2017-05-01 21:37:02 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.3ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (17.6ms)
Completed 200 OK in 97ms (Views: 95.2ms | ActiveRecord: 0.4ms)


Started GET "/assets/plane.self-3b251e56e8b7f67e5b41e36540ecd3b7999577f21dd79095d1d58403804ca8ff.js?body=1" for ::1 at 2017-05-01 21:37:02 +0530
  [1m[35mSQL (2.2ms)[0m  UPDATE "seats" SET "status" = 0


Started GET "/planes/1" for ::1 at 2017-05-01 21:37:37 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (8.8ms)
Completed 200 OK in 21ms (Views: 20.0ms | ActiveRecord: 0.2ms)


Started GET "/planes/1" for ::1 at 2017-05-01 21:38:04 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (12.0ms)
Completed 200 OK in 83ms (Views: 81.5ms | ActiveRecord: 0.2ms)


Started GET "/assets/plane.self-b983e51802416fbaf9b8452ee8776fd1d637cc2cb69bb6e0e68712d837261872.js?body=1" for ::1 at 2017-05-01 21:38:04 +0530
  [1m[36mSQL (1.8ms)[0m  [1mUPDATE "seats" SET "status" = 0[0m
  [1m[35mSQL (2.1ms)[0m  UPDATE "seats" SET "status" = 0
  [1m[36mSQL (2.0ms)[0m  [1mUPDATE "seats" SET "status" = 0[0m
  [1m[35mSQL (2.0ms)[0m  UPDATE "seats" SET "booking_order" = NULL


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:38:22 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"M6zsIrupUX6nI1EK60YIfr4kBqkztWAqiicJAUX1JeAx6nuK1KibHa9v5ZMHgvUmnc4KNQOXLox6mhXLojBedA==", "count"=>"7", "plane_id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 16:08:22.165980"], ["id", 2]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 16:08:22.171020"], ["id", 7]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:08:22.175795"], ["id", 4]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:08:22.180529"], ["id", 10]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:08:22.185004"], ["id", 6]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:08:22.190171"], ["id", 13]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 16:08:22.194859"], ["id", 16]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
Completed 200 OK in 2531ms (Views: 0.3ms | ActiveRecord: 9.9ms)


Started GET "/planes/1" for ::1 at 2017-05-01 21:40:09 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (24.7ms)
Completed 200 OK in 116ms (Views: 114.3ms | ActiveRecord: 0.3ms)


Started GET "/assets/plane.self-42089c3de258ca79e93b85d735a87616241d51f1ba01e95d32b472071588801c.js?body=1" for ::1 at 2017-05-01 21:40:09 +0530
  [1m[36mSQL (1.7ms)[0m  [1mUPDATE "seats" SET "booking_order" = NULL[0m
  [1m[35mSQL (2.1ms)[0m  UPDATE "seats" SET "status" = 0


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:40:20 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"8eHYZMbty/NedzBChOdctFcVBJZ+Go0PbJAVKJOxO2Pzp0/MqewBkFY7hNtoI6HsdP8ICk44w6mcLQnidHRA9w==", "count"=>"7", "plane_id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 16:10:20.508048"], ["id", 2]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 16:10:20.514553"], ["id", 7]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:10:20.519561"], ["id", 4]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:10:20.524624"], ["id", 10]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:10:20.529242"], ["id", 6]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:10:20.534331"], ["id", 13]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 16:10:20.539172"], ["id", 16]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
Completed 200 OK in 1737ms (Views: 0.3ms | ActiveRecord: 10.7ms)


Started GET "/planes/1" for ::1 at 2017-05-01 21:41:31 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.2ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (16.8ms)
Completed 200 OK in 96ms (Views: 94.7ms | ActiveRecord: 0.4ms)


Started GET "/assets/plane.self-acaf876c79c642191b67fb2cefee35d7535a1485a7e73cc2fbc3bd26c4c470be.js?body=1" for ::1 at 2017-05-01 21:41:31 +0530
  [1m[36mSQL (1.9ms)[0m  [1mUPDATE "seats" SET "booking_order" = NULL[0m
  [1m[35mSQL (2.1ms)[0m  UPDATE "seats" SET "status" = 0


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:41:43 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"opR1oVqN62cp5xDEhvrwcIMOdb2XsuEIqXUu07qfEM+g0uIJNYwhBCGrpF1qPg0ooOR5IaeQr65ZyDIZXVprWw==", "count"=>"7", "plane_id"=>"1"}
  [1m[36mPlane Load (0.2ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 16:11:43.405510"], ["id", 2]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.6ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 16:11:43.415946"], ["id", 7]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:11:43.421142"], ["id", 4]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:11:43.426959"], ["id", 10]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:11:43.432121"], ["id", 6]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:11:43.437090"], ["id", 13]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 16:11:43.441833"], ["id", 16]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
Completed 200 OK in 1648ms (Views: 0.3ms | ActiveRecord: 12.2ms)
  [1m[36mSQL (1.6ms)[0m  [1mUPDATE "seats" SET "status" = 0[0m
  [1m[35mSQL (2.0ms)[0m  UPDATE "seats" SET "booking_order" = NULL


Started GET "/planes/1" for ::1 at 2017-05-01 21:42:21 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (13.1ms)
Completed 200 OK in 40ms (Views: 38.5ms | ActiveRecord: 0.2ms)


Started GET "/assets/plane.self-4350be5f268e50b0a139937177d3177991a13a6a35f5d519625531618aa3b6fd.css?body=1" for ::1 at 2017-05-01 21:42:21 +0530


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:42:25 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"0i1ZcdT2472HcrBVkNi0It2hFeoF2qt4SugyA14kuL/Qa87Zu/cp3o8+BMx8HEl6/ksZdjX45d66VS7JueHDKw==", "count"=>"7", "plane_id"=>"1"}
  [1m[36mPlane Load (0.2ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 16:12:25.381136"], ["id", 2]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.4ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 16:12:25.390724"], ["id", 7]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:12:25.395955"], ["id", 4]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:12:25.400853"], ["id", 10]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:12:25.405848"], ["id", 6]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:12:25.410493"], ["id", 13]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 16:12:25.415321"], ["id", 16]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
Completed 200 OK in 2341ms (Views: 0.3ms | ActiveRecord: 12.0ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:42:34 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"0i1ZcdT2472HcrBVkNi0It2hFeoF2qt4SugyA14kuL/Qa87Zu/cp3o8+BMx8HEl6/ksZdjX45d66VS7JueHDKw==", "count"=>"7", "plane_id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:12:34.912709"], ["id", 1]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:12:34.918136"], ["id", 9]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:12:34.923502"], ["id", 3]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:12:34.929447"], ["id", 12]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:12:34.934687"], ["id", 5]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:12:34.940050"], ["id", 15]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:12:34.945475"], ["id", 18]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 1490ms (Views: 0.5ms | ActiveRecord: 10.2ms)
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes"  ORDER BY "planes"."id" ASC LIMIT 1[0m
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes"  ORDER BY "planes"."id" ASC LIMIT 1
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes"  ORDER BY "planes"."id" ASC LIMIT 1
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes"  ORDER BY "planes"."id" ASC LIMIT 1
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes"  ORDER BY "planes"."id" ASC LIMIT 1
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mSQL (1.7ms)[0m  UPDATE "seats" SET "booking_order" = NULL
  [1m[36mSQL (2.0ms)[0m  [1mUPDATE "seats" SET "status" = 0[0m


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:44:38 +0530

SyntaxError (/Users/amitchoudhary/projects/weinvest/weinvest-rails/app/controllers/planes_controller.rb:11: syntax error, unexpected keyword_end
/Users/amitchoudhary/projects/weinvest/weinvest-rails/app/controllers/planes_controller.rb:66: syntax error, unexpected end-of-input, expecting keyword_end):
  app/controllers/planes_controller.rb:11: syntax error, unexpected keyword_end
  app/controllers/planes_controller.rb:66: syntax error, unexpected end-of-input, expecting keyword_end


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.8ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.6ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.8ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (52.2ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:44:52 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"0i1ZcdT2472HcrBVkNi0It2hFeoF2qt4SugyA14kuL/Qa87Zu/cp3o8+BMx8HEl6/ksZdjX45d66VS7JueHDKw==", "count"=>"14", "plane_id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 16:14:52.091424"], ["id", 2]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 16:14:52.097327"], ["id", 7]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:14:52.103859"], ["id", 4]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:14:52.112048"], ["id", 10]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:14:52.118336"], ["id", 6]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:14:52.124848"], ["id", 13]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 16:14:52.129642"], ["id", 16]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:14:52.136121"], ["id", 1]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:14:52.142291"], ["id", 9]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:14:52.148373"], ["id", 3]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:14:52.155631"], ["id", 12]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:14:52.164976"], ["id", 5]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.3ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:14:52.173882"], ["id", 15]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:14:52.180316"], ["id", 18]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 25478ms (Views: 1.0ms | ActiveRecord: 23.5ms)
  [1m[35mSQL (2.0ms)[0m  UPDATE "seats" SET "status" = 0
  [1m[36mSQL (2.1ms)[0m  [1mUPDATE "seats" SET "booking_order" = NULL[0m


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:45:31 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"0i1ZcdT2472HcrBVkNi0It2hFeoF2qt4SugyA14kuL/Qa87Zu/cp3o8+BMx8HEl6/ksZdjX45d66VS7JueHDKw==", "count"=>"14", "plane_id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36mSeat Load (0.5ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 16:15:31.267304"], ["id", 2]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 16:15:31.272654"], ["id", 7]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:15:31.277817"], ["id", 4]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:15:31.283047"], ["id", 10]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:15:31.288095"], ["id", 6]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:15:31.293481"], ["id", 13]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 16:15:31.298560"], ["id", 16]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:15:31.304876"], ["id", 1]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:15:31.316613"], ["id", 9]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:15:31.322708"], ["id", 3]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:15:31.328753"], ["id", 12]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:15:31.336301"], ["id", 5]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:15:31.345003"], ["id", 15]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:15:31.353107"], ["id", 18]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.4ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mSeat Load (1.0ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."lane" ASC, "seats"."booking_order" ASC  [["plane_id", 1], ["status", 1]]
  [1m[36mSeat Load (0.7ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."lane" ASC, "seats"."booking_order" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mSeat Load (0.4ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" "lanes_seats" ON "lanes_seats"."id" = "seats"."lane_id" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY lanes.number, "seats"."booking_order" ASC  [["plane_id", 1], ["status", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mSQL (1.6ms)[0m  UPDATE "seats" SET "booking_order" = NULL
  [1m[36mSQL (2.3ms)[0m  [1mUPDATE "seats" SET "status" = 0[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 158075ms (Views: 0.9ms | ActiveRecord: 27.3ms)
  [1m[35mSQL (2.1ms)[0m  UPDATE "seats" SET "status" = 0
  [1m[36mSQL (1.7ms)[0m  [1mUPDATE "seats" SET "booking_order" = NULL[0m


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:48:19 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"0i1ZcdT2472HcrBVkNi0It2hFeoF2qt4SugyA14kuL/Qa87Zu/cp3o8+BMx8HEl6/ksZdjX45d66VS7JueHDKw==", "count"=>"14", "plane_id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36mSeat Load (0.4ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.4ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 16:18:36.112773"], ["id", 2]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 16:18:42.879802"], ["id", 7]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.3ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:18:57.114684"], ["id", 4]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:18:58.970975"], ["id", 10]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:18:59.533910"], ["id", 6]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:18:59.990559"], ["id", 13]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 16:19:00.373700"], ["id", 16]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:19:00.668614"], ["id", 1]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:19:01.288860"], ["id", 9]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:19:01.760119"], ["id", 3]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:19:02.176436"], ["id", 12]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:19:02.573812"], ["id", 5]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:19:03.009315"], ["id", 15]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:19:03.458833"], ["id", 18]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 67789ms (Views: 0.6ms | ActiveRecord: 24.8ms)


Started GET "/planes/1" for ::1 at 2017-05-01 21:49:26 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.3ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (38.2ms)
Completed 200 OK in 172ms (Views: 155.6ms | ActiveRecord: 1.8ms)


Started GET "/planes/1" for ::1 at 2017-05-01 21:49:29 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.4ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (17.9ms)
Completed 200 OK in 47ms (Views: 44.6ms | ActiveRecord: 0.6ms)


Started GET "/planes/1" for ::1 at 2017-05-01 21:50:04 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.4ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (19.3ms)
Completed 200 OK in 50ms (Views: 47.1ms | ActiveRecord: 0.5ms)


Started GET "/assets/plane.self-60cd8cd145bad694e012948e0263dea28a65ec59cb9ccc7a653bc87f5aeb7058.js?body=1" for ::1 at 2017-05-01 21:50:08 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 21:50:09 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.3ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (6.9ms)
Completed 200 OK in 24ms (Views: 21.0ms | ActiveRecord: 0.4ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:50:14 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"nHkbg7jGjEPk8lip22LTK8kRz9+SUqkOs8BPp8KZ1hueP4wr18dGIOy+7DA3pi5z6vvDQ6Jw56hDfVNtJVytjw==", "count"=>"14", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
Completed 200 OK in 13ms (Views: 0.3ms | ActiveRecord: 0.7ms)
  [1m[35mSQL (2.0ms)[0m  UPDATE "seats" SET "booking_order" = NULL
  [1m[36mSQL (1.8ms)[0m  [1mUPDATE "seats" SET "status" = 0[0m


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:50:49 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"nHkbg7jGjEPk8lip22LTK8kRz9+SUqkOs8BPp8KZ1hueP4wr18dGIOy+7DA3pi5z6vvDQ6Jw56hDfVNtJVytjw==", "count"=>"14", "plane_id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 16:20:54.845604"], ["id", 2]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 16:20:57.794686"], ["id", 7]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:21:00.290652"], ["id", 4]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:21:10.355003"], ["id", 10]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:21:15.996123"], ["id", 6]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.3ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:21:16.592077"], ["id", 13]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 16:21:16.952876"], ["id", 16]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:21:17.452309"], ["id", 1]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:21:17.888318"], ["id", 9]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:21:18.324045"], ["id", 3]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:21:18.742051"], ["id", 12]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:21:19.413046"], ["id", 5]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:21:19.844833"], ["id", 15]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:21:20.424063"], ["id", 18]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC  [["plane_id", 1], ["status", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 89617ms (Views: 0.8ms | ActiveRecord: 24.6ms)
  [1m[35mSQL (1.7ms)[0m  UPDATE "seats" SET "status" = 0
  [1m[36mSQL (1.9ms)[0m  [1mUPDATE "seats" SET "booking_order" = NULL[0m


Started GET "/planes/1" for ::1 at 2017-05-01 21:52:58 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (281.9ms)
Completed 200 OK in 324ms (Views: 314.7ms | ActiveRecord: 0.9ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:53:02 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"AnMYvF5VJ+eXNgH98B4FgiJqUWA0rRpWgY0ryR2IAxAANY8UMVTthJ96tWQc2vjaAYBd/ASPVPBxMDcD+k14hA==", "count"=>"14", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35mSeat Load (0.5ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 16:23:02.815624"], ["id", 2]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 16:23:02.822306"], ["id", 7]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:23:02.827682"], ["id", 4]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:23:02.832609"], ["id", 10]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:23:02.837484"], ["id", 6]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:23:02.843006"], ["id", 13]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 16:23:02.848442"], ["id", 16]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:23:02.860471"], ["id", 1]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:23:02.866888"], ["id", 9]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:23:02.875063"], ["id", 3]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:23:02.880590"], ["id", 12]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:23:02.885980"], ["id", 5]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:23:02.892468"], ["id", 15]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:23:02.898590"], ["id", 18]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
Completed 200 OK in 116ms (Views: 0.5ms | ActiveRecord: 23.6ms)


Started GET "/planes/1" for ::1 at 2017-05-01 21:54:18 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (6.5ms)
Completed 200 OK in 28ms (Views: 26.8ms | ActiveRecord: 0.2ms)
  [1m[35mSQL (2.5ms)[0m  UPDATE "seats" SET "booking_order" = NULL
  [1m[36mSQL (2.0ms)[0m  [1mUPDATE "seats" SET "status" = 0[0m


Started GET "/planes/1" for ::1 at 2017-05-01 21:54:29 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.3ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (14.5ms)
Completed 200 OK in 33ms (Views: 31.5ms | ActiveRecord: 0.4ms)


Started GET "/planes/1/edit" for ::1 at 2017-05-01 21:54:30 +0530
Processing by PlanesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/_form.html.erb (54.9ms)
  Rendered planes/edit.html.erb within layouts/application (60.3ms)
Completed 200 OK in 86ms (Views: 84.0ms | ActiveRecord: 0.2ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:54:34 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"+X5iT6hTLDRNd/iL1C/E5mokunCxvxgb/MKYctJ4Nnj7OPXnx1LmV0U7TBI46zm+Sc627IGdVr0Mf4S4Nb1N7A==", "count"=>"10", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35mSeat Load (0.9ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 16:24:34.752542"], ["id", 2]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 16:24:34.761689"], ["id", 7]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:24:34.767525"], ["id", 4]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:24:34.772732"], ["id", 10]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:24:34.778178"], ["id", 6]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:24:34.783965"], ["id", 13]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 16:24:34.789285"], ["id", 16]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:24:34.796962"], ["id", 1]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:24:34.804988"], ["id", 9]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:24:34.814733"], ["id", 3]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
Completed 200 OK in 82ms (Views: 0.5ms | ActiveRecord: 17.6ms)


Started GET "/planes/1" for ::1 at 2017-05-01 21:54:41 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (10.7ms)
Completed 200 OK in 33ms (Views: 31.8ms | ActiveRecord: 0.2ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:54:49 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"jNKiV73korPhV6K5y53cvZtmJGXzUF2z+N77JVtH9OKOlDX/0uVo0OkbFiAnWSHluIwo+cNyExUIY+fvvIKPdg==", "count"=>"8", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:24:49.908310"], ["id", 12]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:24:49.917711"], ["id", 5]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:24:49.926253"], ["id", 15]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.4ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:24:49.938439"], ["id", 18]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 7], ["status", 1], ["updated_at", "2017-05-01 16:24:49.947874"], ["id", 8]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 7], ["status", 1], ["updated_at", "2017-05-01 16:24:49.958291"], ["id", 11]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 7], ["status", 1], ["updated_at", "2017-05-01 16:24:49.966695"], ["id", 14]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 7], ["status", 1], ["updated_at", "2017-05-01 16:24:49.976332"], ["id", 17]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC  [["plane_id", 1], ["status", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
Completed 200 OK in 96ms (Views: 1.2ms | ActiveRecord: 15.1ms)
  [1m[35mSQL (2.1ms)[0m  UPDATE "seats" SET "status" = 0
  [1m[36mSQL (2.1ms)[0m  [1mUPDATE "seats" SET "booking_order" = NULL[0m


Started GET "/planes/1" for ::1 at 2017-05-01 21:55:02 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (13.8ms)
Completed 200 OK in 37ms (Views: 34.9ms | ActiveRecord: 0.3ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:55:09 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Den/+PeBmb56CfH8RUR9mTHyaPeSYo6TnLa17EvRhVUPr2hQmIBT3XJFRWWpgIDBEhhka6JAwDVsC6kmrBT+wQ==", "count"=>"9", "plane_id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 16:25:09.967928"], ["id", 2]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 16:25:09.975175"], ["id", 7]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:25:09.981355"], ["id", 4]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:25:09.987509"], ["id", 10]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:25:09.993780"], ["id", 6]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:25:10.000587"], ["id", 13]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 16:25:10.007170"], ["id", 16]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:25:10.014878"], ["id", 1]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:25:10.024934"], ["id", 9]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
Completed 200 OK in 71ms (Views: 0.4ms | ActiveRecord: 13.9ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:55:21 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Den/+PeBmb56CfH8RUR9mTHyaPeSYo6TnLa17EvRhVUPr2hQmIBT3XJFRWWpgIDBEhhka6JAwDVsC6kmrBT+wQ==", "count"=>"2", "plane_id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:25:21.540986"], ["id", 3]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:25:21.548816"], ["id", 12]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
Completed 200 OK in 32ms (Views: 4.9ms | ActiveRecord: 5.0ms)


Started GET "/planes/1" for ::1 at 2017-05-01 21:55:45 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (7.3ms)
Completed 200 OK in 23ms (Views: 21.3ms | ActiveRecord: 0.2ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:55:50 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"gyLIs5IqHuyTXG3ga9lg2UZgnyh2zbekA2Km1AKDuEiBZF8b/SvUj5sQ2XmHHZ2BZYqTtEbv+QLz37oe5UbD3A==", "count"=>"2", "plane_id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.5ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:25:50.165284"], ["id", 5]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:25:50.172812"], ["id", 15]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
Completed 200 OK in 29ms (Views: 0.5ms | ActiveRecord: 5.5ms)
  [1m[35mSeat Load (0.3ms)[0m  SELECT "seats".* FROM "seats"
  [1m[36m (0.1ms)[0m  [1mSELECT "seats"."row", "seats"."column" FROM "seats"[0m
  [1m[35mSQL (1.7ms)[0m  UPDATE "seats" SET "status" = 0
  [1m[36mSQL (2.1ms)[0m  [1mUPDATE "seats" SET "booking_order" = NULL[0m


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:58:01 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"gyLIs5IqHuyTXG3ga9lg2UZgnyh2zbekA2Km1AKDuEiBZF8b/SvUj5sQ2XmHHZ2BZYqTtEbv+QLz37oe5UbD3A==", "count"=>"10", "plane_id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 16:28:01.539670"], ["id", 2]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 16:28:01.544987"], ["id", 7]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:28:01.551074"], ["id", 4]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:28:01.556276"], ["id", 10]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:28:01.561536"], ["id", 6]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:28:01.567610"], ["id", 13]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 16:28:01.572764"], ["id", 16]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:28:01.578568"], ["id", 1]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:28:01.585214"], ["id", 9]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:28:01.596166"], ["id", 3]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC  [["plane_id", 1], ["status", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
Completed 200 OK in 72ms (Views: 0.4ms | ActiveRecord: 14.7ms)
  [1m[35mSQL (1.8ms)[0m  UPDATE "seats" SET "booking_order" = NULL
  [1m[36mSQL (2.2ms)[0m  [1mUPDATE "seats" SET "status" = 0[0m


Started GET "/planes/1" for ::1 at 2017-05-01 21:58:16 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.5ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.3ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (22.6ms)
Completed 200 OK in 58ms (Views: 43.0ms | ActiveRecord: 2.3ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:58:21 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"QnOILDmWJhGpYkkHjSVhAN/UuRLhS2ly1U2q9LMkVkNANR+EVpfscqEu/Z5h4ZxY/D61jtFpJ9Ql8LY+VOEt1w==", "count"=>"10", "plane_id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.4ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 16:28:21.265780"], ["id", 2]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 16:28:21.272228"], ["id", 7]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:28:21.279727"], ["id", 4]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:28:21.285814"], ["id", 10]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:28:21.291744"], ["id", 6]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:28:21.297607"], ["id", 13]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 16:28:21.304761"], ["id", 16]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:28:21.314586"], ["id", 1]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:28:21.320620"], ["id", 9]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:28:21.326677"], ["id", 3]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC  [["plane_id", 1], ["status", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[35mSQL (2.0ms)[0m  UPDATE "seats" SET "status" = 0
  [1m[36mSQL (1.8ms)[0m  [1mUPDATE "seats" SET "booking_order" = NULL[0m
Completed 200 OK in 47996ms (Views: 0.6ms | ActiveRecord: 17.7ms)
  [1m[35mSQL (2.1ms)[0m  UPDATE "seats" SET "booking_order" = NULL
  [1m[36mSQL (1.7ms)[0m  [1mUPDATE "seats" SET "status" = 0[0m
  [1m[35mSQL (2.0ms)[0m  UPDATE "seats" SET "status" = 0
  [1m[36mSQL (2.0ms)[0m  [1mUPDATE "seats" SET "booking_order" = NULL[0m


Started GET "/planes/1" for ::1 at 2017-05-01 21:59:22 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.4ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.3ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (37.2ms)
Completed 200 OK in 90ms (Views: 78.7ms | ActiveRecord: 2.0ms)


Started GET "/planes/1" for ::1 at 2017-05-01 21:59:29 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (8.3ms)
Completed 200 OK in 24ms (Views: 22.4ms | ActiveRecord: 0.2ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 21:59:33 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"tTWT1uj7XSbTKpBhE17KgZ2gMo/mwJhXr4qGWZerk463cwR+h/qXRdtmJPj/mjfZvko+E9bi1vFfN5qTcG7oGg==", "count"=>"10", "plane_id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 16:29:44.372927"], ["id", 2]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 16:29:45.557724"], ["id", 7]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:29:46.068343"], ["id", 4]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:29:46.525337"], ["id", 10]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:29:46.977373"], ["id", 6]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:29:47.473737"], ["id", 13]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 16:30:07.771114"], ["id", 16]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:30:23.663730"], ["id", 1]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:30:47.624067"], ["id", 9]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:30:52.054831"], ["id", 3]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.3ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC  [["plane_id", 1], ["status", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 1]]
Completed 200 OK in 156654ms (Views: 0.5ms | ActiveRecord: 17.2ms)
  [1m[35mSQL (1.8ms)[0m  UPDATE "seats" SET "booking_order" = NULL
  [1m[36mSQL (2.1ms)[0m  [1mUPDATE "seats" SET "status" = 0[0m


Started GET "/planes/1" for ::1 at 2017-05-01 22:02:15 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.3ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (18.1ms)
Completed 200 OK in 53ms (Views: 38.6ms | ActiveRecord: 1.5ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 22:02:20 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qmw0j2NY+H4a0Vyt2GJ5GntTix9kK/raR6KLBLYJvXyoKqMnDFkyHRKd6DQ0poRCWLmHg1QJtHy3H5fOUczG6A==", "count"=>"10", "plane_id"=>"1"}
  [1m[36mPlane Load (0.2ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 16:32:31.930258"], ["id", 2]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 16:32:33.428174"], ["id", 7]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:32:34.573728"], ["id", 4]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:32:35.688731"], ["id", 10]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:32:37.707006"], ["id", 6]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:32:38.893956"], ["id", 13]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 16:32:39.953145"], ["id", 16]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:32:40.976259"], ["id", 1]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:32:41.997136"], ["id", 9]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:32:43.193582"], ["id", 3]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.3ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC  [["plane_id", 1], ["status", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
Completed 200 OK in 39040ms (Views: 0.7ms | ActiveRecord: 16.9ms)
  [1m[35mSQL (1.7ms)[0m  UPDATE "seats" SET "status" = 0
  [1m[36mSQL (1.9ms)[0m  [1mUPDATE "seats" SET "booking_order" = NULL[0m


Started GET "/planes/1" for ::1 at 2017-05-01 22:03:07 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.3ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (14.3ms)
Completed 200 OK in 48ms (Views: 45.0ms | ActiveRecord: 0.5ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 22:03:11 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/fahsvZSBHJublSn+e9eUtPAYxC6czmozUsk0uivC8v/sDYamVPOEWYi4D4VK6MK8CpvjIpRdw499jgYD2pwXw==", "count"=>"10", "plane_id"=>"1"}
  [1m[36mPlane Load (0.2ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 16:33:26.296377"], ["id", 2]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 16:33:33.068874"], ["id", 7]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:33:35.632331"], ["id", 4]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 1]]
  [1m[36mPlane Load (0.2ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 1]]
  [1m[35mSQL (1.7ms)[0m  UPDATE "seats" SET "booking_order" = NULL
  [1m[36mSQL (2.3ms)[0m  [1mUPDATE "seats" SET "status" = 0[0m
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 16:34:02.782241"], ["id", 10]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
Completed 500 Internal Server Error in 53247ms (ActiveRecord: 7.2ms)

SystemExit (exit):
  app/models/plane.rb:70:in `book_ticket'
  app/models/plane.rb:56:in `block in book_tickets'
  app/models/plane.rb:56:in `times'
  app/models/plane.rb:56:in `book_tickets'
  app/controllers/planes_controller.rb:40:in `book_tickets'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (135.7ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (2.2ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (3.9ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (202.6ms)
  [1m[35mSQL (1.6ms)[0m  UPDATE "seats" SET "status" = 0
  [1m[36mSQL (2.1ms)[0m  [1mUPDATE "seats" SET "booking_order" = NULL[0m


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 22:04:16 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/fahsvZSBHJublSn+e9eUtPAYxC6czmozUsk0uivC8v/sDYamVPOEWYi4D4VK6MK8CpvjIpRdw499jgYD2pwXw==", "count"=>"10", "plane_id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 16:34:16.887755"], ["id", 2]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 16:34:16.894645"], ["id", 7]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:34:16.900892"], ["id", 4]]
  [1m[36m (3.5ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:34:16.910078"], ["id", 10]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:34:16.917083"], ["id", 6]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:34:16.922006"], ["id", 13]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 16:34:16.926957"], ["id", 16]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:34:16.933024"], ["id", 1]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:34:16.938640"], ["id", 9]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:34:16.943909"], ["id", 3]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
Completed 200 OK in 50618ms (Views: 0.9ms | ActiveRecord: 20.5ms)
  [1m[35mSQL (2.1ms)[0m  UPDATE "seats" SET "booking_order" = NULL
  [1m[36mSQL (2.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = NULL[0m
  [1m[35mSQL (2.1ms)[0m  UPDATE "seats" SET "status" = 0


Started GET "/planes/1" for ::1 at 2017-05-01 22:05:36 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (245.0ms)
Completed 200 OK in 301ms (Views: 290.4ms | ActiveRecord: 1.3ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 22:05:40 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"mS3sS/4mIYElPxKbmxLN2lN/kHhNaOsh6P4t23tY5x6ba3vjkSfr4i1zpgJ31jCCcJWc5H1KpYcYQzERnJ2cig==", "count"=>"10", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.6ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 16:35:50.288128"], ["id", 2]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 16:35:51.353712"], ["id", 7]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.9ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:35:52.272238"], ["id", 4]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 1]]
  [1m[36mSQL (1.8ms)[0m  [1mUPDATE "seats" SET "status" = 0[0m
  [1m[35mSQL (2.0ms)[0m  UPDATE "seats" SET "booking_order" = NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."id" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:36:50.253502"], ["id", 10]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
Completed 500 Internal Server Error in 71891ms (ActiveRecord: 9.0ms)

SystemExit (exit):
  app/models/plane.rb:70:in `book_ticket'
  app/models/plane.rb:56:in `block in book_tickets'
  app/models/plane.rb:56:in `times'
  app/models/plane.rb:56:in `book_tickets'
  app/controllers/planes_controller.rb:40:in `book_tickets'


  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_source.erb (81.4ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (2.1ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (3.6ms)
  Rendered /Users/amitchoudhary/.rvm/gems/ruby-2.3.0/gems/actionpack-4.2.8/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (151.6ms)
  [1m[36mSQL (1.5ms)[0m  [1mUPDATE "seats" SET "booking_order" = NULL[0m
  [1m[35mSQL (1.9ms)[0m  UPDATE "seats" SET "status" = 0


Started GET "/planes/1" for ::1 at 2017-05-01 22:07:04 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.3ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (229.6ms)
Completed 200 OK in 293ms (Views: 267.8ms | ActiveRecord: 1.3ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 22:07:07 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"xsoANLGM72rwyDlHu8rONuFVNhgrbfL7PEYM2ULUi43EjJec3o0lCfiEjd5XDjNuwr86hBtPvF3M+xATpRHwGQ==", "count"=>"10", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 16:37:07.697222"], ["id", 2]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 16:37:07.704814"], ["id", 7]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:37:07.710072"], ["id", 4]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:37:07.715425"], ["id", 10]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 16:37:07.721472"], ["id", 6]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:37:07.728982"], ["id", 13]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 7], ["status", 1], ["updated_at", "2017-05-01 16:37:07.739146"], ["id", 16]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 8], ["status", 1], ["updated_at", "2017-05-01 16:37:07.746762"], ["id", 1]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 9], ["status", 1], ["updated_at", "2017-05-01 16:37:07.755488"], ["id", 9]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 10], ["status", 1], ["updated_at", "2017-05-01 16:37:07.764854"], ["id", 3]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 7748ms (Views: 0.7ms | ActiveRecord: 18.2ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 22:07:26 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"xsoANLGM72rwyDlHu8rONuFVNhgrbfL7PEYM2ULUi43EjJec3o0lCfiEjd5XDjNuwr86hBtPvF3M+xATpRHwGQ==", "count"=>"10", "plane_id"=>"1"}
  [1m[35mPlane Load (0.4ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[36mSQL (1.8ms)[0m  [1mUPDATE "seats" SET "status" = 0[0m
  [1m[35mSQL (2.0ms)[0m  UPDATE "seats" SET "booking_order" = NULL


Started GET "/planes/1" for ::1 at 2017-05-01 22:07:48 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (31.0ms)
Completed 200 OK in 50ms (Views: 48.8ms | ActiveRecord: 0.3ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 22:07:52 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ZtKvvX2FcEuImGX+73kcRZCAE0lBHIbIDErFjvtNyClklDgVEoS6KIDU0WcDveEds2of1XE+yG7899lEHIizvQ==", "count"=>"14", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 16:37:52.939769"], ["id", 2]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 16:37:52.946194"], ["id", 7]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:37:52.952076"], ["id", 4]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:37:52.957206"], ["id", 10]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 16:37:52.962255"], ["id", 6]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:37:52.967354"], ["id", 13]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 7], ["status", 1], ["updated_at", "2017-05-01 16:37:52.972249"], ["id", 16]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 8], ["status", 1], ["updated_at", "2017-05-01 16:37:52.978419"], ["id", 1]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 9], ["status", 1], ["updated_at", "2017-05-01 16:37:52.984594"], ["id", 9]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 10], ["status", 1], ["updated_at", "2017-05-01 16:37:52.996473"], ["id", 3]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 11], ["status", 1], ["updated_at", "2017-05-01 16:37:53.005110"], ["id", 12]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 12], ["status", 1], ["updated_at", "2017-05-01 16:37:53.011200"], ["id", 5]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 13], ["status", 1], ["updated_at", "2017-05-01 16:37:53.016960"], ["id", 15]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 14], ["status", 1], ["updated_at", "2017-05-01 16:37:53.022885"], ["id", 18]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
Completed 200 OK in 4407ms (Views: 0.6ms | ActiveRecord: 21.5ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 22:08:06 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ZtKvvX2FcEuImGX+73kcRZCAE0lBHIbIDErFjvtNyClklDgVEoS6KIDU0WcDveEds2of1XE+yG7899lEHIizvQ==", "count"=>"2", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 15], ["status", 1], ["updated_at", "2017-05-01 16:38:06.375940"], ["id", 8]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 16], ["status", 1], ["updated_at", "2017-05-01 16:38:06.383365"], ["id", 11]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC  [["plane_id", 1], ["status", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
Completed 200 OK in 951ms (Views: 1.2ms | ActiveRecord: 4.6ms)
  [1m[36mSQL (1.9ms)[0m  [1mUPDATE "seats" SET "booking_order" = NULL[0m
  [1m[35mSQL (2.0ms)[0m  UPDATE "seats" SET "status" = 0


Started GET "/planes/1" for ::1 at 2017-05-01 22:08:13 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.2ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (6.7ms)
Completed 200 OK in 25ms (Views: 22.4ms | ActiveRecord: 0.3ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 22:08:20 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"76k0GgKhPmuGdW0D0ZIabMWXia3+0ZvraAnBV7pMBiTt76OybaD0CI452Zo9Vuc05n2FMc7z1U2YtN2dXYl9sA==", "count"=>"5", "plane_id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36mSeat Load (0.4ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.4ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 16:38:20.692155"], ["id", 2]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 16:38:20.698517"], ["id", 7]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:38:20.704547"], ["id", 4]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:38:20.709636"], ["id", 10]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 16:38:20.714289"], ["id", 6]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 761ms (Views: 0.3ms | ActiveRecord: 8.7ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 22:08:26 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"76k0GgKhPmuGdW0D0ZIabMWXia3+0ZvraAnBV7pMBiTt76OybaD0CI452Zo9Vuc05n2FMc7z1U2YtN2dXYl9sA==", "count"=>"7", "plane_id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:38:26.985784"], ["id", 13]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 7], ["status", 1], ["updated_at", "2017-05-01 16:38:26.994290"], ["id", 16]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 8], ["status", 1], ["updated_at", "2017-05-01 16:38:27.000947"], ["id", 1]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 9], ["status", 1], ["updated_at", "2017-05-01 16:38:27.007420"], ["id", 9]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 10], ["status", 1], ["updated_at", "2017-05-01 16:38:27.013280"], ["id", 3]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 11], ["status", 1], ["updated_at", "2017-05-01 16:38:27.019036"], ["id", 12]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 12], ["status", 1], ["updated_at", "2017-05-01 16:38:27.025796"], ["id", 5]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC  [["plane_id", 1], ["status", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 907ms (Views: 0.6ms | ActiveRecord: 11.6ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 22:08:43 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"76k0GgKhPmuGdW0D0ZIabMWXia3+0ZvraAnBV7pMBiTt76OybaD0CI452Zo9Vuc05n2FMc7z1U2YtN2dXYl9sA==", "count"=>"10", "plane_id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 22:08:54 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"76k0GgKhPmuGdW0D0ZIabMWXia3+0ZvraAnBV7pMBiTt76OybaD0CI452Zo9Vuc05n2FMc7z1U2YtN2dXYl9sA==", "count"=>"5", "plane_id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 13], ["status", 1], ["updated_at", "2017-05-01 16:38:54.592177"], ["id", 15]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 14], ["status", 1], ["updated_at", "2017-05-01 16:38:54.599159"], ["id", 18]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 15], ["status", 1], ["updated_at", "2017-05-01 16:38:54.605460"], ["id", 8]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 16], ["status", 1], ["updated_at", "2017-05-01 16:38:54.611141"], ["id", 11]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 17], ["status", 1], ["updated_at", "2017-05-01 16:38:54.617294"], ["id", 14]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
Completed 200 OK in 3179ms (Views: 1.3ms | ActiveRecord: 9.0ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 22:09:09 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"76k0GgKhPmuGdW0D0ZIabMWXia3+0ZvraAnBV7pMBiTt76OybaD0CI452Zo9Vuc05n2FMc7z1U2YtN2dXYl9sA==", "count"=>"1", "plane_id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.4ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.5ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 18], ["status", 1], ["updated_at", "2017-05-01 16:39:09.941687"], ["id", 17]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
Completed 200 OK in 911ms (Views: 1.1ms | ActiveRecord: 4.6ms)


Started GET "/planes/1" for ::1 at 2017-05-01 22:09:30 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (12.7ms)
Completed 200 OK in 82ms (Views: 80.7ms | ActiveRecord: 0.2ms)


Started GET "/assets/plane.self-a9ec5dce43db0f59c9215b58743864af3a664e86dc3cbe1a5c4b5abf808afde2.js?body=1" for ::1 at 2017-05-01 22:09:30 +0530


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 22:09:33 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"y9qiki+V2AJEyEbpRRnKFryt6c1heKUYERut2/GwTkPJnDU6QJQSYUyE8nCp3TdOn0flUVFa677hprERFnU11w==", "count"=>"11", "plane_id"=>"1"}
  [1m[35mPlane Load (0.3ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms)


Started GET "/planes/1" for ::1 at 2017-05-01 22:10:05 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (17.1ms)
Completed 200 OK in 40ms (Views: 32.4ms | ActiveRecord: 0.9ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 22:10:09 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"emv0Tvm75L1hRaUtl2jv4dAK3dpOCK5hK5uB6nVQr3p4LWPmlrou3mkJEbR7rBK58+DRRn4q4MfbJp0gkpXU7g==", "count"=>"10", "plane_id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
Completed 422 Unprocessable Entity in 6ms (Views: 0.2ms | ActiveRecord: 0.5ms)


Started GET "/planes/1" for ::1 at 2017-05-01 22:10:23 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (19.1ms)
Completed 200 OK in 103ms (Views: 100.5ms | ActiveRecord: 0.3ms)


Started GET "/assets/plane.self-4caecce7be405536e825a2c86c06ddb6a4739aaaae3c731fab1549982bb68ab5.js?body=1" for ::1 at 2017-05-01 22:10:23 +0530


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 22:10:27 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"k54GRs8w1yBoFrc100O82aWotIZ8OYbF3gnsjl81TX+R2JHuoDEdQ2BaA6w/h0GBhkK4GkwbyGMutPBEuPA26w==", "count"=>"10", "plane_id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
Completed 422 Unprocessable Entity in 4ms (Views: 0.3ms | ActiveRecord: 0.4ms)


Started GET "/planes/1" for ::1 at 2017-05-01 22:10:37 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (15.4ms)
Completed 200 OK in 112ms (Views: 110.6ms | ActiveRecord: 0.3ms)


Started GET "/assets/plane.self-cdad29947e32b19d9b63b558a0ffacf07c9801e8acf962a90083041f2148e4bf.js?body=1" for ::1 at 2017-05-01 22:10:39 +0530


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 22:10:42 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"JVIkqExpq2YAR1mYOudgV/enHCGSSuQIfYfc2Su4EXcnFLMAI2hhBQgL7QHWI50P1E0QvaJoqq6NOsATzH1q4w==", "count"=>"10", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/planes/1" for ::1 at 2017-05-01 22:12:34 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (16.2ms)
Completed 200 OK in 110ms (Views: 107.8ms | ActiveRecord: 0.3ms)


Started GET "/assets/plane.self-e4dc21268de4d9df1fd2d0a8b4562e781cd01f620c55fef0692e0c76364f203f.js?body=1" for ::1 at 2017-05-01 22:12:35 +0530


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 22:12:38 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"o9EqDdfgOKYqxDj1LwRdJTbOApzRGq2GPe9GIl6Spx2hl72luOHyxSKIjGzDwKB9FSQOAOE44yDNUlrouVfciQ==", "count"=>"11", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/planes/1" for ::1 at 2017-05-01 22:13:09 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.4ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (30.1ms)
Completed 200 OK in 66ms (Views: 53.9ms | ActiveRecord: 2.0ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 22:13:13 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"jnyKa8ldNAMP30glE3mKX5h+Shn1y0NtOjIF0p1reiiMOh3Dplz+YAeT/Lz/vXcHu5RGhcXpDcvKjxkYeq4BvA==", "count"=>"11", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
Completed 422 Unprocessable Entity in 6ms (Views: 0.2ms | ActiveRecord: 0.4ms)


Started GET "/planes/1" for ::1 at 2017-05-01 22:15:12 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (14.2ms)
Completed 200 OK in 43ms (Views: 41.1ms | ActiveRecord: 0.3ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 22:15:16 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"rH3eupvp60Ch9jQnqWQJQVSDazfLVEDRyT7E4iMMqA2uO0kS9OghI6m6gL5FoPQZd2lnq/t2Dnc5g9goxMnTmQ==", "count"=>"11", "plane_id"=>"1"}
  [1m[35mPlane Load (0.3ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
Completed 422 Unprocessable Entity in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms)


Started GET "/planes/1" for ::1 at 2017-05-01 22:16:54 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (24.4ms)
Completed 200 OK in 131ms (Views: 129.3ms | ActiveRecord: 0.4ms)


Started GET "/assets/plane.self-4e7d5c98a7e12daf40b527bd97a1f5b84d4712ce2d705db997ca50ec048488d0.js?body=1" for ::1 at 2017-05-01 22:16:54 +0530


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 22:16:57 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"sAFeG4569tlXac+xos1/iJ4Ytw++tEHipseYcEw7B6yyR8mz4Xs8ul8leyhOCYLQvfK7k46WD0RWeoS6q/58OA==", "count"=>"11", "plane_id"=>"1"}
  [1m[35mPlane Load (0.3ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
Completed 422 Unprocessable Entity in 6ms (Views: 0.4ms | ActiveRecord: 0.5ms)


Started GET "/planes/1" for ::1 at 2017-05-01 22:19:04 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mLane Load (0.2ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (15.4ms)
Completed 200 OK in 113ms (Views: 81.8ms | ActiveRecord: 1.9ms)


Started GET "/assets/plane.self-0f4a5e13df8d57779297f4a08ddd415a81f3b74a0f7e4842db4a061cd6cc2a87.js?body=1" for ::1 at 2017-05-01 22:19:04 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 22:19:28 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.2ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC  [["plane_id", 1], ["status", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (19.7ms)
Completed 200 OK in 118ms (Views: 95.0ms | ActiveRecord: 1.3ms)


Started GET "/assets/plane.self-d474521d382356e9ac92e49832394acd70aa93891cba335a3e74b5519176595c.js?body=1" for ::1 at 2017-05-01 22:19:29 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 22:19:51 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mLane Load (0.3ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (17.6ms)
Completed 200 OK in 74ms (Views: 35.6ms | ActiveRecord: 1.9ms)


Started GET "/planes/1" for ::1 at 2017-05-01 22:20:03 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.2ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC  [["plane_id", 1], ["status", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (9.2ms)
Completed 200 OK in 85ms (Views: 30.8ms | ActiveRecord: 2.8ms)


Started GET "/planes/1" for ::1 at 2017-05-01 22:20:16 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mLane Load (0.1ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (14.1ms)
Completed 200 OK in 127ms (Views: 102.2ms | ActiveRecord: 1.2ms)


Started GET "/assets/plane.self-a9924fc2e82d3d3ea7ec01792443061c456d5973e31e45b5e4af0a32b6a16538.js?body=1" for ::1 at 2017-05-01 22:20:16 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 22:20:23 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC  [["plane_id", 1], ["status", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (14.9ms)
Completed 200 OK in 105ms (Views: 88.6ms | ActiveRecord: 1.1ms)


Started GET "/assets/plane.self-e3769b06ad6f0ddd21213406166d46a45c5adfc721471ba63d00398ac5b04a51.js?body=1" for ::1 at 2017-05-01 22:20:23 +0530


Started GET "/planes/1" for ::1 at 2017-05-01 22:20:26 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mLane Load (0.4ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mLane Load (0.1ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (6.1ms)
Completed 200 OK in 40ms (Views: 19.3ms | ActiveRecord: 1.5ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 22:20:29 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Ign5ShqTYvtfCYFT73ovQOURRUx/gXv88UmR+VSHBZEgT27idZKomFdFNcoDvtIYxvtJ0E+jNVoB9I0zs0J+BQ==", "count"=>"11", "plane_id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
Completed 422 Unprocessable Entity in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 22:20:34 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Ign5ShqTYvtfCYFT73ovQOURRUx/gXv88UmR+VSHBZEgT27idZKomFdFNcoDvtIYxvtJ0E+jNVoB9I0zs0J+BQ==", "count"=>"10", "plane_id"=>"1"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 1], ["status", 0]]
Completed 422 Unprocessable Entity in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[36mSQL (2.1ms)[0m  [1mUPDATE "seats" SET "status" = 0[0m
  [1m[35mSQL (2.1ms)[0m  UPDATE "seats" SET "booking_order" = NULL


Started GET "/planes/1" for ::1 at 2017-05-01 22:20:39 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPlane Load (0.3ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSeat Load (0.4ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC  [["plane_id", 1], ["status", 1]]
  [1m[36mLane Load (0.4ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 1]]
  Rendered planes/show.html.erb within layouts/application (14.1ms)
Completed 200 OK in 42ms (Views: 35.6ms | ActiveRecord: 1.0ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 22:20:43 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"jhOsqE8fxIsSsdSUwdaJouGy3nfjSOrKFF096vGsy+WMVTsAIB4O6Br9YA0tEnT6wljS69NqpGzk4CEgFmmwcQ==", "count"=>"20", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
Completed 422 Unprocessable Entity in 4ms (Views: 0.4ms | ActiveRecord: 0.4ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 22:20:47 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"jhOsqE8fxIsSsdSUwdaJouGy3nfjSOrKFF096vGsy+WMVTsAIB4O6Br9YA0tEnT6wljS69NqpGzk4CEgFmmwcQ==", "count"=>"20", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 22:20:52 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"jhOsqE8fxIsSsdSUwdaJouGy3nfjSOrKFF096vGsy+WMVTsAIB4O6Br9YA0tEnT6wljS69NqpGzk4CEgFmmwcQ==", "count"=>"10", "plane_id"=>"1"}
  [1m[35mPlane Load (0.3ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 16:50:52.554129"], ["id", 2]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 16:50:52.560683"], ["id", 7]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:50:52.566941"], ["id", 4]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:50:52.572870"], ["id", 10]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 16:50:52.579253"], ["id", 6]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:50:52.584889"], ["id", 13]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 7], ["status", 1], ["updated_at", "2017-05-01 16:50:52.590467"], ["id", 16]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 8], ["status", 1], ["updated_at", "2017-05-01 16:50:52.599252"], ["id", 1]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 9], ["status", 1], ["updated_at", "2017-05-01 16:50:52.608763"], ["id", 9]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 10], ["status", 1], ["updated_at", "2017-05-01 16:50:52.615642"], ["id", 3]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC[0m  [["plane_id", 1], ["status", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 3996ms (Views: 0.7ms | ActiveRecord: 16.9ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 22:21:13 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"jhOsqE8fxIsSsdSUwdaJouGy3nfjSOrKFF096vGsy+WMVTsAIB4O6Br9YA0tEnT6wljS69NqpGzk4CEgFmmwcQ==", "count"=>"10", "plane_id"=>"1"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
Completed 422 Unprocessable Entity in 16ms (Views: 0.2ms | ActiveRecord: 1.2ms)


Started POST "/planes/1/book_tickets" for ::1 at 2017-05-01 22:21:22 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"jhOsqE8fxIsSsdSUwdaJouGy3nfjSOrKFF096vGsy+WMVTsAIB4O6Br9YA0tEnT6wljS69NqpGzk4CEgFmmwcQ==", "count"=>"8", "plane_id"=>"1"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 1], ["status", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 11], ["status", 1], ["updated_at", "2017-05-01 16:51:22.077334"], ["id", 12]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 12], ["status", 1], ["updated_at", "2017-05-01 16:51:22.085699"], ["id", 5]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 13], ["status", 1], ["updated_at", "2017-05-01 16:51:22.092078"], ["id", 15]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 14], ["status", 1], ["updated_at", "2017-05-01 16:51:22.097602"], ["id", 18]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 15], ["status", 1], ["updated_at", "2017-05-01 16:51:22.105212"], ["id", 8]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 16], ["status", 1], ["updated_at", "2017-05-01 16:51:22.111695"], ["id", 11]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.3ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 17], ["status", 1], ["updated_at", "2017-05-01 16:51:22.124548"], ["id", 14]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 1], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 1], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 1], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 18], ["status", 1], ["updated_at", "2017-05-01 16:51:22.130562"], ["id", 17]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC  [["plane_id", 1], ["status", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 2]]
Completed 200 OK in 85ms (Views: 0.6ms | ActiveRecord: 15.0ms)


Started GET "/" for ::1 at 2017-05-01 22:21:39 +0530
Processing by HomeController#index as HTML
  Rendered home/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 33ms (Views: 30.5ms | ActiveRecord: 0.0ms)


Started GET "/planes/new" for ::1 at 2017-05-01 22:21:41 +0530
Processing by PlanesController#new as HTML
  Rendered planes/_form.html.erb (20.8ms)
  Rendered planes/new.html.erb within layouts/application (28.3ms)
Completed 200 OK in 54ms (Views: 52.4ms | ActiveRecord: 0.0ms)


Started POST "/planes" for ::1 at 2017-05-01 22:21:49 +0530
Processing by PlanesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"rwviJod3oScag472CXnRyCRwttJ+LiJ9bCBRLDHVvretTXWO6HZrRBLPOm/lvSyQB5q6Tk4MbNucnU3m1hDFIw==", "plane"=>{"name"=>"indigo", "lanes_attributes"=>{"1493657504439"=>{"row"=>"2", "column"=>"10", "_destroy"=>"false"}, "1493657507044"=>{"row"=>"10", "column"=>"2", "_destroy"=>"false"}}}, "commit"=>"Create Plane"}
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "planes" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "indigo"], ["created_at", "2017-05-01 16:51:49.748101"], ["updated_at", "2017-05-01 16:51:49.748101"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["row", 2], ["column", 10], ["plane_id", 2], ["created_at", "2017-05-01 16:51:53.999125"], ["updated_at", "2017-05-01 16:51:53.999125"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 1], ["row", 1], ["column", 1], ["lane_id", 3], ["created_at", "2017-05-01 16:51:54.000372"], ["updated_at", "2017-05-01 16:51:54.000372"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 2], ["row", 1], ["column", 2], ["lane_id", 3], ["created_at", "2017-05-01 16:51:54.001906"], ["updated_at", "2017-05-01 16:51:54.001906"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 3], ["row", 1], ["column", 3], ["lane_id", 3], ["created_at", "2017-05-01 16:51:54.003110"], ["updated_at", "2017-05-01 16:51:54.003110"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 4], ["row", 1], ["column", 4], ["lane_id", 3], ["created_at", "2017-05-01 16:51:54.004258"], ["updated_at", "2017-05-01 16:51:54.004258"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 5], ["row", 1], ["column", 5], ["lane_id", 3], ["created_at", "2017-05-01 16:51:54.005298"], ["updated_at", "2017-05-01 16:51:54.005298"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 6], ["row", 1], ["column", 6], ["lane_id", 3], ["created_at", "2017-05-01 16:51:54.006660"], ["updated_at", "2017-05-01 16:51:54.006660"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 7], ["row", 1], ["column", 7], ["lane_id", 3], ["created_at", "2017-05-01 16:51:54.008398"], ["updated_at", "2017-05-01 16:51:54.008398"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 8], ["row", 1], ["column", 8], ["lane_id", 3], ["created_at", "2017-05-01 16:51:54.009555"], ["updated_at", "2017-05-01 16:51:54.009555"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 9], ["row", 1], ["column", 9], ["lane_id", 3], ["created_at", "2017-05-01 16:51:54.010543"], ["updated_at", "2017-05-01 16:51:54.010543"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 10], ["row", 1], ["column", 10], ["lane_id", 3], ["created_at", "2017-05-01 16:51:54.011544"], ["updated_at", "2017-05-01 16:51:54.011544"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 10], ["row", 2], ["column", 1], ["lane_id", 3], ["created_at", "2017-05-01 16:51:54.012529"], ["updated_at", "2017-05-01 16:51:54.012529"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 11], ["row", 2], ["column", 2], ["lane_id", 3], ["created_at", "2017-05-01 16:51:54.013457"], ["updated_at", "2017-05-01 16:51:54.013457"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 12], ["row", 2], ["column", 3], ["lane_id", 3], ["created_at", "2017-05-01 16:51:54.014509"], ["updated_at", "2017-05-01 16:51:54.014509"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 13], ["row", 2], ["column", 4], ["lane_id", 3], ["created_at", "2017-05-01 16:51:54.015553"], ["updated_at", "2017-05-01 16:51:54.015553"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 14], ["row", 2], ["column", 5], ["lane_id", 3], ["created_at", "2017-05-01 16:51:54.016531"], ["updated_at", "2017-05-01 16:51:54.016531"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 15], ["row", 2], ["column", 6], ["lane_id", 3], ["created_at", "2017-05-01 16:51:54.017527"], ["updated_at", "2017-05-01 16:51:54.017527"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 16], ["row", 2], ["column", 7], ["lane_id", 3], ["created_at", "2017-05-01 16:51:54.018446"], ["updated_at", "2017-05-01 16:51:54.018446"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 17], ["row", 2], ["column", 8], ["lane_id", 3], ["created_at", "2017-05-01 16:51:54.019389"], ["updated_at", "2017-05-01 16:51:54.019389"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 18], ["row", 2], ["column", 9], ["lane_id", 3], ["created_at", "2017-05-01 16:51:54.020432"], ["updated_at", "2017-05-01 16:51:54.020432"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 19], ["row", 2], ["column", 10], ["lane_id", 3], ["created_at", "2017-05-01 16:51:54.021451"], ["updated_at", "2017-05-01 16:51:54.021451"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["row", 10], ["column", 2], ["plane_id", 2], ["created_at", "2017-05-01 16:51:57.495927"], ["updated_at", "2017-05-01 16:51:57.495927"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 1], ["row", 1], ["column", 1], ["lane_id", 4], ["created_at", "2017-05-01 16:51:57.497333"], ["updated_at", "2017-05-01 16:51:57.497333"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 2], ["row", 1], ["column", 2], ["lane_id", 4], ["created_at", "2017-05-01 16:51:57.498452"], ["updated_at", "2017-05-01 16:51:57.498452"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 2], ["row", 2], ["column", 1], ["lane_id", 4], ["created_at", "2017-05-01 16:51:57.499614"], ["updated_at", "2017-05-01 16:51:57.499614"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 3], ["row", 2], ["column", 2], ["lane_id", 4], ["created_at", "2017-05-01 16:51:57.500745"], ["updated_at", "2017-05-01 16:51:57.500745"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 3], ["row", 3], ["column", 1], ["lane_id", 4], ["created_at", "2017-05-01 16:51:57.501889"], ["updated_at", "2017-05-01 16:51:57.501889"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 4], ["row", 3], ["column", 2], ["lane_id", 4], ["created_at", "2017-05-01 16:51:57.502952"], ["updated_at", "2017-05-01 16:51:57.502952"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 4], ["row", 4], ["column", 1], ["lane_id", 4], ["created_at", "2017-05-01 16:51:57.504007"], ["updated_at", "2017-05-01 16:51:57.504007"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 5], ["row", 4], ["column", 2], ["lane_id", 4], ["created_at", "2017-05-01 16:51:57.505115"], ["updated_at", "2017-05-01 16:51:57.505115"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 5], ["row", 5], ["column", 1], ["lane_id", 4], ["created_at", "2017-05-01 16:51:57.506111"], ["updated_at", "2017-05-01 16:51:57.506111"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 6], ["row", 5], ["column", 2], ["lane_id", 4], ["created_at", "2017-05-01 16:51:57.507068"], ["updated_at", "2017-05-01 16:51:57.507068"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 6], ["row", 6], ["column", 1], ["lane_id", 4], ["created_at", "2017-05-01 16:51:57.508158"], ["updated_at", "2017-05-01 16:51:57.508158"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 7], ["row", 6], ["column", 2], ["lane_id", 4], ["created_at", "2017-05-01 16:51:57.509952"], ["updated_at", "2017-05-01 16:51:57.509952"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 7], ["row", 7], ["column", 1], ["lane_id", 4], ["created_at", "2017-05-01 16:51:57.511148"], ["updated_at", "2017-05-01 16:51:57.511148"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 8], ["row", 7], ["column", 2], ["lane_id", 4], ["created_at", "2017-05-01 16:51:57.512312"], ["updated_at", "2017-05-01 16:51:57.512312"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 8], ["row", 8], ["column", 1], ["lane_id", 4], ["created_at", "2017-05-01 16:51:57.513336"], ["updated_at", "2017-05-01 16:51:57.513336"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 9], ["row", 8], ["column", 2], ["lane_id", 4], ["created_at", "2017-05-01 16:51:57.514374"], ["updated_at", "2017-05-01 16:51:57.514374"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 9], ["row", 9], ["column", 1], ["lane_id", 4], ["created_at", "2017-05-01 16:51:57.515368"], ["updated_at", "2017-05-01 16:51:57.515368"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 10], ["row", 9], ["column", 2], ["lane_id", 4], ["created_at", "2017-05-01 16:51:57.516428"], ["updated_at", "2017-05-01 16:51:57.516428"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 10], ["row", 10], ["column", 1], ["lane_id", 4], ["created_at", "2017-05-01 16:51:57.517455"], ["updated_at", "2017-05-01 16:51:57.517455"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 11], ["row", 10], ["column", 2], ["lane_id", 4], ["created_at", "2017-05-01 16:51:57.518435"], ["updated_at", "2017-05-01 16:51:57.518435"]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  ORDER BY "lanes"."id" ASC[0m  [["plane_id", 2]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "lanes" SET "number" = 1 WHERE "lanes"."id" = ?  [["id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "lanes" SET "number" = 2 WHERE "lanes"."id" = ?[0m  [["id", 4]]
  [1m[35mLane Load (0.0ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  ORDER BY "lanes"."id" ASC  [["plane_id", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" WHERE "seats"."lane_id" = ?  ORDER BY "seats"."number" ASC[0m  [["lane_id", 3]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 0], ["updated_at", "2017-05-01 16:51:57.523338"], ["id", 19]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 16:51:57.524757"], ["id", 28]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 16:51:57.526078"], ["id", 20]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 16:51:57.527701"], ["id", 21]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 16:51:57.529334"], ["id", 22]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 16:51:57.530802"], ["id", 23]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 16:51:57.532192"], ["id", 24]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 16:51:57.533485"], ["id", 25]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 16:51:57.534622"], ["id", 26]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 16:51:57.535723"], ["id", 27]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 0], ["updated_at", "2017-05-01 16:51:57.536873"], ["id", 29]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 16:51:57.537982"], ["id", 38]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 16:51:57.539147"], ["id", 30]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 16:51:57.540355"], ["id", 31]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 16:51:57.542192"], ["id", 32]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 16:51:57.544781"], ["id", 33]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 16:51:57.546590"], ["id", 34]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 16:51:57.548015"], ["id", 35]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 16:51:57.549150"], ["id", 36]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 16:51:57.550413"], ["id", 37]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" WHERE "seats"."lane_id" = ?  ORDER BY "seats"."number" ASC  [["lane_id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 16:51:57.552658"], ["id", 39]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 0], ["updated_at", "2017-05-01 16:51:57.555053"], ["id", 40]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 16:51:57.556235"], ["id", 41]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 0], ["updated_at", "2017-05-01 16:51:57.557487"], ["id", 42]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 16:51:57.558968"], ["id", 43]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 0], ["updated_at", "2017-05-01 16:51:57.561836"], ["id", 44]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 16:51:57.564692"], ["id", 45]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 0], ["updated_at", "2017-05-01 16:51:57.567020"], ["id", 46]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 16:51:57.568320"], ["id", 47]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 0], ["updated_at", "2017-05-01 16:51:57.569454"], ["id", 48]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 16:51:57.570625"], ["id", 49]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 0], ["updated_at", "2017-05-01 16:51:57.571767"], ["id", 50]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 16:51:57.572838"], ["id", 51]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 0], ["updated_at", "2017-05-01 16:51:57.574088"], ["id", 52]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 16:51:57.576385"], ["id", 53]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 0], ["updated_at", "2017-05-01 16:51:57.577543"], ["id", 54]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 16:51:57.578550"], ["id", 55]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 0], ["updated_at", "2017-05-01 16:51:57.579508"], ["id", 56]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 16:51:57.580445"], ["id", 57]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 0], ["updated_at", "2017-05-01 16:51:57.581382"], ["id", 58]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/planes
Completed 302 Found in 7841ms (ActiveRecord: 9.0ms)


Started GET "/planes" for ::1 at 2017-05-01 22:21:57 +0530
Processing by PlanesController#index as HTML
  [1m[35mPlane Load (0.2ms)[0m  SELECT "planes".* FROM "planes"
  Rendered planes/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 29ms (Views: 27.5ms | ActiveRecord: 0.2ms)


Started GET "/planes/2" for ::1 at 2017-05-01 22:22:06 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC  [["plane_id", 2], ["status", 1]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?[0m  [["plane_id", 2]]
  Rendered planes/show.html.erb within layouts/application (10.3ms)
Completed 200 OK in 40ms (Views: 26.3ms | ActiveRecord: 1.2ms)


Started POST "/planes/2/book_tickets" for ::1 at 2017-05-01 22:22:14 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ivALhY+DJN+1JUhD5NI6CruhaQ5MGZS0X1xUwHAt0pKItpwt4ILuvL1p/NoIFsdSmEtlknw72hKv4UgKl+ipBg==", "count"=>"10", "plane_id"=>"2"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 2], ["status", 0]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 2], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 16:52:14.720013"], ["id", 28]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 2], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 16:52:14.725979"], ["id", 39]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 2], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 16:52:14.731246"], ["id", 38]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 2], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 16:52:14.736674"], ["id", 41]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 2], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 16:52:14.741518"], ["id", 43]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 2], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 16:52:14.746558"], ["id", 45]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 2], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 7], ["status", 1], ["updated_at", "2017-05-01 16:52:14.751907"], ["id", 47]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 2], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 8], ["status", 1], ["updated_at", "2017-05-01 16:52:14.756764"], ["id", 49]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 2], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 9], ["status", 1], ["updated_at", "2017-05-01 16:52:14.763086"], ["id", 51]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.3ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 2], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 10], ["status", 1], ["updated_at", "2017-05-01 16:52:14.770776"], ["id", 53]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC  [["plane_id", 2], ["status", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
Completed 200 OK in 76ms (Views: 0.6ms | ActiveRecord: 16.1ms)


Started POST "/planes/2/book_tickets" for ::1 at 2017-05-01 22:22:18 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ivALhY+DJN+1JUhD5NI6CruhaQ5MGZS0X1xUwHAt0pKItpwt4ILuvL1p/NoIFsdSmEtlknw72hKv4UgKl+ipBg==", "count"=>"10", "plane_id"=>"2"}
  [1m[36mPlane Load (0.4ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 2], ["status", 0]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 2], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 11], ["status", 1], ["updated_at", "2017-05-01 16:52:18.850710"], ["id", 55]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 2], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 12], ["status", 1], ["updated_at", "2017-05-01 16:52:18.857024"], ["id", 57]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 2], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 13], ["status", 1], ["updated_at", "2017-05-01 16:52:18.863751"], ["id", 19]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 2], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 14], ["status", 1], ["updated_at", "2017-05-01 16:52:18.869391"], ["id", 40]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 2], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 15], ["status", 1], ["updated_at", "2017-05-01 16:52:18.876800"], ["id", 29]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 2], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 16], ["status", 1], ["updated_at", "2017-05-01 16:52:18.882304"], ["id", 42]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 2], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 17], ["status", 1], ["updated_at", "2017-05-01 16:52:18.889645"], ["id", 44]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 2], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 18], ["status", 1], ["updated_at", "2017-05-01 16:52:18.898848"], ["id", 46]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 2], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 19], ["status", 1], ["updated_at", "2017-05-01 16:52:18.907273"], ["id", 48]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 2], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 20], ["status", 1], ["updated_at", "2017-05-01 16:52:18.913163"], ["id", 50]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC[0m  [["plane_id", 2], ["status", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
Completed 200 OK in 90ms (Views: 0.7ms | ActiveRecord: 18.7ms)


Started POST "/planes/2/book_tickets" for ::1 at 2017-05-01 22:22:28 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ivALhY+DJN+1JUhD5NI6CruhaQ5MGZS0X1xUwHAt0pKItpwt4ILuvL1p/NoIFsdSmEtlknw72hKv4UgKl+ipBg==", "count"=>"10", "plane_id"=>"2"}
  [1m[35mPlane Load (0.1ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?[0m  [["plane_id", 2], ["status", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.8ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 2], ["status", 1]]
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 21], ["status", 1], ["updated_at", "2017-05-01 16:52:28.709800"], ["id", 52]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 2], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 22], ["status", 1], ["updated_at", "2017-05-01 16:52:28.721183"], ["id", 54]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 2], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 23], ["status", 1], ["updated_at", "2017-05-01 16:52:28.727999"], ["id", 56]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 2], ["status", 1]]
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 24], ["status", 1], ["updated_at", "2017-05-01 16:52:28.734723"], ["id", 58]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 2], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 2], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 25], ["status", 1], ["updated_at", "2017-05-01 16:52:28.741778"], ["id", 20]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 2], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 2], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 26], ["status", 1], ["updated_at", "2017-05-01 16:52:28.749136"], ["id", 21]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 2], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 2], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 27], ["status", 1], ["updated_at", "2017-05-01 16:52:28.764173"], ["id", 22]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.3ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.4ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 2], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 2], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 28], ["status", 1], ["updated_at", "2017-05-01 16:52:28.773780"], ["id", 23]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 2], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 2], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 29], ["status", 1], ["updated_at", "2017-05-01 16:52:28.781639"], ["id", 24]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 2], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 2], ["status", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 30], ["status", 1], ["updated_at", "2017-05-01 16:52:28.788651"], ["id", 25]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC  [["plane_id", 2], ["status", 1]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 3]]
Completed 200 OK in 117ms (Views: 1.2ms | ActiveRecord: 20.9ms)


Started POST "/planes/2/book_tickets" for ::1 at 2017-05-01 22:22:37 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ivALhY+DJN+1JUhD5NI6CruhaQ5MGZS0X1xUwHAt0pKItpwt4ILuvL1p/NoIFsdSmEtlknw72hKv4UgKl+ipBg==", "count"=>"5", "plane_id"=>"2"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 2], ["status", 0]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 2], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.4ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 2], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 31], ["status", 1], ["updated_at", "2017-05-01 16:52:37.226243"], ["id", 26]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 2], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 2], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 32], ["status", 1], ["updated_at", "2017-05-01 16:52:37.235169"], ["id", 27]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 2], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 2], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 33], ["status", 1], ["updated_at", "2017-05-01 16:52:37.242158"], ["id", 30]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 2], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 2], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 34], ["status", 1], ["updated_at", "2017-05-01 16:52:37.248513"], ["id", 31]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 2], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 2], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 35], ["status", 1], ["updated_at", "2017-05-01 16:52:37.255469"], ["id", 32]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC[0m  [["plane_id", 2], ["status", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 3]]
Completed 200 OK in 75ms (Views: 1.2ms | ActiveRecord: 11.4ms)


Started POST "/planes/2/book_tickets" for ::1 at 2017-05-01 22:22:46 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ivALhY+DJN+1JUhD5NI6CruhaQ5MGZS0X1xUwHAt0pKItpwt4ILuvL1p/NoIFsdSmEtlknw72hKv4UgKl+ipBg==", "count"=>"6", "plane_id"=>"2"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 2], ["status", 0]]
Completed 422 Unprocessable Entity in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started POST "/planes/2/book_tickets" for ::1 at 2017-05-01 22:22:50 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ivALhY+DJN+1JUhD5NI6CruhaQ5MGZS0X1xUwHAt0pKItpwt4ILuvL1p/NoIFsdSmEtlknw72hKv4UgKl+ipBg==", "count"=>"5", "plane_id"=>"2"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 2], ["status", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 2], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 2], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 36], ["status", 1], ["updated_at", "2017-05-01 16:52:50.136513"], ["id", 33]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 2], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 2], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 37], ["status", 1], ["updated_at", "2017-05-01 16:52:50.147320"], ["id", 34]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 2], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 2], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 38], ["status", 1], ["updated_at", "2017-05-01 16:52:50.155236"], ["id", 35]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 2], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 2], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 39], ["status", 1], ["updated_at", "2017-05-01 16:52:50.164365"], ["id", 36]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 2], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 2], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 2], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.4ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 2], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 40], ["status", 1], ["updated_at", "2017-05-01 16:52:50.180207"], ["id", 37]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.4ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC[0m  [["plane_id", 2], ["status", 1]]
  [1m[35mLane Load (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 3]]
Completed 200 OK in 83ms (Views: 2.2ms | ActiveRecord: 11.4ms)


Started GET "/" for ::1 at 2017-05-02 00:56:35 +0530
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomeController#index as HTML
  Rendered home/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 314ms (Views: 305.4ms | ActiveRecord: 0.0ms)


Started GET "/assets/plane.self-e3769b06ad6f0ddd21213406166d46a45c5adfc721471ba63d00398ac5b04a51.js?body=1" for ::1 at 2017-05-02 00:56:36 +0530


Started GET "/assets/plane.self-4350be5f268e50b0a139937177d3177991a13a6a35f5d519625531618aa3b6fd.css?body=1" for ::1 at 2017-05-02 00:56:41 +0530


Started GET "/planes/new" for ::1 at 2017-05-02 00:56:46 +0530
Processing by PlanesController#new as HTML
  Rendered planes/_form.html.erb (45.3ms)
  Rendered planes/new.html.erb within layouts/application (49.7ms)
Completed 200 OK in 98ms (Views: 79.6ms | ActiveRecord: 0.6ms)


Started POST "/planes" for ::1 at 2017-05-02 00:57:19 +0530
Processing by PlanesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"pKtlZoNYE84L2EOajG+/yL446+KsOCv8O9t9bjFZ9der+aKEOk8B4PKfp7Y7V8I4smtHnwxwxYNirZv39uPI4w==", "plane"=>{"name"=>"Hey", "lanes_attributes"=>{"1493666810498"=>{"row"=>"2", "column"=>"3", "_destroy"=>"false"}, "1493666811787"=>{"row"=>"3", "column"=>"4", "_destroy"=>"false"}, "1493666812496"=>{"row"=>"3", "column"=>"2", "_destroy"=>"false"}, "1493666813183"=>{"row"=>"4", "column"=>"3", "_destroy"=>"false"}}}, "commit"=>"Create Plane"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "planes" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Hey"], ["created_at", "2017-05-01 19:27:19.300102"], ["updated_at", "2017-05-01 19:27:19.300102"]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["row", 2], ["column", 3], ["plane_id", 3], ["created_at", "2017-05-01 19:27:19.322718"], ["updated_at", "2017-05-01 19:27:19.322718"]]
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 1], ["row", 1], ["column", 1], ["lane_id", 5], ["created_at", "2017-05-01 19:27:19.324898"], ["updated_at", "2017-05-01 19:27:19.324898"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 2], ["row", 1], ["column", 2], ["lane_id", 5], ["created_at", "2017-05-01 19:27:19.327581"], ["updated_at", "2017-05-01 19:27:19.327581"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 3], ["row", 1], ["column", 3], ["lane_id", 5], ["created_at", "2017-05-01 19:27:19.328532"], ["updated_at", "2017-05-01 19:27:19.328532"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 3], ["row", 2], ["column", 1], ["lane_id", 5], ["created_at", "2017-05-01 19:27:19.329957"], ["updated_at", "2017-05-01 19:27:19.329957"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 4], ["row", 2], ["column", 2], ["lane_id", 5], ["created_at", "2017-05-01 19:27:19.331134"], ["updated_at", "2017-05-01 19:27:19.331134"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 5], ["row", 2], ["column", 3], ["lane_id", 5], ["created_at", "2017-05-01 19:27:19.332058"], ["updated_at", "2017-05-01 19:27:19.332058"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["row", 3], ["column", 4], ["plane_id", 3], ["created_at", "2017-05-01 19:27:19.337846"], ["updated_at", "2017-05-01 19:27:19.337846"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 1], ["row", 1], ["column", 1], ["lane_id", 6], ["created_at", "2017-05-01 19:27:19.339049"], ["updated_at", "2017-05-01 19:27:19.339049"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 2], ["row", 1], ["column", 2], ["lane_id", 6], ["created_at", "2017-05-01 19:27:19.340230"], ["updated_at", "2017-05-01 19:27:19.340230"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 3], ["row", 1], ["column", 3], ["lane_id", 6], ["created_at", "2017-05-01 19:27:19.341374"], ["updated_at", "2017-05-01 19:27:19.341374"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 4], ["row", 1], ["column", 4], ["lane_id", 6], ["created_at", "2017-05-01 19:27:19.342610"], ["updated_at", "2017-05-01 19:27:19.342610"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 4], ["row", 2], ["column", 1], ["lane_id", 6], ["created_at", "2017-05-01 19:27:19.343466"], ["updated_at", "2017-05-01 19:27:19.343466"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 5], ["row", 2], ["column", 2], ["lane_id", 6], ["created_at", "2017-05-01 19:27:19.344750"], ["updated_at", "2017-05-01 19:27:19.344750"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 6], ["row", 2], ["column", 3], ["lane_id", 6], ["created_at", "2017-05-01 19:27:19.345891"], ["updated_at", "2017-05-01 19:27:19.345891"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 7], ["row", 2], ["column", 4], ["lane_id", 6], ["created_at", "2017-05-01 19:27:19.346710"], ["updated_at", "2017-05-01 19:27:19.346710"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 7], ["row", 3], ["column", 1], ["lane_id", 6], ["created_at", "2017-05-01 19:27:19.348024"], ["updated_at", "2017-05-01 19:27:19.348024"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 8], ["row", 3], ["column", 2], ["lane_id", 6], ["created_at", "2017-05-01 19:27:19.349231"], ["updated_at", "2017-05-01 19:27:19.349231"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 9], ["row", 3], ["column", 3], ["lane_id", 6], ["created_at", "2017-05-01 19:27:19.350460"], ["updated_at", "2017-05-01 19:27:19.350460"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 10], ["row", 3], ["column", 4], ["lane_id", 6], ["created_at", "2017-05-01 19:27:19.351574"], ["updated_at", "2017-05-01 19:27:19.351574"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["row", 3], ["column", 2], ["plane_id", 3], ["created_at", "2017-05-01 19:27:19.355518"], ["updated_at", "2017-05-01 19:27:19.355518"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 1], ["row", 1], ["column", 1], ["lane_id", 7], ["created_at", "2017-05-01 19:27:19.356790"], ["updated_at", "2017-05-01 19:27:19.356790"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 2], ["row", 1], ["column", 2], ["lane_id", 7], ["created_at", "2017-05-01 19:27:19.359012"], ["updated_at", "2017-05-01 19:27:19.359012"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 2], ["row", 2], ["column", 1], ["lane_id", 7], ["created_at", "2017-05-01 19:27:19.360614"], ["updated_at", "2017-05-01 19:27:19.360614"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 3], ["row", 2], ["column", 2], ["lane_id", 7], ["created_at", "2017-05-01 19:27:19.362569"], ["updated_at", "2017-05-01 19:27:19.362569"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 3], ["row", 3], ["column", 1], ["lane_id", 7], ["created_at", "2017-05-01 19:27:19.363840"], ["updated_at", "2017-05-01 19:27:19.363840"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 4], ["row", 3], ["column", 2], ["lane_id", 7], ["created_at", "2017-05-01 19:27:19.365034"], ["updated_at", "2017-05-01 19:27:19.365034"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "lanes" ("row", "column", "plane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["row", 4], ["column", 3], ["plane_id", 3], ["created_at", "2017-05-01 19:27:19.370850"], ["updated_at", "2017-05-01 19:27:19.370850"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 1], ["row", 1], ["column", 1], ["lane_id", 8], ["created_at", "2017-05-01 19:27:19.371919"], ["updated_at", "2017-05-01 19:27:19.371919"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 2], ["row", 1], ["column", 2], ["lane_id", 8], ["created_at", "2017-05-01 19:27:19.372931"], ["updated_at", "2017-05-01 19:27:19.372931"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 3], ["row", 1], ["column", 3], ["lane_id", 8], ["created_at", "2017-05-01 19:27:19.374021"], ["updated_at", "2017-05-01 19:27:19.374021"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 3], ["row", 2], ["column", 1], ["lane_id", 8], ["created_at", "2017-05-01 19:27:19.375161"], ["updated_at", "2017-05-01 19:27:19.375161"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 4], ["row", 2], ["column", 2], ["lane_id", 8], ["created_at", "2017-05-01 19:27:19.376063"], ["updated_at", "2017-05-01 19:27:19.376063"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 5], ["row", 2], ["column", 3], ["lane_id", 8], ["created_at", "2017-05-01 19:27:19.377068"], ["updated_at", "2017-05-01 19:27:19.377068"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 5], ["row", 3], ["column", 1], ["lane_id", 8], ["created_at", "2017-05-01 19:27:19.377960"], ["updated_at", "2017-05-01 19:27:19.377960"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 6], ["row", 3], ["column", 2], ["lane_id", 8], ["created_at", "2017-05-01 19:27:19.378865"], ["updated_at", "2017-05-01 19:27:19.378865"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 7], ["row", 3], ["column", 3], ["lane_id", 8], ["created_at", "2017-05-01 19:27:19.379863"], ["updated_at", "2017-05-01 19:27:19.379863"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 7], ["row", 4], ["column", 1], ["lane_id", 8], ["created_at", "2017-05-01 19:27:19.380849"], ["updated_at", "2017-05-01 19:27:19.380849"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["number", 8], ["row", 4], ["column", 2], ["lane_id", 8], ["created_at", "2017-05-01 19:27:19.381793"], ["updated_at", "2017-05-01 19:27:19.381793"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "seats" ("number", "row", "column", "lane_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["number", 9], ["row", 4], ["column", 3], ["lane_id", 8], ["created_at", "2017-05-01 19:27:19.382818"], ["updated_at", "2017-05-01 19:27:19.382818"]]
  [1m[35mLane Load (0.1ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  ORDER BY "lanes"."id" ASC  [["plane_id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "lanes" SET "number" = 1 WHERE "lanes"."id" = ?[0m  [["id", 5]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "lanes" SET "number" = 2 WHERE "lanes"."id" = ?  [["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "lanes" SET "number" = 3 WHERE "lanes"."id" = ?[0m  [["id", 7]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "lanes" SET "number" = 4 WHERE "lanes"."id" = ?  [["id", 8]]
  [1m[36mLane Load (0.0ms)[0m  [1mSELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  ORDER BY "lanes"."id" ASC[0m  [["plane_id", 3]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" WHERE "seats"."lane_id" = ?  ORDER BY "seats"."number" ASC  [["lane_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 0], ["updated_at", "2017-05-01 19:27:19.395555"], ["id", 59]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 2], ["updated_at", "2017-05-01 19:27:19.396660"], ["id", 61]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 19:27:19.397515"], ["id", 60]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 0], ["updated_at", "2017-05-01 19:27:19.398338"], ["id", 62]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 19:27:19.399187"], ["id", 64]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 19:27:19.400042"], ["id", 63]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" WHERE "seats"."lane_id" = ?  ORDER BY "seats"."number" ASC[0m  [["lane_id", 6]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 2], ["updated_at", "2017-05-01 19:27:19.402100"], ["id", 65]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 19:27:19.403157"], ["id", 68]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 19:27:19.404065"], ["id", 66]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 19:27:19.404981"], ["id", 67]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 2], ["updated_at", "2017-05-01 19:27:19.405821"], ["id", 69]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 19:27:19.406732"], ["id", 72]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 19:27:19.407573"], ["id", 70]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 19:27:19.408426"], ["id", 71]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 2], ["updated_at", "2017-05-01 19:27:19.409245"], ["id", 73]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 19:27:19.410087"], ["id", 76]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 19:27:19.411038"], ["id", 74]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 19:27:19.412017"], ["id", 75]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" WHERE "seats"."lane_id" = ?  ORDER BY "seats"."number" ASC  [["lane_id", 7]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 19:27:19.413685"], ["id", 77]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 2], ["updated_at", "2017-05-01 19:27:19.414671"], ["id", 78]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 19:27:19.415581"], ["id", 79]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 2], ["updated_at", "2017-05-01 19:27:19.416402"], ["id", 80]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 19:27:19.417276"], ["id", 81]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 2], ["updated_at", "2017-05-01 19:27:19.418126"], ["id", 82]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" WHERE "seats"."lane_id" = ?  ORDER BY "seats"."number" ASC[0m  [["lane_id", 8]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 2], ["updated_at", "2017-05-01 19:27:19.419868"], ["id", 83]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 0], ["updated_at", "2017-05-01 19:27:19.420812"], ["id", 85]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 19:27:19.421678"], ["id", 84]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 19:27:19.422572"], ["id", 86]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 0], ["updated_at", "2017-05-01 19:27:19.423416"], ["id", 88]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 19:27:19.424308"], ["id", 87]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 2], ["updated_at", "2017-05-01 19:27:19.425160"], ["id", 89]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 0], ["updated_at", "2017-05-01 19:27:19.426024"], ["id", 91]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 1], ["updated_at", "2017-05-01 19:27:19.426835"], ["id", 90]]
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 2], ["updated_at", "2017-05-01 19:27:19.427714"], ["id", 92]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["kind", 0], ["updated_at", "2017-05-01 19:27:19.428674"], ["id", 94]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "seats" SET "kind" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["kind", 1], ["updated_at", "2017-05-01 19:27:19.429649"], ["id", 93]]
  [1m[35m (0.7ms)[0m  commit transaction
Redirected to http://localhost:3000/planes
Completed 302 Found in 144ms (ActiveRecord: 8.3ms)


Started GET "/planes" for ::1 at 2017-05-02 00:57:19 +0530
Processing by PlanesController#index as HTML
  [1m[36mPlane Load (0.2ms)[0m  [1mSELECT "planes".* FROM "planes"[0m
  Rendered planes/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 27ms (Views: 25.7ms | ActiveRecord: 0.2ms)


Started GET "/planes/3" for ::1 at 2017-05-02 00:57:22 +0530
Processing by PlanesController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mPlane Load (0.2ms)[0m  SELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC[0m  [["plane_id", 3], ["status", 1]]
  [1m[35mLane Load (0.2ms)[0m  SELECT "lanes".* FROM "lanes" WHERE "lanes"."plane_id" = ?  [["plane_id", 3]]
  Rendered planes/show.html.erb within layouts/application (20.3ms)
Completed 200 OK in 60ms (Views: 41.5ms | ActiveRecord: 0.6ms)


Started POST "/planes/3/book_tickets" for ::1 at 2017-05-02 00:58:04 +0530
Processing by PlanesController#book_tickets as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ma/l/JRcKD+QIireUpb1MZC/habLf+9FMhtbAUWy+gKW/SIeLUs6EWllzvLlrojBnOwp22s3ATprbb2YggjHNg==", "count"=>"30", "plane_id"=>"3"}
  [1m[36mPlane Load (0.1ms)[0m  [1mSELECT  "planes".* FROM "planes" WHERE "planes"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  [["plane_id", 3], ["status", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 3], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 1], ["status", 1], ["updated_at", "2017-05-01 19:28:04.815258"], ["id", 61]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 3], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 2], ["status", 1], ["updated_at", "2017-05-01 19:28:04.822115"], ["id", 65]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 3], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 3], ["status", 1], ["updated_at", "2017-05-01 19:28:04.828115"], ["id", 68]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 3], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 4], ["status", 1], ["updated_at", "2017-05-01 19:28:04.834150"], ["id", 77]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 3], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 5], ["status", 1], ["updated_at", "2017-05-01 19:28:04.839726"], ["id", 78]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 3], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 6], ["status", 1], ["updated_at", "2017-05-01 19:28:04.844957"], ["id", 83]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 3], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 7], ["status", 1], ["updated_at", "2017-05-01 19:28:04.850695"], ["id", 64]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 3], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 8], ["status", 1], ["updated_at", "2017-05-01 19:28:04.862740"], ["id", 69]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 3], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 9], ["status", 1], ["updated_at", "2017-05-01 19:28:04.868093"], ["id", 72]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 3], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 10], ["status", 1], ["updated_at", "2017-05-01 19:28:04.875571"], ["id", 79]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 3], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 11], ["status", 1], ["updated_at", "2017-05-01 19:28:04.880965"], ["id", 80]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.5ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 3], ["status", 1]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 12], ["status", 1], ["updated_at", "2017-05-01 19:28:04.889229"], ["id", 86]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 3], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 13], ["status", 1], ["updated_at", "2017-05-01 19:28:04.895413"], ["id", 73]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 3], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 14], ["status", 1], ["updated_at", "2017-05-01 19:28:04.900576"], ["id", 76]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 3], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 15], ["status", 1], ["updated_at", "2017-05-01 19:28:04.906532"], ["id", 81]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 3], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 16], ["status", 1], ["updated_at", "2017-05-01 19:28:04.913458"], ["id", 82]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 3], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 17], ["status", 1], ["updated_at", "2017-05-01 19:28:04.926285"], ["id", 89]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 3], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 18], ["status", 1], ["updated_at", "2017-05-01 19:28:04.931259"], ["id", 92]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 3], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.5ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 3], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 3], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 19], ["status", 1], ["updated_at", "2017-05-01 19:28:04.941928"], ["id", 59]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 3], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 3], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 20], ["status", 1], ["updated_at", "2017-05-01 19:28:04.947849"], ["id", 85]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 3], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 3], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 3], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 21], ["status", 1], ["updated_at", "2017-05-01 19:28:04.953987"], ["id", 62]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 3], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 3], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 22], ["status", 1], ["updated_at", "2017-05-01 19:28:04.961904"], ["id", 88]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 3], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1[0m  [["plane_id", 3], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1  [["plane_id", 3], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?  [["booking_order", 23], ["status", 1], ["updated_at", "2017-05-01 19:28:04.975143"], ["id", 91]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 0]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 3], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 3], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 24], ["status", 1], ["updated_at", "2017-05-01 19:28:04.980897"], ["id", 94]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 3], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.6ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.3ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 3], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 3], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 25], ["status", 1], ["updated_at", "2017-05-01 19:28:04.991912"], ["id", 60]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 3], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 3], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 3], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 26], ["status", 1], ["updated_at", "2017-05-01 19:28:04.998221"], ["id", 66]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 3], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 3], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 3], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 27], ["status", 1], ["updated_at", "2017-05-01 19:28:05.004746"], ["id", 67]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 3], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 3], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 3], ["status", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 28], ["status", 1], ["updated_at", "2017-05-01 19:28:05.013556"], ["id", 84]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 3], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.1ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 3], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 3], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 29], ["status", 1], ["updated_at", "2017-05-01 19:28:05.027688"], ["id", 63]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.1ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 2]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC  [["plane_id", 3], ["status", 0], ["kind", 0]]
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC[0m  [["plane_id", 3], ["status", 0], ["kind", 1]]
  [1m[35mSeat Load (0.2ms)[0m  SELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ? AND "seats"."kind" = ?  ORDER BY "seats"."row" ASC LIMIT 1  [["plane_id", 3], ["status", 0], ["kind", 1]]
  [1m[36mSeat Load (0.3ms)[0m  [1mSELECT  "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" DESC LIMIT 1[0m  [["plane_id", 3], ["status", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "seats" SET "booking_order" = ?, "status" = ?, "updated_at" = ? WHERE "seats"."id" = ?[0m  [["booking_order", 30], ["status", 1], ["updated_at", "2017-05-01 19:28:05.051397"], ["id", 70]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mSeat Load (0.2ms)[0m  [1mSELECT "seats".* FROM "seats" INNER JOIN "lanes" ON "seats"."lane_id" = "lanes"."id" WHERE "lanes"."plane_id" = ? AND "seats"."status" = ?  ORDER BY "seats"."booking_order" ASC[0m  [["plane_id", 3], ["status", 1]]
  [1m[35mLane Load (0.3ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mLane Load (0.1ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mLane Load (0.2ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "lanes".* FROM "lanes" WHERE "lanes"."id" = ? LIMIT 1[0m  [["id", 6]]
Completed 200 OK in 272ms (Views: 0.9ms | ActiveRecord: 49.2ms)
